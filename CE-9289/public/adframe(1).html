<!DOCTYPE html>
<!-- saved from url=(1849)https://mkt.forebase.ch/plugin/versions/v4.65y/adframe.htm#afdata=%7B%22adFrameId%22%3A604908%2C%22adFrameTm%22%3A1637343883909%2C%22unitCodes%22%3A%22unspecified%22%2C%22stageParams%22%3A%7B%22classID%22%3A%22%24adf_skin_gng%22%2C%22units%22%3A%224%22%2C%22int_style%22%3A%22int_white_radius_5%22%2C%22ss_dsp_bd%22%3A%22primochef_dispad_160x600_bd%22%2C%22ss_dsp_wf%22%3A%22primochef_dispad_160x600%22%2C%22ss_backup%22%3A%22ron_dispad_160x600_fbdirect%22%2C%22adfIdx%22%3A2%2C%22origin%22%3A%22primochef_ros_sec_skin_gng_avail_unt_R_avail%22%7D%2C%22lwparams%22%3A%7B%22lw_enabled%22%3Atrue%2C%22lw_reducer%22%3A%221%22%2C%22lw_sort%22%3A%22unspecified%22%2C%22lw_maxitem%22%3A%2240%22%2C%22lw_ogtype%22%3A%22article%22%2C%22lw_chan_rx%22%3A%22xyzyxfood-triboo_dktxyzyx832697198%22%2C%22lw_chan_tx%22%3A%22xyzyxfood-triboo_dktxyzyx832697198%22%7D%2C%22hostParams%22%3A%7B%22env%22%3Anull%2C%22adfmidx%22%3A2%2C%22versionFolder%22%3A%22v4.65y%22%2C%22publisher%22%3A%22101415162728%22%2C%22plcmId%22%3A%22primochef_ros%22%2C%22clientID%22%3A%2245b49f860150d29e09d7361221c2182b5c983f18ce030ce31e65%22%2C%22testGroup%22%3A2%2C%22isNewUser%22%3Atrue%2C%22testCase%22%3A%22B%22%2C%22bstfct%22%3A100%2C%22opdomId%22%3A2%2C%22imprID%22%3A%228eb9c413%22%2C%22hostScreenWidth%22%3A1920%2C%22hostScreenHeight%22%3A1055%2C%22hostBodyHeight%22%3A6823%2C%22versionTag%22%3A%22v4.65y%22%2C%22filterTag%22%3A%22_h100%22%2C%22startTime%22%3A1637343876307%2C%22actLayout%22%3A%22lyt_dkt%22%2C%22cfg_bd_mod%22%3Atrue%2C%22cfg_vid_mod%22%3Atrue%2C%22debugVars%22%3A%7B%22totStop%22%3Afalse%2C%22disableLocCache%22%3Afalse%2C%22disableBarLogic%22%3Afalse%2C%22logFilter%22%3A%22%22%2C%22showTags%22%3Afalse%2C%22shoeLx%22%3Afalse%2C%22enxtn%22%3Afalse%2C%22dpx%22%3Afalse%2C%22pCode%22%3Anull%2C%22nts%22%3Afalse%2C%22init%22%3Atrue%7D%2C%22qsParams%22%3A%7B%7D%7D%7D -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style type="text/css" id="fmp_styles">.pop_overlay_wrap { visibility: hidden; position: absolute; top: 0; left: 0; right: 0; bottom: 0; } .pop_overlay_wrap.show { visibility: visible; } .pop_overlay_wait { visibility: hidden; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background:transparent; } .pop_overlay_wait.show { visibility: visible; opacity:0.4;  background-image:url(data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%C8%00%00%00%24%08%06%00%00%00%CC%DEug%00%00%00%19tEXtSoftware%00Adobe%20ImageReadyq%C9e%3C%00%00%03%22iTXtXML%3Acom.adobe.xmp%00%00%00%00%00%3C%3Fxpacket%20begin%3D%22%EF%BB%BF%22%20id%3D%22W5M0MpCehiHzreSzNTczkc9d%22%3F%3E%20%3Cx%3Axmpmeta%20xmlns%3Ax%3D%22adobe%3Ans%3Ameta%2F%22%20x%3Axmptk%3D%22Adobe%20XMP%20Core%205.5-c014%2079.151481%2C%202013%2F03%2F13-12%3A09%3A15%20%20%20%20%20%20%20%20%22%3E%20%3Crdf%3ARDF%20xmlns%3Ardf%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%22%3E%20%3Crdf%3ADescription%20rdf%3Aabout%3D%22%22%20xmlns%3AxmpMM%3D%22http%3A%2F%2Fns.adobe.com%2Fxap%2F1.0%2Fmm%2F%22%20xmlns%3AstRef%3D%22http%3A%2F%2Fns.adobe.com%2Fxap%2F1.0%2FsType%2FResourceRef%23%22%20xmlns%3Axmp%3D%22http%3A%2F%2Fns.adobe.com%2Fxap%2F1.0%2F%22%20xmpMM%3ADocumentID%3D%22xmp.did%3ADE6A97D95E8711E38C6D8631AD63C769%22%20xmpMM%3AInstanceID%3D%22xmp.iid%3ADE6A97D85E8711E38C6D8631AD63C769%22%20xmp%3ACreatorTool%3D%22Adobe%20Photoshop%20CS6%20%28Windows%29%22%3E%20%3CxmpMM%3ADerivedFrom%20stRef%3AinstanceID%3D%22xmp.iid%3AE96E8A19451711E29178C2958B9F1AD4%22%20stRef%3AdocumentID%3D%22xmp.did%3AE96E8A1A451711E29178C2958B9F1AD4%22%2F%3E%20%3C%2Frdf%3ADescription%3E%20%3C%2Frdf%3ARDF%3E%20%3C%2Fx%3Axmpmeta%3E%20%3C%3Fxpacket%20end%3D%22r%22%3F%3E%11%E4%CA%E5%00%00%0F%0FIDATx%DA%EC%9C%09%90V%C5%11%C7%E7%DB%5D%F6%E6%16%144%5C%02%8A%8A%07KTD%83%12c%94%A8%84XQQ%89W%A9%18%8DV%0E%A3%89%11%01%93%28%1E%89bT%E2%1D%8D%82%07%24%11%0FL%8C%C6x%A1%B0%F1%8A%86%A0%A0%207%EC%C1%B1%B0%E7%F7e%BA%F8M%ED8%BC%7B%B7j%2B%D4%EB%AA.%96%DD%F9%DE%9B%D7%D3%FF%EE%7F%F7%CC%FB2%8B%17%2FV%A9%A4%D2N%B2%8F%D6YZ%BF%E5%F3%F7MZ%FBk%DD%DEN%F7%FB%B6%D6%3F%05%FC%FD%07Z%7F%AF%B5%C9o%40EEE%E0%0D%F2%D25M%A5%9D%24%A3u%A8%D6%C3%02%C6%EC%A1%F5%3C%C6%B6U%F6%E2ZAr%8A%D6%D2%B6%DC%24%05H%2A%ED%25%7D%B4%FEHk%DF%90q%3F%D7%BAw%1B%EFU%40%96%1A%1F2%EE%04%AD%DFk%8B%9F%A7%00I%A5%3D%24_%EB%89Z%C7E%18%2B%E0%B8%06%27O%2Ar%8D%1FF%1C%7B9%B4%AE%5D%01R%A8%B5%8B%D6%EEhW%AD%9D%B5%16c%8CTRqk%8FKbP%A7%B3%B4%1E%9E%F0%5EEZ%2F%D0z%60%C4%F1B%FB%26%B7%25U%D9%F2%15%AD%FBj%3DX%EB%00%40%21%D2%A8u%AB%D6%0DZ7%F2%EFf%AD%2B%B4%AE%DD%0D%16x%3F%F8%F1v%9EsEPa%97%CA%97%A4%84Z%20%8E%C3K%D0%FD%29%F4gK%CC%FB%1D%AA%F5%C2%98%9F%B9R%EB%D3Z%17%25%05H%27%AD%27i%BDT%EB%282%86%9F%88%E3%EC%E0%B3Wk%FD%DDn%B0%C8%17%F2%EC%B2X_h%BD%5B%EB%1C%02C%2A%E1%CE%FE%FD%04%9F%1BO%16x%2Bf%23%E0%94%045L%11Y%241%40%24e%FD%26b%C5%DF%09%15%E7%F9x7Y%E4rK%A5%C8%1C%A8%F5%1FZW%A6%FE%1F%2A%92u%DF%C6q%E3%88%F8%CE%AA%04%F7%FB%88%00%5D%12%F3s%EF%24%A5X%13%B5%5E%E7%03%8E%1A%AD%B5Z%1B%18%5BB%7D%22Y%E4I%AD%2F%EF%26%8B%DC%E2%FC%BF%B7%D6n%29%40%22%89%F8%C7%AF%A1X%7B%C6%B0%F7%ADdk%11i%D9%9EA%DD%DB%60%D529%D6%E1%05%AD%AF%F1%FF%E7%F8%FFwb%CCQ%FC%F4A%AB%A1%20%CD%84%23%A5L%A8%AC%AC%CC8%C1_%9E%E7%FE%8A%8A%8Az%03%90%198%84-%C2%C3%1Fg%22%B5d%8B%02%8At%03%90%7F%ED%E6%0B%DF5%F5%FD%C8%F2%9E%D6%87%A1%DCQ%E4uj%02%E3%83R%B4%DF%16B%C7%8E%A5%FE%DD%02%B8%C6%02%9E0%D9%A6u%BAUS%1EHY%D0%CFg%7CVk%95%06%CE%1C%0D%92%5C%01%85%B9%2B%9Fh%BDI%EB%E7%FF%A7%0BV%04%98%25%E2%D4yd%88%28R%BC%9B%3As%21l%21%0B%3Djn%87kJ%B4%7DL%EB%04%BAFA%22%F4%E8%06%82%B0b%FC%95%21%9F9%80%3Ag%1A%FF%97Z%E2%11%ADWD%98%DB%1C%AB%CE%915%BD8%00%1C%22%D2%D9%9D%AA%F5%EFZ7%F8%F5%A2%A5CU%15%D3H%92%B2%06%93%26%F3%AD%82w%91e%8C%20%D9%13t%0F%22%A3%15%E3%E8%F9%A4%5Ds%BD%25%F0%D0%06%E7%F3%F29%D9%3C%1AB%E1X%02%40%24%82%AC%D3%FA%1F%AD%7F%E1%D9%A2%888%D1pto%E6S%C7%B5%DE%E5zA2%90%85%E8m%CD%C7p%F6%8D%3C%C7%92%88s%E9%A9u%04%F5Qg%A2n%3D%CE%26%EB%F4%19A%CD%AF%A90%40%EB%A9jg%87R%E6R%06%40%C46k%B4~%8Am%AA%DB%00%12%A9%29%EED%83D%8E%86%BCb%81%F5%8A%10%87%B5%3BQ%B3%B5.%25%E0%3D%40f%09%DA%E3XGf2v%F9%AA%D6s%22%DCK%40%2B%FB%27S%0A%02%E8%C5%C1%DC%A0%14%27%5D%CB%C2f%9D%B1%17%C3%07%07%91%F2%8A%E0%90%A65%BC%1A%83%FC%D6c%012%2C%FC%8Fq%EC%1E%2C%A0%B9%A7%CD%0F%1BY%D0j%0A%AE%2B%A9%91%F2%E9P%5C%82%23%94%AB%5D%FB%F1-%8C%9D%A4%F5%0E%AD%CFF0%D2%14%1C%B1%0F%0EU%40%9A6%0E.Q%E9F%AD%CB%1CP%C9%06%D6h%9C%BA%27%F3%29%B2%1A%22%A6%0BX%8Dc%CA%D9%A5%17%7D%E60%98%EB%8D%24%80%94%C3%93%F3x%A6f%AE%25v%5E%A0v%EEd%BB%D1%F0%22%A2%EF%C0%00%DBH%D08_%EB%EDZ%E7%B5%A1%8E%13%BB%1E%A7%F5h%00%9Cs%EA%DD%1A%A2s%96y%8C%8E%E8%B0%A6%5B%26T%E9L%AE%2B%80%FC%25%BFkv%FC%D2%F8%CE%9D%04%0E%F3%BBi1%A8%F3dM%B3%1E%2F%08Hi%8F%B2%98%F9%18Z%8Cw%1F%0B%A2%88f%B30F%F7%80%C8%27N%5BAa%24%D1%E2%0D%E7A%86%D3%28%08%93%12%B4%97%D6%3F%02%96b%1C%E8%EA%90%07%97%FB%C8%3E%C7%F1%CC%27%9F%88%19%24%23%7C%E8I%19s%D8%9F%A0p%B9%D5%CDk%C0%11O%8A%B0%D8b%BF%83%28n%A7b%5B%DB%B1%8F%84%D7%0FR%D16gk%3D%BA%8D%97%01%F4%EE%21%B6%91%C0t%0C%99R%1CknB%90%AC%C4%1E%DD%3Dhm%06%7FZf%D9%F2%17%D83%AA%9C%8A%3E%03%28%1E%C3%9Fr%0E%18M%10Xc%01G%808%26%C6%BDd%8D%2F%29%08%E0%DF%03%9D%DF5X%7C%B5%3B%DC%EEh%15m%F7%B4%18%87%7B%0A%E7y%DFq%86%A0%A8%D4L%04%B6S%F9%ED%18%7B%2C%00q%C1%B1%16%87%C9%27%7D%17%7BD%E5%0F%A0%26I%25%0F%83%9F%8F%83%9BZg%BE%DA%B9%01%D6%C9%19%9F%F3%B1%95%00%E5fZ%A5%1F2%AE%84g%1C%E2%D3Vm%B2%EA%2C%FB%FA.%E5%9D%EAa%1B%D9%E4%DD%C4%5C%86%A8%2Fo%16%0B%18%7FB%11%BD%3E%81M%B2%D8~m%04%DB%9DC%E1%1DGJ%00%FD%7C%9EwG%04%AAk%82%C5t%15%FFh%D5%99Q%CF%C3%2C%A3%CDf%3A%01%B7%91%1E%ED%05o%22%C5%FE%13%A7%3E%94%D6%5D%B95F%E8%CA%BDj%E7fd%D6gaE%96%13Q%FF%CB%B8%AE%00%F60%E8%C86%A2%DED%90n%2F%D0Li%D3A%83%F2%E1%9D3%88%F8F%0Eaq%82%00%F2W%BA3%DBY%88%5E%16%95%B4%17%FA%2C%82E%25%BF%7B%0D~%5C%40%93%A3%8A%FA%A9%05%87%1E%C9gzX%D7%11jz%AE%DA%B9%BB%9C%85W%8F%F0%B0%C9%3D%D4%3F9%22%EF%1E%00%FE%EB%00%D4%88%D4%29%DF%F5%00%C7%3D%D8u%15%F3%3B%98%8E%CE%60k%CC~d%FB%87%126GF%93%19%1B%3D%28V-Q%3F%87m%B2%09%9Cv%8Bu%DD%5E%F8X%D6%C9X%05%FC%EEE%D6%B8%05%D0%F6%8By%AFM~%00YK%B4_%03%3F%AD%84%2F%2B%1C%7F%82%F3%60%3BpL%BB%9D%26%D7%5EH7%AC%A75v%24%0F5%3B%60bK%F9%FB%2A%2Be%E6%11%09Z%AC%A2%DE%3DZ%FD%0A%BCs%B9%F5%BB%F9%14%CA%F79%B5%C2%A0%10%E3%DC%0A%D8s%D6%1C%16%D0%3D%E9%EB%80%BE%BF%05%90%1A%D5z%90.k-%9E%C9%20%B3%99%DFt%27x%8C%B2%02N7%0FZ%25A%EA%0F%00%DF%D8%23%C3%B8%99N%A0%90%E7u7%EE%9Eg-V%3A%EB%3C%9Dg%B2%C1%3A2%21%40%A4%B8%BD%3B%A0p%CE%E1%E0%F3%C9%98%8F%92%81%A3%8A%00%ECZ~%EEB%86%BC%20%60%FC%5C%FE%DE%C8%9A%BC%19%F3y%1E%C9%0B%C8%18%92%F6o%21%E2%2F%B6%3A%01%13%9D%85U%80g%9A%95%FEM%21%FA%20%E9%DAM%AF%93%22%A4%C4%1C%8EehV%23Q%B2%1E%C7%E8%EF%11%11%D6%13Y%25%22%0E%A3%96%EAc9%AB%1Da%F6%08%E1%F6%9D%A0%95%8Dh%03%80%7F%D2%83%5B%0F%B2%28U%8E9%D6%F3%B9B%A2%F2%28%EA%8D%9Et%F6V8%D7%E9%C2%B5rV%D4%B3e%2C%00%9Dlq%FCf%E6%B5%9E%CE%9E%912%0F%27%DD%C4%EF%87%60%9Ba%FC%BC%D9%E3yz%27%00G%17%E66%94L%E9%A5%25%D4D%9D%60%01%BF%8A%D9-%BD%8B%A2%3B%033%B8%20%E0%5E%C5%F8%EA7%19_%09x%A3%8A%04%E9Yy%01Ho%B1%22%A0%9D%2A%0Fs%1C%AB%09d%EE%F0%E1%A4%AFz%B4y%FB%07%D0%AB%A8%FC%BF%AB%07P%CF%A2%B6%F8%84Z%E5%23%BAh%F7%3At0%C3%22%05%01%C4%AB%5E%A8s%1C%D1H%0F%0B%20%19%1A%01%D73%B6%0E%9E%FC%26%00%5B%83M%0E%08%B8_-4%CD%ED%CC%8C%80%26%AD%A5%5D%3A%8E%88%9Fql%D9%C3c%FE%93%B0%C9R%FE5%3F%FF%D9%278%C4%11%B9%D7Q8dXM%3A%92%0Ed%86%B6%FD%0D%11%FD%609%80%CA%F1%7CW%AB%F0%BD%AA%3C%3A%7B%DD%08Vw%D2%99%0D%93%1C%01%BF.%C9%FB%20%EE%91%94%E6%90%82n%83G%7F%BE%93j%DD%C8K%22%19%A7u%1Ae%BCW%7B3%C9%FD%1B%7D%BA%5By%E8%C9%14%DBS%1D%10d%AD%8C%98%09q%24%096W%A9%9D%A7%19%B6yd%13%B9%9F%BCn%FA%1C%3C%7B%9Ce%8B%8C%F2%3E6%94%89%11%08%E2JO%DA%FD%DD%23%8E%97%96%FC%BE%D8%F2i%EA%B6%20i%A6%3E3%87dO%D3%FA%8D%88%F7%3A%96z%CC0%A3%19%2A%7C%E3X%EA%CFy%15%15%15%D9%24%2F%AD4y%B4%09%BB%86%A4%DE%02%0F%E7lh%C3%E2%E4%AC%220%E38%D6%96%80%8E%91%89%2A%8Dd%96%24G%DA%BD%A2k%03%F7%3E%10%EE%5E%EE%2C%AED-%D9%14%ACfn%FDh%14%94%86%14%A3%93p%FEs%28~%CD%26%9F%1D%D8%0E%87%D3%9F%8E%B3%E5%7C%B2y%1D%60%0B%0B%24J%C5%3BA%21k%7B%22uiT%19L%3B%F8%2A%D6%E1%0E%28_%BEG%D0%929%FD%0Dz%29%22%EF%9E%5C%1As%CD%A6%D1%40Z%03E%1E%C7%D6C%CE%87%F5%5C%C7%9A%26z%ABK%D2%F2%D7%2Cc%16%C2%07%8B%D4%AE%BB%DB%19%DA%8D.%15%AAbr%F9m%00H-%FC%B9%9BS%A4_%8Bs%15%06%7C%B6%99b%3A%EC%1E%5E%CE0%C0%E3%F7%1B%01%FDx%27Xd%E1%BE%97A%FDL%169%02%20%0D%8B%F0%AC%CF%A3Ci%AB%8F%E7%F3v%0D%95%81%DB%3F%03%F8%AB%3D%3AD%2F%91%D5%B6%86P%A8%26%15%FD%B4%81i%F9_%9B%60%0D%27%D3tx%17%E7%1D%8B%ED%9A%9C5%28gL%1D%CF9%91FQ%1C%D9%8B%22%FD%2A%E8%E9%85%D4%8D%DB%9D%40Z%80%EF%2C%91sXI%012%8F%3E%BF%CD%FFd%A1%CF%A4%85g%9F%ED9%86%16%A4%0B%84%17%DA%98%D2%B3tcV9%00%19%407%E7S%27Z%E6Y%9A%8F%83%84e%0F%AF3J%87%28%EF%D7JM%C1%DD%D7%01%96%5C%E3%0D%AB%C3e%A4%9A%22%3E%88%3B%F7%01x%8DV%60ZJ%E3C6%CBfY%0D%08%E3%A8%83%A9-%B6b%1F%1B%CCCp%94eNM%E8e%9B%B8%E7%B3%1A%12%ACa%95%B5%06%F2%8C%FF%8E%F89C9%E3%06%D7%26%0Bt_%A0%A1%DFj%92%04%20%2F%D2%D5%3A%DAY%9C%5B%88%00%8Bp%60Y%2C%D9%29u_n%11%BA%F1p%3B%F0%5E%B9%CE%FB%F4%DC%8D%08%E7%7FB%ED%DC%25%FF%14%C3%17%91M%8AP%E9%A4%C8%3E%C1%CB%14%C2~u%C8%28%A8%8A%89%C4r%A8%F3%5C%B5%EB%FED%95%05%90%8D%1E%F6%3D%82%0C%BB%CEr%F6%7DC%E8Ug%80%F02%E0%DAH%04m%B0%B2B%93O%E00s%12Zr%91c%9B%D9D%EB%25V%87%AD%C8%B2Q%29%94x%21%B4%27%D2%5E%01%EB%3CG%C5%DB%15%9Fe%81%A2%0B%CD%9F2%0Fp%96%A8%D6M%DD%1C4r%22%EB%13%87%F5%DCd%05%84a%ACA%7Dee%A5%5B.%08%00%17j%E04%25%05%88%22U%CDs%22X%2F%8C%BA%85%E8%E8%D5%2A%AC%87%DF%ADn%07%80%D4%02%86qNq%28%3F%9F%171%EA%3D%10%F0%F7%29%A4%E5%3A%16%C9%AF%00%9D%A3Z%F7%88%16%F2%8C%9D%AC%C5%18M%D1%F7%16%C6%CF%C1%A3%F7%09%A9sN%40st%C1%AA%F9%7C%11%CE%D4%CD%A35oj%87%CD%80a%02T%CCH7%15%ED%ECS%E7%18%00%C9%D1%95%9B%17%A1%7DoD%00z%9Fe%A3%93i%E1v%B5%DA%F8%E6%DA%25%D4Xg%93%F9%84%22%DD%0A%5B%89r%E2%BA%99%8E%A2y%B5%B7%1F%5D%CD%A3%08%80%5E%EF%83%9C%C63%05~iCP%87k%21%CE%F3%91OQ%EE%05%0Ey0y%B1%E6~%A7F%C9%F7%C9la%05%7C%16%C7%9B%AE%92%BD%99f%D7%20%C5%01%AD%E4%BE%01%E0x%1Bc%1B%E3%9B%AC%E4R%0Eq%CC%93%E8%A6%9C%CE%E2%94%85t%07m%1B%1D%40%C6%96b%F88%0Fp%AC%C4%A1m%DA%F6%065%C7%17%09%E9O%1C%D9%8A%1D6Dt%D8%9B%ADv%EB%DEV%2B6%03%20%EC%7D%13%91S%E8%DA%19Y%40%5D%16E%5E%02%60%06%00%13%B1%BFr%EEe%BE%90D%3ArStf%E9l%1Cq%B5G%F4Z%17%81%87%3E%01%B5%B8%98N%CAP%9F%E2%EF3R%A4%20%FE%29%8F%E8S%8F%81%F3%B8g%19Q%3B%1B1%0B%DC%81%83L%80%D6%F5Q%AD%A7%5E%9B%18SG%04%AE%C1%99W%A9%D6%F3%3C%0A%CA8%8ChkN%14%FBe%D7%ED%3C%93%9C%28%9E%C9%B3%D9%F3%B9%8E%60%20%D1%7F%3Fx%BF%DF%B5%CC%BC%AA%98C%CE%A2O%EFC%03%CA%7D%3E%DBB%C6%F8%10P%3E%EB%D1%8E%BE%07%DB%9Cn%D9%A6L%B5%BE%F4flS%8Bmj%98%FB%82%04%A0Z%04-%BC%26d%DC%EBd%5DCi%CE%A6%A3%14%26%D7%03%8A%2A%7Cf%A6%0A%7FiJ2%EE%8D%AA%F5%18%CE%10%15%ED%1BN%C6%92E%1E%CE%2C%5E%BC%F8d%0F%80l%60%C1%A2%14_%85%A4%FC%11%D0%86R%22A%3D%D7%F9%00%1E%5D%E3%13%1D%07ACl%80%AC%A07%5E%17c%81%CAH%9F%FD0Z%A1%D5~%DD%C2%5Cj%2C%0A%98u%3E%2B%99bO%1C%BA7ZF%941m%E9-%B4%0A%3F%A6%B3%12d%1F%99%C7p%0A%E5%9E%5C%C7%9ChmR%ADG%F7%D7%13%90VSk%98%EE%9El%A8%EDO%84%ED%A2Z76%9B%99%FFZ2%F8%7Bj%D7%93%BC%CA%83%C7%F7%B7lS%04%80%B6%F3L%9B%B0%CDf%AB%EEJ%22%C3%A9%2FG%28%EF%B3X%DB%E8%C2%BD%8A-%0E%A2V%8A%FA%AA%AE%D4%11%3F%E3%E7%22%40s%8Dj%DD_%B2k%09%F1%27%F9%DA%D1%2B%AC%60%FFPD%FA-%22%9B%CDc2%E9w%F3%86J%BE%DA%F54A%2A%FE%B5%D3%21%04%BD%26%C7f%F9%80%CF%A6Fq%1C%D6t%FF%8E%278%29%82%D8%18%D5z%EA%C3%ED%CC-%B4%E8%F7%18%1ALEqj%ED%14%20%A9t%84d%28%CC%9FT%F1_m%96%CF%9C%91%20%C8%BD%A3%BC%DF%F1%09%CC%22%E9W%8F%A6%D2QR%AA%92%BD%F7%BFWB%40%269%80Y%9A%02%24%95%8E%10%A1%5E%AF%A8%D6w%D3%A3J%93j%DD%CF%88%23-%11%9A%07%5E27%05H%2A%1D%25%D24%99%12%B3%210%97%A2%3E%09%20%9FQ%FE%EF%FE%FB%D5%3B3S%80%A4%D2%91%22%1D%B8Y%11%C7J%81%2F%3B%F6I%BF%A6%C8%B4%7C%A3%02R%8E%C6%7F%9E%02%24%95%8E%14qZi%C5%AE%880V6%84%97%B7%91%D6%C9v%C3%5DQ%8As%ADwWTT%B4%A4%00I%A5%A3%E5%E3%08u%85%9C%0AxP%B5%BD%D5.%80%94%CD%D3%0FB%C6%C9%CE%BE%EC%0D%A9%FF%090%00%2C%B7%FD1-%60%14r%00%00%00%00IEND%AEB%60%82); background-position: center; background-repeat:no-repeat; background-size: auto, auto, contain; } .pop_overlay_shade { position:absolute; width:100%; height: 100%; background: transparent; pointer-events: none; } .pop_overlay_container { position:absolute; width:100%; height: 100%; background: transparent; pointer-events: all; } .pop_overlay_frame { position:relative; width:100%; height: 100%; overflow: hidden; display:table; table-layout: fixed; background: transparent; } .pop_overlay_box { position:relative; overflow: hidden; vertical-align: middle; display: table-cell; text-align: center; background: transparent; } .pop_overlay_pad { display:block; position:relative; width:200px; height:18px; overflow: hidden; margin: 0 auto; background: transparent; opacity:0; filter:alpha(opacity=0); } .pop_overlay_pad.framed { background: #ffffff; -moz-border-radius: 3px; -webkit-border-radius: 3px; -ie-border-radius: 3px; -o-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 2px 2px 12px 0px rgba(160, 160, 160, 0.25); -moz-box-shadow: 2px 2px 12px 0px rgba(160, 160, 160, 0.25); box-shadow: 2px 2px 12px 0px rgba(160, 160, 160, 0.25); } .pop_overlay_pad.darkb { background: #000000; } .pop_overlay_pad.size { transition: width 0.5s, height 0.2s;/* Firefox 4 */-moz-transition:width 0.5s, height 0.2s;/* Safari and Chrome */-webkit-transition:width 0.5s, height 0.2s;/* Opera */-o-transition:width 0.5s, height 0.2s; } .pop_overlay_pad.fade { transition: opacity 1s ease-in-out; -moz-transition: opacity 1s  ease-in-out; -webkit-transition: opacity 1s ease-in-out; -o-transition: opacity 1s ease-in-out; } .pop_overlay_pad.disp { display:block; } .pop_overlay_pad.opak { opacity:1; filter:alpha(opacity=100); } 	 .pop_overlay_wrap .pop_overlay_pad.grey { background: #383838; } .pop_overlay_wrap .pop_overlay_pad.sharp { -moz-border-radius: 0; -webkit-border-radius: 0; -ie-border-radius: 0; -o-border-radius: 0; border-radius: 0; } .pop_bottom_frame { width:100%; height:10px; display:none; } .pop_bottom_frame.include { display:block; } .pop_overlay_pad .pop_overlay_pad_title_box { position:absolute; bottom: 0px; left: 8px; height: 18px; padding:0 20px 0 0; margin:0; cursor: pointer; } .pop_overlay_pad .pop_overlay_pad_title_box .pop_overlay_pad_title { position:relative; left:0; height:17px; padding-top:1px; text-align: left; background: transparent; color: #c0c0c0; font-size: 11px; font-weight: normal; font-family: Verdana, sans-serif; visibility:hidden; } .pop_overlay_pad .pop_overlay_pad_title_box .pop_overlay_pad_title.show { visibility:visible; } .pop_overlay_pad .pop_overlay_pad_title_box .pop_overlay_pad_title:hover { color: #4565a5; } /* quit box */ .pop_overlay_pad .pop_overlay_pad_quitbox { display: none; position:absolute; right: 6px; bottom: -2px; height:22px; background: transparent; cursor: pointer; border: 0; opacity:1; filter:alpha(opacity=100); } .pop_overlay_pad .pop_overlay_pad_quitbox.show { display: block; } .pop_overlay_pad .pop_overlay_pad_quitbox .pop_overlay_pad_quittext { position:relative; float: right; padding: 3px 8px 4px 14px; text-align: right; background: transparent; color: #c0c0c0; font-size: 12px; font-weight: b; font-family: Arial, sans-serif; } .pop_overlay_pad .pop_overlay_pad_quitbox:hover .pop_overlay_pad_quittext { color: #4565a5; }   .pop_overlay_pad .pop_overlay_pad_quitbox .pop_overlay_pad_quiticon { position:relative; float: right; overflow: hidden; width:16px; height: 16px; top: 4px; right: 2px; background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAAAOCAYAAAA7UaIRAAAALHRFWHRDcmVhdGlvbiBUaW1lAFRodSAxNSBKYW4gMjAxNSAxMTowNDowMCArMDEwMJoaeGMAAAAHdElNRQffAxkLHxXp32MLAAAACXBIWXMAAB7BAAAewQHDaVRTAAAABGdBTUEAALGPC/xhBQAAAhZJREFUeNrtlz1qw0AQhdMJnMKkMDmDWwmBY6IuV8kVJC2WsRvXOkVKgwzudQ4Flb6CUOm8hVHzYNEPo1Qa+Aq9WXbgPZZBLy9LLbXUgNputysQOHo+eJ1j7tf3zwoEjp4PVOc+Ho8VCBw9H0yad71eVyBw9Hww7F4YvQEFeIIz9U6i3+w5TWNg9AYU4AnO1DuJfrPnNObB6A0owBOcqXcS/WbPjbkXRm9AAZ7gTL2T6Dd7rvcymLwXwzsuosekfyiHsRfDOy6ix6SrzIXJezG84yJ6TPqoeTB5L4Z3XESPSe+/FyZ7ICPja/rO7TnlMDyQkfE1fef2nFIYHsjI+Jq+c3tuZBgeyMj4mr5ze27wpRJISyG03UuZqySQlkJou5eiXRJISyG03UuZWhJISyG03UsZXTC+ojB+5zCEC8ZXFMasc2F8RWGozIPxFYUx7V4Yb0BDYTT/8DIMaCiMZsaXYUBDYTQKL8OAhsJoRr0M2RlJz85IZ9oZSc/OSJV3RtKzM9KJOyPp2RnpoJ0Bk3dkvBH9SPqnchg7Mt6IfiRdZS5M3pHxRvQj6aPmweQdGW9EP5Lef6/8Z9zF8AP1jOgleFcOw/5n3MXwA/WM6CVQmSv/GXcx/EA9I3oJRs2T/4y7GH6gnhG9BMPuhdFrEDl6IXjTMIQLRq9B5OiFQHUujF6DyNELwaR5MHoNIkcvBLP4t5Ry/QES3wwq5P3QjAAAAABJRU5ErkJggg==); background-position: -82px -2px; background-repeat:no-repeat; } .pop_overlay_pad .pop_overlay_pad_quitbox:hover .pop_overlay_pad_quiticon { background-position: -32px -2px; } .pop_overlay_pad .pop_overlay_pad_quitbox .pop_overlay_pad_quiticon.skip { background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAASCAYAAACtmXuIAAAALHRFWHRDcmVhdGlvbiBUaW1lAFRodSAxNSBKYW4gMjAxNSAxMTowNDowMCArMDEwMJoaeGMAAAAHdElNRQffAxkLHwCEAofgAAAACXBIWXMAAB7BAAAewQHDaVRTAAAABGdBTUEAALGPC/xhBQAABKtJREFUeNrtV+9PW1UYBhEYNZsM21KhP1iR0NJhmnVjaMacDioz/oojMavFSWS7GzHxg5+URJjEGAgQApZLESgwBrbxS/8KMn6kI4sfG0b4JR/K/GD0E1yfU85hxzvGbq/l232TJ7d9n+Tce54n533fk5GhhRZaaKGFFmmM4uJih8Vi0cnzOTk5utLSUkc63nHqrM9e81nAdBDnvvKdw/PBHV2qa6YSkUjEEY1Gn3pHfX29bm5uTtUeq6urDQMDA68dxDU0NNh7e3tNqa6Z4XQ6mwCpoqIiaDKZMlm+qKgoG7kQ4YDr/0eMS9dH3HU3Z6Q6Ifzw/NVOI8/V3pxuqr1xj3BB1ztfZ6p9x2Gxvr7eBEhAEMjk8tlAiHBra2sp7XFsbOwVIDY6OioB52Wcm+THx8cfdnR0GBUv6nK5KqngO9SUIZiSRblGyu2Sp8PhaFYriPdWJEFEJ8DvhXMf/2hO5oVwYe2NaZLfSXJCeKiy7pusdJoBoQsBIvgOfQ4BWZRrpLldYsrKyoriPULwCWoGwd/A2xyXYNzk5ORCW1ubWdGiZrNZBxN+4YUHJghXUlJiA7dIc0mUl5e3qBHlcvPUbZwEiTMl5vnwzglqygjN7+6dlF8n0mxINjDChKfPCcrZgEWakzY3N6V4PK5ojxC7BnjMmfIXcJFyLVyemBJrbW19WfFHQ/hBXngYNUxN0YN7wBkiGQyGz9UIg5Pg3xce5rz5ad8C47y3woPMLIIz738/nE5TqPiDTHiKYZrXAw9IbmNjQ1peXpa6u7sV7RFiv06NYOJvA27K+WluFyVM6uzsnEM/Vm4KBJ9hwsMECU0+SPJ2u92A3CPeML1ef1WdKfcEJjpOglTjF39nHP7PPOHC0tmPfhg6AlNmZKYEad4APGKmkJPS1dWlaI/EACI6Z8o/wCnKCSwfCoUkURT/UPyxVqs1RIxgojNDjEZjXllZWTwdhpTXCD4iNjPkgu/nfUNQwkJPuCMzJPQMQ/KAuEpD7MCOzBA75XyqDMHYG+DNsNlsyeOM50mckBjj0NglGKSqZDnfavERE1jJunBtYLHi0lfJicd95dsA+gotWdMwo+MoSlbgGSXrJBAjOdrYpf7+fqUlyyUrWY+5kuXjSxbK4Dz0O7xkoUfkQehBKjhr6iLhYIQF+ft8GUMN/EKNGJe/nGxGn9jvEe/e/m32VWd98k6AcVjcN2rPEDHNRrwIiLKmLlLOAtxnJm1tbUnz8/OK9gih3+CnKeBPoIpyzXxTn5qamvV6vS89d9Hc3FyXbOztY1xBQYGfNwruXlMrCnpFgtxD6IQ1W/XJT/kk/0L2CaNs7O1T+45DDDHIxt4+jvPzY+/q6qriPULocdmEdY7j+LF3tr29PV/xB0NsgZoR4PPoE8eQu0sNU20GiYuNwaravYvhEi6G/zm2KF8C7RsBtes/LyC2QEtSQJY/BtylpqS0R5ShQgi+REQnF0EZV0Uvhku4GCqfrEhA+ExcAj0YdY/LOTT2fHBn0iEKRD+NJm49iEMJ87jfaz2e6pqpxPb2ticSiTz1jmg0mp9IJFTtEX3BAuErD+KQP93T02NNdU0ttNCCj38B5oHKC/vnSbgAAAAASUVORK5CYII=); background-position: -82px -4px; background-repeat:no-repeat; } .pop_overlay_pad .pop_overlay_pad_quitbox:hover .pop_overlay_pad_quiticon.skip { background-position: -29px -4px; } .pop_overlay_wrap .pop_overlay_pad_frame { position:relative; width:100%; overflow: hidden; display:table; table-layout: fixed; background: transparent; } .pop_overlay_wrap .pop_overlay_pad_box { position:relative; overflow: hidden; vertical-align: middle; display: table-cell; text-align: center; background: transparent; } .pop_media_wrapper { position:relative; background: transparent; } .media_container { display:block; margin:0 auto; position:relative; background:none; } .media_container.marg { margin-top:9px; } .media_frame { position:absolute; top:0; left:0; right:0; bottom:0; background:none; } .media_box { position:absolute; top:0; bottom:0; left:0; right:0; background:none; overflow: hidden; } .media_box.play { background-image:none; } .media_box.wait { background-image: url(data:image/gif;base64,R0lGODlhIAAfANU8AKGhoSkpKaKiounp6aampuXl5bW1tcDAwMvLy6ysrN/f362trdTU1MnJycrKyt7e3tXV1Tc3Ny0tLbe3t8zMzMHBwba2tr+/vywsLOTk5N3d3efn5+bm5tbW1tzc3DU1NV5eXkpKSnx8fJSUlEdHR0hISLS0tJmZmbCwsGFhYZiYmGNjY35+fnp6epWVlUVFRa+vr11dXXh4eNra2tvb20ZGRpaWlrGxsTY2Nnl5eXt7e19fX+rq6gAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wUmlnaHRzPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvcmlnaHRzLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcFJpZ2h0czpNYXJrZWQ9IkZhbHNlIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InV1aWQ6OTgzNjY3OTJCQUE4RTExMTk4QzBEOUU5MUVEQUQwREYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QjNGNjA3RjEwMTk1MTFFMkJCM0JDNDk5QzQ4Q0EyOTMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QjNGNjA3RjAwMTk1MTFFMkJCM0JDNDk5QzQ4Q0EyOTMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyQ0IxMTM5QTkzMDFFMjExQTkwQ0ZBMUIyOEEwQjk4RCIgc3RSZWY6ZG9jdW1lbnRJRD0idXVpZDo5ODM2Njc5MkJBQThFMTExOThDMEQ5RTkxRURBRDBERiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAUSADwALAAAAAAgAB8AAAboQJ4QFigaiyahcsls8jiv47G0cVqZI6lUde3OPtpjxNO1ysJSUbnZwKCPEsp6GXtLU3MlyH5c5YVtfAFxf0ItgixLEACMjYwMSx5gbxEPSgMLjo4JA0sudidLCJqaDkscJGghVUIFBKSOBBlLKGgGSwewmheFPAoCuo4CGoUWwZq3fxPHjsk8DLodSr/MAAKWPAMJugudQhXVB0oOxwhKrscEBa2vwepKo8GmQrnMFZeZsJxCD8DMAgqUdNAFQYmBaowmFDqI0EIhDf6OAex1IVwvHhna6Xp3sUG5i0K0cfMGEhqsgheDAAAh+QQFEgA8ACwAAAAAIAAXAAAGp0CekAEoGosQoXLJbPIGieNxMXBamQ2pFHHtZgjaI6HQtV7C0kO5qRGgjwLFeml4Sy1zZd1unOSFD258cX9CB3wAFUsmAY2OjShLBWBvY0obJY+PNRxLDnZcSiqamiNLUGhUSh4RpI8fNEtEYR1LIq6aOYU8FBK4jxgNhSm/miCFK8WPO4W9ygEYDrsszzq7PA+tvzge1zwnxTbePBshuCSd4wa4N0pBACH5BAUSADwALAAACQAgABYAAAamQJ5wSCwSIYCkMskwOp+DxXKZGDyvQ8R06sBeC4TtkpDxOg/i6cVcVAjSS4GGPbTApwa6cHJf5oUoAYKDgn88bn0AAg9CHCSEhCEbQxWJB0MukJAnQ2B3BAVCHh+ahBGMQlpwXUItpZAsQ1FpVUINGK+EEhRDHWkQQyC5kCt6PDHDhCnGt8kBu8Y8Ms4i0TwzpLkRHtY8I8Mq3TwcL68lk+IwrybdQQA7); background-position: center center; background-repeat: no-repeat; } .media_box.idle { background:none; } .media_box .media_playbox { display:table; overflow:hidden; cursor:pointer; margin:auto; }  .media_box iframe { overflow:hidden; }  .progress_bar_box { visibility: hidden; display: table; position:relative; margin-top:7px; top:auto; transition: none; background: transparent; overflow: hidden; table-layout: fixed; width:100%; height:6px; pointer-events: none; } .progress_bar_box.show { visibility: visible; } .progress_bar_frame { height:6px; width:61px; vertical-align: middle; display: table-cell; text-align:center; } .progress_bar_frame .progress_bar { position:relative; height:6px; width:45px; text-align: center; display: block; margin: 0 auto; background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAyCAYAAADbTRIgAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2lpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxMDAyN2UwOC00ZWE2LTU0NDEtYWI3MS01Y2RlZDJjZjQ2MWMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QTE3MUQxQzE1ODVCMTFFNDhGNzFFRTA5NzYxRDVCMDQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTE3MUQxQzA1ODVCMTFFNDhGNzFFRTA5NzYxRDVCMDQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkIwMkE2RUE0RUQ4OTExRTNBMUZGOTI5ODk3ODk2Q0JBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkIwMkE2RUE1RUQ4OTExRTNBMUZGOTI5ODk3ODk2Q0JBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Q5BsVQAAAIxJREFUeNrs1LEJgDAQheGcuI9TOIq1OIk4hAMJt49pLEKMpMpxkf9VgTSP4/GJqt7hHUne5v9DcBhKdV1qzEYXKqM0+fd5qe24ih/7OrGpfFPgiVPgCZ7JpYr5QtUCV/AET0qBZ7d41tISV/AET0qB52/xbIkreIInpcDT+6VkXk42BZ44RaknUYABAP/jLl2KR+fiAAAAAElFTkSuQmCC); background-position:0px 0px; background-repeat:no-repeat; } .progress_bar_box.P-0 .progress_bar { background-position:4px 0px; } .progress_bar_box.P-1 .progress_bar { background-position:4px -9px; } .progress_bar_box.P-2 .progress_bar { background-position:4px -18px; } .progress_bar_box.P-3 .progress_bar { background-position:4px -27px; } .progress_bar_box.P-4 .progress_bar { background-position:4px -36px; } .progress_bar_box.P-5 .progress_bar { background-position:4px -45px; }  .fb_video_wrapper { display:none; margin: 0px; width:100%; height:250px; } .fb_video_wrapper.show { display:block; } .fb_video_wrapper .fb_video_box { overflow: hidden; table-layout: fixed; display: table; width:100%; top:0; bottom:0;  } .fb_video_wrapper .fb_video_frame { text-align: center; vertical-align: middle; display: table-cell; } .fb_video_wrapper .fb_video_container { display: block; margin:auto; width:300px; height:225px; padding:0px; } .fb_video_wrapper .fb_video_container img { max-width:100%; max-height:100%; background:white; } .fb_video_wrapper .fb_video_container iframe { max-width:100%; max-height:100%; } .fb_video_wrapper .fb_video_controller { position:relative; left:0; right:0; height:25px; line-height:38px; background-color:#F5f5f5; padding:4px 6px 0 4px; } .fb_video_wrapper .fb_video_controller .tape_controls { position:relative; width:30px; float:left; height:25px; } .fb_video_wrapper .fb_video_controller .tape_controls .pause_btn { display:none; } .fb_video_wrapper .fb_video_controller .tape_controls .play_btn { display:block; } .fb_video_wrapper .fb_video_controller.playing .tape_controls .pause_btn { display:block; } .fb_video_wrapper .fb_video_controller.playing .tape_controls .play_btn { display:none; } .fb_video_wrapper .fb_video_controller .audio_controls { position:relative; width:90px; float:right; height:25px; } .fb_video_wrapper .fb_video_controller .audio_controls .mute_btn { display:none; } .fb_video_wrapper .fb_video_controller .audio_controls .audio_btn { display:block; } .fb_video_wrapper .fb_video_controller.mute .audio_controls .mute_btn { display:block; } .fb_video_wrapper .fb_video_controller.mute .audio_controls .audio_btn { display:none; } .fb_video_wrapper .fb_video_controller .tape_controls .play_btn, .fb_video_wrapper .fb_video_controller .tape_controls .pause_btn, .fb_video_wrapper .fb_video_controller .audio_controls .minus_btn, .fb_video_wrapper .fb_video_controller .audio_controls .plus_btn, .fb_video_wrapper .fb_video_controller .audio_controls .mute_btn, .fb_video_wrapper .fb_video_controller .audio_controls .audio_btn {width:30px; height:30px; float:left; text-indent:-9999px; background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGEAAAB7CAYAAABkS+5eAAAAB3RJTUUH3wMZFRAfmCoYoAAAAAlwSFlzAAAewQAAHsEBw2lUUwAAAARnQU1BAACxjwv8YQUAAAmbSURBVHja7Z1JaBRZGMdHE8UYUTNEUcEoqCQRxH30oILYhwE9ibjhEnEBI0hOJrnIeBE8DGhgxIEJehlQMLgdPHgIouDSKhFtGFFwoRUXNG5DcO35f/S/2qLTXV1dVa/zJvkKftTrl6Kp/n6p96re+173Tz/ppptuuummm2666eaxpVKpgsS2/z0SnAVHPI6p8PNeYeno6BgJzoIjHscYP5dkMjkSnAVHPI7JnEcoCQjuJHAHpMDpPMcsATfAMMMCJoE7IAVO5zlmCbgBjJ0LgjsJ3AEpcDrPMUvADTAslAQEdSF4QQE5JaCukvvj4HeDAhaCFxSQUwLqKrk/DoycC4K6ELyggJwSUFfJ/XHwe2AJCOha0OMS0EsCXq8AnaAMjAfdoMaAgLWgxyWglwS8XgE6QRkYD7pBpOeCgK4FPS4BvSTg9QrQCcrAeNANaoqSgCAOAnuzgt9LAspDwWBwCTSwrg38FmHwB4G9WcHvJQHloWAwuAQaWNcGIjkXBHEQ2JsV/F4SUB4KBoNLoIF1beA3TwkIWis4BnYzkM15BGQkYL/R6aSxXwriLC8DV0MEvRUcA7v5ujmPgIwE7Dc6nTT2S0Gc5WUg0LkgaK3gGNjN1815BGQkYL/R6aSxXwriLC8DVwtJyA7wQR8SRoO33EtT9B6MAFXgVQgJ2QE+6EPCaPCWe2mK3oMRoAoEOpccAT7oQ8Jo8JZ7aYregxGgCryKXAKPuwbmsnwPTGH5Sykl8LhrYC7L98AUlgOdSxAJPO4amMvyPTCF5S8mrgTpC56ByXz9HIyVW1Twb4mvBOkLnoHJfP0cjJVbVBDoXAJeCdIXPAOT+fo5GCu3qOBfExI2gCssTwNJlmeAf0osYQO4wvI0kGR5Bgh0LgElbABXWJ6WlD+myzPAP4UkrJY7GrklZSC3+5AwBkxl+RA4wPIe8FcICavljkZuSfl6uw8JY8BUlg+BAyzvAYHOBUFbLXc0ckvK19t9SBgDprJ8CBxgeQ/4q+jnBLnlBJ+9+gQeJ0/KT0E1GAIeSF0Ut4UuMQ3gs1efwOPkSfkpqAZDwAOpi+o85JYTfPbqE3icPCk/BdVgCHggdUEf1uR2810BCaPAPJab5MEtSgGuAMvt5rsCEkaBeSw3yYNb1OfB2813BSSMAvNYbpIHNykHksDATgePvYYteNwc8NJpogyJmA4eew1b8Lg54KXTRBkQMR089hq24HFzwEuniQosgQEeB24WkDAc/GJKgCvA48DNAhKGA6PngsCOAzcLSBgOMucRSoIryKe8hrJLBYN8ymsouxQwyKe8hrLdhJaghEclWIBKsACVYAEqwQJUggWoBAtQCRagEixAJViASrAAlWABKsECVIIFhJbAbLv94IxM3ACpc/5WxuyLTJ1JmG23H5yRiRsgdc7fyph9kakzBbPt9oMzMnEDpM75WxmzLzJ1oSQwlaWNkzpdoM4JOGfemphxYVwCU1naOKnTBeqcgHPmrYkZF0YlMJWljZM6XaDOCThn3pqYcRFeAoJaz/9+Z3ozDmoZ8HrOuEn23QLTEhDUev73O9ObcVDLgNdzxk2y7xaYlICg1vO/35nejINaBryeM26SfbcgtAQEdBG4njXRL1l3NVyzcBd8ANuYaWFMAgK6CFzPmuiXrLsarlm4Cz6Abcy0MCIBAV0ErmdN9EvWXQ3XLNwFH8A2Zlr4l8AgOu16BVgFHuZIeZEM7HXgNq+ALVEHn0F02vUKsAo8zJHyIhnY68BtXgFbogw+g+i06xVgFXiYI+VFMrDXgdu8Ara4g++rY0YAN4F9YA1FxJjsmyv565GkOTIVZrMBAZvAPrCGImJM9s2V/PVI0hyZCrM5YgGbwD6whiJiTPbNlfz1SNIcmQqzOZcAPxI+McCdvAtq9MjAE5K8GiJvfhDETwxwJ++CGj0y8IQkr4ZImx8E8RMD3Mm7oEaPDDwhyashpwA/Er6Ab+AEm6WtHgJeg/Wm2n/JogbfwAk2S1s9BLwG6020/5JFDb6BE2yWtnoIeA3WewnwK+E7OOlDgnTUEw1L+A5O+pAgHfVEgxK+g5M+JEhHPTGshK8M8Hk2RzsLSKg1KOErA3yezdHOAhJqDUn4ygCfZ3O0s4CE2rASJJP6KNjBjnk5eJNHQtz9sGZAgmRSHwU72DEvB2/ySIi7H9YiliCZ1EfBDnbMy8GbPBLi7oe1oBLKmdhbweBWSnp7H0koZ2JvBYNbKentfSChnIm9FQxupaS3G5OQfTCCu5Lp7k9i6dU4JZOQQ8pKprs/6UivximJhBxSVjLd/UkyvRrHnASuwJG1yPfBfLA49mM1f0klcAWOrEW+D+aDxR0/VvOXTAJX4Mha5PtgPlic/LGaPzoJHAmVFTofQYICnEG6WeACJdwyLYEjobJC5yNIUIAzSDcLXKCEWyYlcCRUVuh8BAkKcAbpZoELlHArij5BFo/PBhfBOTAzO8goT+BAXhdHTk31CbJ4fDa4CM6BmdlBRnkCB/K6OHJqok+QxeOzwUVwDszMDjLKEziQ18WR09BXQhWDW50vwLH01ybUuTpwU1dCFYNbnS/AHemvTahzdeAmroQqBrc6X4CT6a9NqHN14OH7BMUcKsECVIIFqAQLUAkWoBIsQCVYgEqwAJVgASrBAlSCBagEC1AJFqASLEAlWIBKsACVYAEqwQJUggWoBAvw3FypLb7o6w/zf0UlWECxElqY6NUctYT29vYWkALNfR0U2yUcpoTDBiQcpoTDfR0UlaASVIKNEqQP+NNFghISWfUtxUpgH/CniwQlJLLqW0x8cH6GHh8kAv5Tyefo8UGikIRUERR7kim/DHQJ/fZKsAntEyxAJViASrCAYiW0UkKLAQmtlNDv+4CwEnTsqNQS+vrkBgoqwQJUggWoBAtQCRagEixAJViASrAAlWABKsECVIIFqAQLUAkWoBIsQCVYgEqwAJVgAb4kxNJf0zzdxAm0t7efB0be+/+CXwkyryxfXv6HfDFhxBJkXvkL+ANE+t5exNI/uiGf67Kf+iDwxzTkK0Ive9UXI8HhVSz9OwrlEUpweAUaQSTvXUBC5jP5qQ8oIfOtxV71QSQ4SBberxFLSLmy8EK/90CQ4BCqvyiQh2qsv+hvEtz9xc8RS3D3F0W/90CTELi/KCI7O9L+oj9LKLq/KCZFPsr+QiWoBKMS5PcVdhlqjrrBLm2OCnfM1cWeaBEdc9HvPZAk6C1qH0rQh7U+lNBtcNiiW4ctvCUEbvd9SDDS7vc3CTqUbRDddNNNNwu3/wBnaMr2k3oT8AAAAABJRU5ErkJggg==); background-repeat:no-repeat; cursor:pointer; } .fb_video_wrapper .fb_video_controller .tape_controls .play_btn { background-position:-20px -102px; } .fb_video_wrapper .fb_video_controller .tape_controls .play_btn:hover { background-position:3px -102px; }   .fb_video_wrapper .fb_video_controller .tape_controls .pause_btn { background-position:-73px -102px; } .fb_video_wrapper .fb_video_controller .tape_controls .pause_btn:hover { background-position:-48px -102px; } .fb_video_wrapper .fb_video_controller .audio_controls .plus_btn { background-position: -17px -70px; } .fb_video_wrapper .fb_video_controller .audio_controls .plus_btn:hover { background-position: 6px -70px; } .fb_video_wrapper .fb_video_controller .audio_controls .minus_btn { background-position:-74px -70px; } .fb_video_wrapper .fb_video_controller .audio_controls .minus_btn:hover { background-position: -50px -70px; } .fb_video_wrapper .fb_video_controller .audio_controls .audio_btn { background-position: -31px -4px; } .fb_video_wrapper .fb_video_controller .audio_controls .audio_btn:hover { background-position: 4px -4px; } .fb_video_wrapper .fb_video_controller .audio_controls .mute_btn {background-position:-31px -34px; } .fb_video_wrapper .fb_video_controller .audio_controls .mute_btn:hover {background-position: 4px -34px; }   .fb_video_wrapper .progress_num_box { display:block; position: relative; float: left; margin-top: 0px; overflow: hidden; table-layout: fixed; width:33%; height:20px; } .fb_video_wrapper .progress_num_box .progress_num_frame { height:20px; width:90px; vertical-align: middle; display: table-cell; text-align:center; } .fb_video_wrapper .progress_num_box .progress_num_frame .progress_num { position:relative; top:-8px; height:20px; width:90px; text-align: center; display: block; margin: 0 auto; font-family: Arial, Helvetica, sans-serif; font-size: 10px; font-weight: normal; color: #646464; } .fb_video_wrapper .progress_num_box .progress_num_frame .progress_num span { margin-left:6px; margin-right:6px; }  .pop_video_wrapper { } .pop_video_container { } </style><meta name="viewport" content="minimum-scale=1.0, maximum-scale=1.0">

<style type="text/css" id="_fb_dynstl_gallery_bckg">.fbdynclass_237681234 { background:#f4f4f4; } 
</style><style type="text/css" id="_fb_dynstl_int_white_radius_5">.fbdynclass_11120208 { background:#f8f8f8; border-radius:4px; } 
</style><style type="text/css" id="_fb_dynstl_white_shadow_radius_5">.fbdynclass_167673955 { background:#f8f8f8; border-radius:4px; box-shadow: 0px 0px 10px 7px rgba(64,64,64,0.1); -webkit-box-shadow: 0px 0px 10px 7px rgba(64,64,64,0.1); -moz-box-shadow: 0px 0px 10px 7px rgba(64,64,64,0.1); } 
</style><style type="text/css" id="_fb_dynstl_ext_video_frame_round">.fbdynclass_987091640 { border-radius:8px; box-shadow: 0px 0px 5px 3px rgba(0,0,0,0.1); -webkit-box-shadow: 0px 0px 5px 3px rgba(0,0,0,0.1); -moz-box-shadow: 0px 0px 5px 3px rgba(0,0,0,0.1); } 
</style><style type="text/css" id="_fb_cstm_sb">::-webkit-scrollbar { height: 4px; background-color:#f8f8f8; } ::-webkit-scrollbar-track { background-color:#f8f8f8; } ::-webkit-scrollbar-thumb { background-color:#d0d0d0; } ::-webkit-scrollbar-thumb:hover { background-color:#c0c0c0; }  ::-webkit-scrollbar-button { display:none; }</style></head>
<body id="adframe" style="overflow: hidden; margin: 0px;"><script type="text/javascript">!function(){function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _typeof(a){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var config,pcm_client,clntfile,basebrdg,memhub,parcels,prvstg,ajaxcall,textools,antools,heartx,domtool,deltalog,bootlog,lscleanup,val_asm_drvr,val_asm_root,val_dbo_drvr,val_dbo_root,val_root,an_flxsrv,an_buffer,an_perfchck,an_beamcannon,an_eventconf,an_trackhub,an_accbeam,an_mailmstr,bb_bdlst,bb_admin,bb_bidders,bb_truck,bb_root,fb_videop_caller,fb_videop_parse,fb_videop_proc,fb_videop_tracker,fb_videop_html,fb_videop_vpaid,fb_videop_exec,fb_videop_root,fmp_sa_lw_300x250_X,fmp_sa_lw_300x250,fmp_sa_lw_728x90,fmp_sa_lw_160x600,fmp_sa_liveweb,fmp_sa_abfx_ck_prst,fmp_sa_abfx_ck,fmp_sa_adbox_img,fmp_sa_direct,fmp_mediadrv_vast,fmp_mediadrv_custom,fmp_mediadrv_dispadx,fmp_textstorage,fmp_container_pop,fmp_driverinterf,fmp__sourcectrl_wf,fmp__plyctrl_bd,fmp__sourcectrl_bd,fmp__segmctrl_wf,fmp__segmctrl_bd,fmp__root,stm_romcode,stm_observer,stm_cachedfile,stm_blockdet,stm_srcsrvr,stm_dtomgr,stm_inclproc,stm_preproc,stm_keywords,stm_stgproc,stm_root,trf_root,stg_admgr,skincalc,scenelogic,barlogix,overlaywnd,dbxcalc,dombox,adpost,unit_flow,unit_actv,unit_capbox,unit_exec,section_exec,stage_exec,xfrmint,ajx_caller,ajx_hub,lw_artmgr,lw_root,plcmswp,ildtransp,inlinedata,cmp_int_v2,cmp_int_v1,dk_condlogic,dk_domdock,dk_tagdock,exprgs,clntdata,tracker,msghub,nodemgr,curmgr,execontrol,macroproc,sourceadm,activitydet,snippetmgr,quickvars,shims,ag_root,adframe_loader,adframe_root;config=function(){return{resourceLocations:{dataurl:"mkt.forebase.ch/tagx/data",adServeUrl:"mkt.forebase.ch/tagx/adserve",fbDirectImgPath:"mkt.forebase.ch/tagx/_resources/fbdirect/img",flxSrvCrtvPath:"mkt.forebase.ch/tagx/data/creatives",proxets:"proxets",debugEmailAccount:"debug+production",debugEmailServer:"debmail.aws.forebase.com/api/mail",anSystemURL_dev:"piwik.plg.dev.reload.net",dtoServerBase:"dto.${number}.aws.forebase.com",pwServerBase:"pwport.${number}.aws.forebase.com",accServerBase:"accsrv.${number}.aws.forebase.com",lwServerBase:"lwsrv.${number}.aws.forebase.com",apiBaseUrl:"webapi.aws.forebase.com",audienceSystemURL:"audienceserver.aws.forebase.com",articlesdetectorUrl:"artdetect.aws.forebase.com:8090",zz_dummy:0},tagserver:{minCount:10,curbTable_Hr:[{value:350,curb:0},{value:400,curb:35},{value:450,curb:70},{value:500,curb:95},{value:550,curb:97},{value:600,curb:99}],curbTable_Er:[{value:200,curb:0},{value:250,curb:15},{value:300,curb:35},{value:350,curb:55},{value:400,curb:85},{value:500,curb:90},{value:600,curb:95},{value:700,curb:97},{value:800,curb:99}],curbTable_Dl:[{value:1700,curb:0},{value:1900,curb:20},{value:2100,curb:40},{value:2200,curb:60},{value:2500,curb:80},{value:2700,curb:97}]},proxy:{rootFilePrefix:"prx_root_",partNewsFilePrefix:"prx_pnws_"},mad:{locBanThrs:0,locBanPeriod:18,banPeriod:60,banThresh:8,banMinLoad:4,drvPingPeriod:30,drvPingLength:3e3,basTestSetTime:999999,basSuspTBRTh:6e3,hintValRange:10,wfHintCalcMinTm:100,wfHintCalcHalfTm:2e3,bdHintCalcMinTm:100,bdHintCalcHalfTm:2e3},bidding:{bdModTo:1e4,truckWait:150,genBReqTO:5e3,segDueTime:7e3,segMaxBurst:5,minActiveBids:1,bidHoldOff:500,bidTimeOut:2e3,burstPeriod:1500,maxCallBandwidth:10,toAjxCall:6e3},smartunits:{upperThrshPrc:35,defSeekTime:5,minSeekTime:0,maxSeekTime:30,defPlayTime:15,minPlayTime:1,maxPlayTime:30,prmSearchHoldOff:5,prmShowHoldOff:5,pullOutTime:5,lastFailHoldOff:5,maxFailCnt:3,maxAdPostCount:30},sourceadm:{srcSetReadyTime:1e4,allBusyTO:5e3},accbeam:{valTickCountDisp:2,valTickCountVast:2,valTickCountOther:2,tickCountDisp:3,tickCountVast:3,tickCountOther:3,tickPerDisp:3e3,tickPerDispBD:500,tickPerVast:2e3,tickPerPasv:100,tickPerOther:5e3,channels:{stage:{red:50},dto_prf_wf:{red:100},dto_prf_bd:{red:100},unit:{red:1e3},segm:{red:4e3},tagwf:{red:5e3},tagbd:{red:5e3},zd:{}}},agent:{anSiteID_main:27,anSiteID_vast:28,genReducer:1e3,logDeferred:!1},content:{chnTimeout:2e4},iFrameCommsVersion:300,language:"it",analytics:{sessionMax:50,noReductions:!1,visitThresh:18e5,initHoldOff:8e3,pingHoldOff:50,sortBeforeTX:!0,deferred:!0,heartRepTime:8e3,emailDefRed:1e4,emailHoldOff:1e3,emailTextMax:12e4,emailTextCheckMax:2e3},stage:{adBlockTO:1e4,unitCorrTol:30,orderTimeout:2e4,maxRenderCount:100,contTimeout:2e4,reportTime:4,fileTimeout:2e4,sdsTimeout:5e3,winUpdatePeriod:1e3,snipTimeout:3e3,roomTimeout:15e3,envTimeout:3e4,renderDelay:3e3,condCheckPeriod:500,domboxTimeout:15e3,paramTimeout:2e4,boostMaxTime:60,expMaxStorage:200,secMaxFactor:30,maxLoad:4,actUnitPer:2e3,goodValue:50,pbCtrlPeriod:10,usePriority:!0},datamanager:{instInfoTimeout:2e4,effChannelTimeout:2e4,fbxContentTimeout:2e4,fbxContentDelay:1e3,backupDataValidity:24},displayManager:{autoSlidePeriod:7e3},media:{audioSpeedUp:20,audioSpeedDown:20,audioMaxVol:100,drvTimeout:2e4,adReadyMaxTime:2e4,vastFileTimeout:8e3,maxRedirect:6,impressionTO:1e4,pbc:"8UeGhj8wLQ2B",usepbc:!0,useFlashCaller:!1,hostcall:!1,usecredentials:!1,allowScriptAccess:!0,allowVastSoftErrors:!1,loadHoldOff:20,defMaxSeekTime:30,adFoundRepMinTime:3e3,adVastRepMinTime:5e3,adWFRepMinTime:5e3,adBDRepMinTime:5e3,adPassRepMinTime:0,actSensCheckPer:1e3,actSensCheckPerBD:300,actSensContTh:5,actSensContThBD:1,actSensWatchTh:5,actSensSignTh:3,clickTrackHoldoff:3e3,segTimeOut:12e3,ssSmpSzMin:12,ssSmpSzMax:30,zz_dummy:0},log:{logToConsole:!1},header:{marginTop:0,target:"#header",showMinVote:2},voter:{target:"#voter",justVotedPersistence:600,votingPersistence:240,feedbackPersistence:435,feedbackFadeoutPersistence:500,showResultsAfterVotingPersistence:2e3,timeBeforeTapMessage:15e3,touchVotingTimeout:5e3,promptBlink:!0},article:{target:"#article",renderingTime:400,anRepPeriod:1e3,attnHoldOff:2e3,mouseHoldOff:4e3,touchHoldOff:4e3},articleManager:{target:"#articleManager",timeBetweenActivations:300,maxPromptPerc:50,minPromptInterval:1,connHoldOff:1e3,showWidget:{voteRecentlyWindow:2592e5,creationWindow:864e5}},UIM:{timeResolution:2e3,voteServiceTimeout:5e3,maxVotesStorage:30,maxExposureStorage:30,maxUserValueEntries:30,userValue:{sleepWeight:0,displayWeight:80,activationWeight:800,adHoverWeight:1200,adClickWeight:3e3,voteWeight:200,halfLife:1,multiplier:5,offset:0,dynamicUpdate:!0}},mouseProcessor:{idleTimeLimit:1e4,advertPersistance:200,outsidePersistance:200,advertOutPersistence:200,advertWatchdog:1e4,debounceDelay:300,unseenPersistence:3e5},touch:{recentlyWindow:100,timeout:3e3,holdoffTime:3e3,mouseCountThreshold:20},activityManager:{activePersistenceTime:1e3,ralentFactor:5},localcache:{disable:!1},audienceHub:{ampl:300,reducer:2,itemLife:1e4,rInterval:4e3,qInterval:5e3}}}(),pcm_client=function(){return function(a){function b(a,b){return null===t?b:void 0===t?b:!0!==t.go?b:void 0===t[a]?b:t[a]}function c(){return{prxVer:a.prxVer,prxType:a.prxType,plcmID:a.plcmID,partID:a.partID,opdomID:a.opdomID,bsrvID:a.bsrvID,dmod:a.dmod,lmod:a.lmod,lplcmID:a.lplcmID}}function d(a,b){function c(a){return{phs:{w:a.screen.width,h:a.screen.height},avl:{w:a.screen.availWidth,h:a.screen.availHeight},inr:{w:a.innerWidth,h:a.innerHeight},bdy:{w:a.document.body.clientWidth,h:a.document.body.clientHeight}}}function d(){return{userAgent:navigator.userAgent,appName:navigator.appName,appVersion:navigator.appVersion}}return{version:200,locTime:Date.now(),winInfo:c(a),envInfo:d(),topw:!0===b,prot:a.document.location.protocol,host:a.document.location.host,title:a.document.title}}function e(){try{var a=n(g());if(null===a)throw{s:"init"};if("string"!=typeof a.statStr)throw{s:"error"};if("string"!=typeof a.srvUrl)throw{s:"error"};return a.status="ok",a}catch(a){var b={statStr:null,srvUrl:null};return b.status=a.s,b}}function f(a,b){try{var c={statStr:a,srvUrl:b};return m(g(),c),!0}catch(a){return!1}}function g(){return r+a.plcmID+"_"+a.partID}function h(){try{return n(l())}catch(a){return null}}function i(a,b){try{return m(l(),a,b),!0}catch(a){return!1}}function j(){return a.gdprObj}function k(){return a.mediaObj}function l(){return!0===a.lmod?s+a.lplcmID+"_"+a.partID:s+a.plcmID+"_"+a.partID}function m(a,b,c){var d={ver:q,ts:Date.now()};"string"==typeof b?(d.objtype=!1,d.memdata=b):(d.objtype=!0,d.memdata=JSON.stringify(b));var e=JSON.stringify(d);if(void 0===c||!1===c)return localStorage.setItem(a,e),!0;try{var f={type:"brklnk",cmd:"setRD",data:{fnam:a,fdat:e}};return top.postMessage(JSON.stringify(f),"*"),!0}catch(a){}return!1}function n(a){try{var b=localStorage.getItem(a);if(null===b)return null;var c=JSON.parse(b);if(c.ver!==q)throw{message:"version_error"};return!0===c.objtype?JSON.parse(c.memdata):""+c.memdata}catch(a){return null}}function o(){try{var a=top}catch(b){var a=window}return a.location.protocol.toLowerCase().indexOf("http:")>=0?"http://":"https://"}var p=this,q="120",r="prx_root_",s="prx_pnws_",t=null,u="NA",v="",w="",x=e();"ok"!==x.status&&(w+="WARNING: clnt-int mem file initialized\n"),p.getPCMObj=function(){return{thisVer:"120",statStr:x.statStr,plcmData:c(),clntData:d(a.wnd,a.rtop),resultData:h(),gdprObj:j(),mediaObj:k(),proxetString:null,dboData:null,plcmSett:null}},p.setPCMObj=function(a){if("100"!==a.thisVer)return u="error",v="incomp_output_obj_version",void(w+=" ERROR incomp_output_obj_version");u=a.status,v=a.message,w+=" "+a.log,"ok"===a.status&&(f(a.statStr,a.srvUrl),t=a.instr)},p.getSrvUrl=function(){function b(a){function b(a){return a>=10?""+a:"0"+a}return"bidsrv"+b(a)+".reload.net"}var c=b(0);return!0!==isNaN(parseInt(a.bsrvID))&&(c=b(parseInt(a.bsrvID))),"string"==typeof x.srvUrl&&""!==x.srvUrl&&(c=x.srvUrl),o()+c+"/bid"},p.getMT=function(){return b("mtype","dsp")},p.getW=function(){return b("width",0)},p.getH=function(){return b("height",0)},p.getBP=function(){return b("prc",0)},p.getBC=function(){return b("cur","USD")},p.getAM=function(){return b("am",null)},p.getPingUrl=function(a){var c=b("pingdata",{});return"undefined"!==c[a]?c[a]:""},p.setRD=function(a,b){return i(a,b)},p.getStat=function(){return u},p.getMsg=function(){return v},p.getLog=function(){return w},p.getPM=function(){var a="...";return null===t?a:void 0===t?a:void 0===t.pbm?a:t.pbm}}}(),clntfile=function(a){var b=this,c=a.comps,d=100;b.read=function(a){try{var b=c.memhub.getItem(a);if(null===b)throw{};if(parseInt(b.ver)!==d)throw{};if(void 0===b.tm)throw{};if(b.tm<15475104e5)throw{};return b.data}catch(a){}return null},b.write=function(a,b){var e={ver:d,tm:Date.now(),data:b};return c.memhub.setItem(a,e,{folder:"usr",maxage:0}),e}},basebrdg=function(a){function b(a){m.logger.writex({msg:a,prefix:"basebrdg",inst:s})}function c(a,b){!1===t&&(t=!0,m.logger.debugAlert(a,b))}function d(a){void 0!==m.memhub&&m.memhub.setItem(a.lsKey,a.lsData,a.opts)}function e(a){if(void 0!==m.memhub){var b=m.memhub.getItem(a.lsKey);null!==b&&f(q,{lsKey:a.lsKey,lsData:b,opts:{}})}}function f(a,b){var c={type:"basebrdg",from:v,msgid:Math.round(99999999*Math.random()),otm:Date.now(),rti:0,pyld:{msgKey:a,msgData:b}};B.push(c)}function g(a){switch(x){case"INIT":if(!0===u){if(void 0===m.nodemanager)break;if(!0!==m.nodemanager.getStgCnst())break}C=null,x="RDY";break;case"RDY":if(null===C){if(0===B.length)break;C=B.shift()}h(C),y=a,x="WFA";break;case"WFA":if(null===C){x="RDY";break}if(a-y<p)break;b(),C.rti++,x="RDY"}}function h(a){w.postMessage(JSON.stringify(a),"*")}function i(a){function c(a,b){var c={type:"basebrdg_ack",msgid:b};a.postMessage(JSON.stringify(c),"*")}try{var d=JSON.parse(a.data);if(!0===o&&Math.random()<.3)return;if("basebrdg"===d.type){if(c(a.source,d.msgid),null!==D&&d.msgid===D.msgid)return;D=d,z++;var e=d.pyld.msgKey,f=d.pyld.msgData;void 0!==E[e]&&E[e](f),b()}else if("basebrdg_ack"===d.type){if(null===C)return;if(C.msgid!==d.msgid)return;C=null}}catch(a){}}function j(){window.removeEventListener("message",i),window.removeEventListener("unload",j)}function k(a){function d(a,b,c,d){var e="**errors**/excps/msgs",f=n.envInfo.browserName+"/"+n.envInfo.majorVersion;m.tracker.fireEvent(e+"/"+f+"/"+a,"("+b+")  "+c,{att:d}),m.tracker.fireEvent(e+"/*AllBrowsers*/"+a,"("+b+") "+c,{att:d})}var e=a.err;JSON.stringify(e);b();var f="Sub:  "+a.module+"\n\n";f+="Message--\x3e  "+JSON.stringify(e).substring(0,64)+"\n\n",void 0!==e.stack&&(f+="Stack:\n",f+=e.stack.toString()+"\n\n");var g={origin:a.origin,debugStrings:null,from:"BSBRDG_EXCPTN",subject:a.module,text:f};m.mailmaster&&m.mailmaster.sendObj(g),m.tracker&&d(a.module,a.origin,""+e,f),c("Agent 'excepHandler'",g)}var l=this,m=a.comps,n=a.bootParams,o=!1,p=300,q="set_qWeEw84n3m",r="copy_wp73k2Un18",s=Math.round(999*Math.random());b();var t=!1,u=!1;"enf"!==n.cmpcode||"sys"!==n.ctxId&&"adf"!==n.ctxId||(u=!0);var v=null,w=null,x="INIT",y=0,z=0,A=0,B=[],C=null,D=null,E={};window.addEventListener("message",i),window.addEventListener("unload",j),l.setLocalName=function(a){v=a},l.setPierWnd=function(a){w=a},l.subscribe=function(a,b){E[a]=b},l.sendMsg=function(a,b){f(a,b)},l.setItem=function(a,b,c){f(q,{lsKey:a,lsData:b,opts:c})},l.copyItem=function(a){f(r,{lsKey:a})},l.tick=function(a){try{g(a)}catch(a){var b={};b.err=a,b.module="basebrdg",b.origin=v,k(b)}if(!0===o){if(a-A<1e3)return;A=a,l.sendMsg("ping","Hi There!")}},l.subscribe(q,d),l.subscribe(r,e),m.heartL.subscribe(l.tick,"basebrdg"),l.tick(Date.now())},memhub=function(a){function b(a,b,c){if(void 0!==s.trackhub){var d="/memhub/"+t.placementId+a;s.trackhub.sendEvent("perf_low",d,b,c)}}function c(a,b,c){function d(a){var b={folder:"root",inclear:!1,maxage:x};return void 0!==a&&(void 0!==a.folder&&(b.folder=a.folder),void 0!==a.inclear&&(b.inclear=a.inclear),void 0!==a.maxage&&(b.maxage=a.maxage)),b}if(!1===A||!1===D)return!1;var e=d(c),f={vrs:u,wtm:Math.round(Date.now()/1e3),fld:e.folder,mxg:e.maxage};"string"==typeof b?(f.obj=!1,f.mdt=b):(f.obj=!0,f.mdt=JSON.stringify(b));var g=JSON.stringify(f),h=!0===w||e.inclear;if(!0===h)var i=g;else var i=l(g);var k=j(a,h);return localStorage.setItem(k,i),!0}function d(a){if(!1===A)return null;var b=i(a,!1);return null===b?null:b.data}function e(a){if(!1===A)return!1;var b=i(a,!1);return null===b?null:(localStorage.removeItem(b.key),!0)}function f(a,b){function c(c){if("*"===a||c.folder===a){var d=j[c.folder];void 0===d&&(d=[],j[c.folder]=d),"*"!==b&&c.name.indexOf(b)<0||d.push(c)}}function d(a){f+=e(h)+")\t"+a.folder+"  \t\t"+e(a.size)+" Kb   \t\t"+a.name+"\n",h++,i+=a.size}function e(a){return a>=100?""+a:a>=10?"0"+a:"00"+a}var f="",h=0,i=0,j={};g(c);var k=[];for(var l in j){var m=j[l];k.push({name:l,fileArray:m})}return k.sort(function(a,b){return a.name.localeCompare(b.name)}),k.forEach(function(a){a.fileArray.sort(function(a,b){return a.name.localeCompare(b.name)}),a.fileArray.forEach(d)}),f+="\nTotal Size: "+i+" Kb\n\n"}function g(a){if(!1!==A&&"function"==typeof a)for(var b=0;b<localStorage.length;b++){var c=localStorage.key(b),d=i(c,!0);if(null!==d){var e=h(c);a({key:c,name:e,size:d.size,data:d.data,wrTm:d.wtm,maxage:d.mxg,folder:d.fld})}}}function h(a){var b=m(a);return null!==b?b.replace(v,""):a.replace(v,"")}function i(a,b){function c(a,b){var c={stgStr:null,stgKey:null};if(!0===b){var d=localStorage.getItem(a),e=m(d);return null!==e?(c.stgKey=a,c.stgStr=e,c):(c.stgKey=a,c.stgStr=d,c)}var f=j(a,!1);if(null!==f){var g=localStorage.getItem(f);if(null!==g)return c.stgKey=f,c.stgStr=m(g),c}var f=j(a,!0),d=localStorage.getItem(f);return null!==d?(c.stgKey=f,c.stgStr=d,c):null}try{var d=c(a,b);if(null===d)return null;var e=JSON.parse(d.stgStr);if(e.vrs!==u)throw{message:"version_error"};delete e.vrs;try{e.size=Math.round(e.mdt.length/1e3),!0===e.obj?e.data=JSON.parse(e.mdt):e.data=""+e.mdt}catch(a){return null}return delete e.obj,delete e.mdt,e.key=d.stgKey,e}catch(a){}return null}function j(a,b){return!0===b?v+a:l(v+a)}function k(){var a="_fb_test_prvstg",b="_test_content_prvstg_"+Math.random().toString(16).substr(2);try{localStorage.setItem(a,b);var c=localStorage.getItem(a);if(localStorage.removeItem(a),c===b)return!0}catch(a){}return!1}function l(a){for(var b=[],c=0;c<a.length;c++){var d=c%z,e=a.charCodeAt(c)+d;b[c]=String.fromCharCode(e)}var f=b.join("");return window.btoa(f)}function m(a){try{for(var b=window.atob(a),c="",d=0;d<b.length;d++){var e=d%z,f=b.charCodeAt(d)-e;c+=String.fromCharCode(f)}return c}catch(a){}return null}function n(a){switch(B){case"INIT":C=a,B="WCT";case"WCT":if(a-C<y)break;p("*"),"dev"!==t.env&&q(),o(),B="PARK";break;case"PARK":s.heartL.unsubscribe(r.tick)}}function o(){function a(a){c(a.folder,a.name,a.size,{scl:"mediumtimes",res:"lo"}),d+=a.size}function c(a,c,d,e){b("/_s10 sizeK/_s10 by_file/"+a+"/"+c,d,e)}if(!1!==A){var d=(Math.round(Date.now()/1e3),0);g(a),b("/_s10 sizeK/_s00 total",d,{scl:"mediumtimes",res:"lo"})}}function p(a){function b(b){"*"!==a&&b.folder!==a||0!==b.maxage&&(c-b.wrTm<b.maxage||d.push(b.key))}if(!1!==A){var c=Math.round(Date.now()/1e3),d=[];g(b);var e=0;return d.forEach(function(a){localStorage.removeItem(a),e++}),e}}function q(){var a=["_fb_prvstg","X2dkYnR3fH","_fbsf_ss","_fbsf_dd","_fbsf_stg","_fb_cmpd","_fb_mem_","X2dkYnFqc"];if(!1!==A&&!(Date.now()-1565634782e3>864e6)){for(var c=[],d=!1,e=0;e<localStorage.length;e++){var f=localStorage.key(e);d=!1;for(var g=0;g<localStorage.length;g++){var h=a[g];f.indexOf(h)>=0&&(d=!0)}!0===d&&c.push(f)}var i=0;return c.forEach(function(a){localStorage.removeItem(a),i++}),i>0&&b("/_s99 cleanup/_s00 deleted",i,{scl:"mediumtimes",res:"lo"}),i}}var r=this,s=a.comps,t=a.bootParams,u=100,v="_fb_mmh_",w=!1,x=2592e3,y=1e4,z=19,A=k(),B="INIT",C=0,D=null;"dev"===t.env&&(y=2e3,w=!0),r.setItem=function(a,b,d){return c(a,b,d)},r.getItem=function(a){return d(a)},r.removeItem=function(a){return e(a)},r.getDir=function(a,b){return f(a,b)},r.tick=function(a){null===D&&void 0!==s.nodemanager&&(D=s.nodemanager.getStgCnst()),n(a)},r.isStgEnab=function(){return D},s.heartL.subscribe(r.tick,"memhub"),r.tick(Date.now())},parcels=function(a){return function(a){function b(a){i.logger.writex({msg:a,prefix:"parcels",inst:j})}function c(a){var c="NA";void 0!==a.caption&&(c=a.caption);var d=Math.round(999999*Math.random());return b(),void 0===o[a.parcelID]&&(o[a.parcelID]=[]),o[a.parcelID].push({callback:a.callback,subID:d,caption:c,enabled:!0}),d}function d(a){function c(a){var b,c=null,e=null;for(var f in o){b=d(o[f],a),o[f]=b.newSubsArray,null!==b.matchingItem&&(c=b.matchingItem,e=f)}return{matchingItem:c,matchingParcelID:e}}function d(a,b){var c=[],d=null;return a.forEach(function(a){a.subID===b?d=a:c.push(a)}),{matchingItem:d,newSubsArray:c}}return null!==c(a).matchingItem?(b(),!0):(b(),!1)}function e(a){function b(a){n.push(a),n.length<l||(f(Date.now()),g(Date.now()))}if(0!==m.length){var c={};for(c.packIdx=r,c.txtm=a,c.msgArray=[];m.length>0;){var d=m.shift();c.msgArray.push(d)}b(c),r++,s++}}function f(a){function b(a){function b(a){var b=a.parcelID;void 0===p[b]&&(p[b]=[]),p[b].push(a)}for(;a.msgArray.length>0;){b(a.msgArray.shift().msg)}}for(;n.length>0;){var c=n.shift();c.packIdx-q>1?(t++,q=c.packIdx):q++,u+=a-c.txtm,b(c)}}function g(a){function b(a,b,c){function d(a,b,c){c.forEach(function(c){if(!0===c.enabled)try{c.callback(a.data,a.parcelID)}catch(a){if(c.enabled=!1,v++,void 0===k)return;var d={};d.err=a,d.module=b,d.origin="parcels",k(d)}})}for(var e=l;a.length>0&&e>0;){d(a.shift(),b,c),e--}}for(var c in p){var d=o[c];if(void 0!==d){var e=p[c];0!==e.length&&b(e,c,d)}}}var h=this,i=a.comps,j=(a.cllBks,a.bootParams,Math.round(999*Math.random()));b();var k=a.excepHandler,l=10,m=[],n=[],o={},p={},q=0,r=0,s=0,t=0,u=0,v=0,w=Date.now();h.subscribe=function(a,b){return c("string"==typeof a?{parcelID:a,callback:b}:{parcelID:a.parcelID,callback:a.callback,caption:a.caption})},h.unsubscribe=function(a){return d(a)},h.tick=function(a){f(a),e(a),g(a)},h.sendp=function(a,b){var c={};c.msg={},c.msg.parcelID=a,c.msg.data=b,m.push(c),m.length>l&&e(Date.now())},h.getp=function(a){if(void 0===p[a])return null;var b=p[a];return 0===b.length?null:b.shift().data},h.getPerfData=function(){var a=Date.now()-w,b=0;null!==w&&a>0&&(b=Math.round(s/(a/1e3)));var c=0;s>0&&(c=Math.round(100*t/s));var d=0;return s>0&&(d=Math.round(u/s)),{totalPacks:s,packRate:b,totalExcps:v,failRate:c,avgTransTime:d}},i.heartH.subscribe(h.tick,"parcels"),h.tick(Date.now())}}(),prvstg=function(a){function b(a,b){if(!0!==q)return!1;var c=g(a),d={ver:m,ts:Date.now()};"string"==typeof b?(d.objtype=!1,d.memdata=b):(d.objtype=!0,d.memdata=JSON.stringify(b));var e=JSON.stringify(d),f=j(e);return!0===p&&(f=e),localStorage.setItem(c,f),!0}function c(a){if(!0!==q)return null;var b=g(a);try{var c=localStorage.getItem(b);if(null===c)return null;if(!0===p)var d=c;else var d=k(c);var e=JSON.parse(d);if(e.ver!==m)throw{message:"version_error"};return!0===e.objtype?JSON.parse(e.memdata):""+e.memdata}catch(a){return null}}function d(a){if(!0!==q)return!1;var b=g(a);return localStorage.removeItem(b),!0}function e(a,b){if(!0!==q)return 0;for(var c=[],e=0;e<localStorage.length;e++){var g=localStorage.key(e),i=h(g);"*"!==a&&i.indexOf(a)<0||!0===f(i,b)&&c.push(i)}var j=0;return c.forEach(function(a){d(a),j++}),j}function f(a,b){var c=Date.now(),d=g(a);try{var e=localStorage.getItem(d);if(null===e)return null;if(!0===p)var f=e;else var f=k(e);return!(c-JSON.parse(f).ts<b)}catch(a){return!0}return!1}function g(a){return!0===p?n+a:j(n+a)}function h(a){var b="";try{return b=k(a),b.replace(n,"")}catch(b){return a.replace(n,"")}}function i(){var a="_fb_test_prvstg",b="_test_content_prvstg_"+Math.random().toString(16).substr(2);try{localStorage.setItem(a,b);var c=localStorage.getItem(a);if(localStorage.removeItem(a),c===b)return!0}catch(a){}return _sendEvent("/_s90 errors","no_local_storage"),!1}function j(a){for(var b=[],c=0;c<a.length;c++){var d=c%o,e=a.charCodeAt(c)+d;b[c]=String.fromCharCode(e)}var f=b.join("");return window.btoa(f)}function k(a){for(var b=window.atob(a),c="",d=0;d<b.length;d++){var e=d%o,f=b.charCodeAt(d)-e;c+=String.fromCharCode(f)}return c}var l=this,m=100,n="_fb_prvstg_",o=21,p=!1;void 0!==a.inclear&&!0===a.inclear&&(p=!0);var q=i();l.setItem=function(a,c){return b(a,c)},l.getItem=function(a){return c(a)},l.removeItem=function(a){return d(a)},l.removeManyItems=function(a,b){return e(a,b)},l.isTooOld=function(a,b){return f(a,b)}},ajaxcall=function(a){function b(){if(!window.XMLHttpRequest)return null;var a=new window.XMLHttpRequest;return void 0===a.responseType?null:(a.onreadystatechange=function(){a.readyState===a.UNSENT||a.readyState===a.READYSTATE_UNINITIALIZED?j.initStatus=a.status:a.readyState===a.OPENED||a.readyState===a.READYSTATE_LOADING?j.openStatus=a.status:a.readyState===a.HEADERS_RECEIVED||a.readyState===a.READYSTATE_LOADED?(j.hdrRcvdStatus=a.status,void 0!==a.getAllResponseHeaders&&(j.respHdrs=a.getAllResponseHeaders()),j.respHdrs=j.respHdrs.replace(/\r\n/g," | ")):a.readyState!==a.DONE&&a.readyState!==a.READYSTATE_COMPLETE||(j.doneStatus=a.status,a.status>=200&&a.status<300||304===a.status?e(""):f("from_readyState: "+a.status))},a)}function c(){if(!window.XDomainRequest)return null;var a=new window.XDomainRequest;return a.onload=e,a.onerror=f,a.ontimeout=g,a.onprogress=h,a}function d(){if(!window.ActiveXObject)return null;var a=new ActiveXObject("Microsoft.XMLHTTP");return a.onload=e,a.onerror=f,a.ontimeout=g,a.onprogress=h,a}function e(b){void 0!==a.onSucc&&a.onSucc(l,b,j)}function f(b){void 0!==a.onFail&&a.onFail(l,b,j)}function g(b){void 0!==a.onFail&&a.onFail(l,b,j)}function h(b){void 0!==a.onProgress&&a.onProgress(l,b,j)}function i(a,b){return"string"==typeof b&&b.length>=0?a+"?"+b:a}var j={initStatus:"---",openStatus:"---",hdrRcvdStatus:"---",doneStatus:"---",respHdrs:"---"},k="XHR",l=b();if(null===l&&(k="XDR",l=c()),null===l&&(k="AXO",l=d()),null===l)throw k="NA","cannot_create_xhr_obj";this.getAjxObjType=function(){return k};var m={};void 0!==a.options&&(m=a.options);var n=a.url;if("GET"===a.method&&void 0!==a.data&&(n=i(a.url,a.data)),l.open(a.method,n),l.timeout=1e4,"number"==typeof m.timeout&&(l.timeout=m.timeout),"AXO"!==k){var o=!0;void 0!==m.withCredentials&&!0!==m.withCredentials&&(o=!1),l.withCredentials=o,void 0!==m.customHeaders&&m.customHeaders.forEach(function(a,b){l.setRequestHeader(b,a)}),void 0!==m.preflight&&!0===m.preflight&&l.setRequestHeader("X-Requested-With","XMLHttpRequest");var p="text/plain";void 0!==m.contentType&&(p=m.contentType),l.setRequestHeader("Content-Type",p)}"POST"===a.method&&void 0!==a.data?l.send(a.data):l.send()},textools=function(options){function testPackUnPack(a){var b=that.paob(a);if(null!==b){that.upaob(b)}return 1}var that=this,_stashBuffer=[],_initTime=Date.now();that.getValueSlot=function(a,b,c){try{if(b>a[a.length-1])return"["+that.formInt(a[a.length-1],c)+"++]";if(b<a[0])return"["+that.formInt(a[0],c)+"--]";for(var d=a.length-2;d>=0&&!(b>=a[d]);)d-=1;if(d<0)throw{};return"["+that.formInt(a[d],c)+"-"+that.formInt(a[d+1],c)+"]"}catch(a){}return"ERR"},that.formInt=function(a,b){var c=2;void 0!==b&&(c=b);for(var d=1,e=10,f="",g=100;g>0;)if(g--,a<e&&(f+="0"),d++,e*=10,d>=c){f+=a;break}return f},that.locateInPage=function(a,b,c){if("string"==typeof c&&"NA"!==c&&""!==c){var d=a.document.getElementById(c);if(null===d)return null;if("iframe"!==d.tagName.toLowerCase())return null;return d.contentWindow.document.getElementById(b)}return a.document.getElementById(b)},that.getFxDecStr=function(a){if("number"!=typeof a)return a;var b=Math.round(a);return 0===b?"000":b<10?"00"+b:b<100?"0"+b:""+b},that.objxt=function(a,b){function c(a,b){function f(a){return Array.isArray(a)}function g(a){return!0!==f(a)&&(null!==a&&"object"===_typeof(a))}if(d>e)return">>> recursion_error <<<";if(!0===f(b)){for(var h=[],i=0;i<b.length;i++){var j=b[i],k={};d++,k=c(k,j),d--,h.push(k)}return h}if(!0===g(b)){var l={};for(var m in a)!0===a.hasOwnProperty(m)&&(d++,l[m]=c({},a[m]),d--);for(var m in b)if(!0===b.hasOwnProperty(m)){d++;var n={};void 0!==a[m]&&(n=a[m]),l[m]=c(n,b[m]),d--}return l}return b}var d=0,e=20;return c(a,b)},that.findInObj=function(a,b){function c(a,b){function f(a){return Array.isArray(a)}function g(a){return!0!==f(a)&&(null!==a&&("function"==typeof a||"object"===_typeof(a)))}if(d>e)throw{msg:">>> recursion_error <<<"};if(!0===f(b)){for(var h=0;h<b.length;h++){if(d++,!0===c(a,b[h]))return!0;d--}return!1}if(!0===g(b)){for(var i in b)if(!0===b.hasOwnProperty(i)){if(d++,!0===c(a,b[i]))return!0;d--}return!1}return a===b}var d=0,e=20;return c(a,b)},that.deepAccess=function(a,b,c){function d(a){return!0!==e(a)&&(null!==a&&("function"==typeof a||"object"===_typeof(a)))}function e(a){return Array.isArray(a)}function f(a){return"string"==typeof a}if(!0!==d(a))return c;if(!0!==f(b))return c;for(var g=b.split("."),h=a,i=0;i<g.length;i++){var h=h[g[i]];if(void 0===h)return c}return h},that.deepSetValue=function(a,b,c){for(var d,e=b.split("."),f=0,g=e.length,h=a;f<g;++f)d=h[e[f]],h=h[e[f]]=f===g-1?c:null!=d?d:!~e[f+1].indexOf(".")&&+e[f+1]>-1?[]:{}},that.objxt_pl=function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},that.whirliGig=function(a){var b=1e7;if(a>=100)return!0;if(a<=0)return!1;var c=Math.round(Math.random()*b),d=Math.round(b*a/100),e=c+d;e>b&&(e=b,c=e-d);Math.random();Math.random(),Math.random(),Math.random();var f=Math.round((1-Math.random())*b);return!(f>=e)&&!(f<c)},that.parseBool=function(a){return _typeof(a)==_typeof(!0)?a:"true"===a||"false"!==a&&void 0},that.chunkShuffle=function(a,b){for(var c,d=[],e=100;e>0&&(e--,c=a.slice(d.length,d.length+b),0!==c.length);)c=that.shuffle(c),d=d.concat(c);return d},that.shuffle=function(a){function b(a){if(0===a.length)return{item:null,array:a};for(var b=[],c=null,d=Math.floor(Math.random()*a.length),e=0;e<a.length;e++)e!==d?b.push(a[e]):c=a[d];return{item:c,array:b}}for(var c=[].concat(a),d=[],e=300;e>0;){e--;var f=b(c);if(null===f.item)break;d.push(f.item),c=f.array}return d},that.getDateString=function(a){function b(a){return a<10?"0"+a:a}var c=Date.now();void 0!==a&&null!==a&&(c=a);var d=new Date(c),e="";return e+=""+d.getFullYear(),e+="-"+b(d.getMonth()+1),e+="-"+b(d.getDate()),e+=" "+b(d.getHours()),e+=":"+b(d.getMinutes()),e+=":"+b(d.getSeconds())},that.formatString=function(a,b){var c,d=a;for(c in b)if(void 0!==b[c]){var e=new RegExp("\\${"+c+"}","g");d=d.replace(e,b[c])}return d=d.replace(/[\${]+[\w]+[}]/g,"")},that.parse=function(a,b){function c(a,b,c){function d(a,b){function c(a,b){var c=","+b+":",d=a.indexOf(c);return d>=0?d+1:(c=b+":",d=a.indexOf(c),0===d?0:-1)}function d(a){var b=""+a;b=b.replace("(?![a-zA-Z0-9_.-])",",");var c=b.indexOf(",");return c>=0&&(b=b.substring(0,c)),b}var e=a.replace(/\s+/g,""),f=e.toLowerCase(),g=b.toLowerCase(),h=c(f,g);if(h<0)return null;var i=h+g.length+1;return f=f.substring(i),f=d(f),e.substring(i,i+f.length)}var e={status:"undef",code:"",msg:"",data:null},f=d(a,b);if(null===f)return e.status="not_found",e;if("keyword"===c[b].type)return f=f.toLowerCase(),c[b].series.indexOf(f)>=0?(e.status="ok",e.data=f,e):(e.status="error",e.msg="unknown value:'"+f+"'",e.data=f,e);if("string"===c[b].type)return e.status="ok",e.data=f,e;if("boolean"===c[b].type)return"true"!==(f=f.toLowerCase())&&"false"!==f?(e.status="error",e.msg="invalid value for '"+b+"': '"+f+"'",e.data=f,e):(e.status="ok",e.data="true"===f||"false"!==f&&null,e);if("number"===c[b].type){e.percent=!1;var g=parseFloat(f),h=c[b].min,i=c[b].max;return e.status="ok",(void 0!==h&&g<h||void 0!==i&&g>i)&&(e.msg="out-of-range value for '"+b+"': "+f,e.status="error"),e.data=g,e}return e.status="error",e.msg="programming error: key:'"+b+"', type:'"+c[b].type+"'",e.data=f,e}var d={stat:"ok",msg:null},e={};for(var f in b){var g=c(a,f,b);if("ok"!==g.status){if("not_found"===g.status){if(void 0!==b[f].req&&!0===b[f].req){d.stat="error",d.msg="missing key:"+f+", msg: "+g.msg;break}if(void 0!==b[f].defvalue){e[f]=b[f].defvalue;continue}e[f]="unspecified"}}else e[f]=g.data}return d.parsedObj=e,d},that.genUUID=function(){function a(b){return b?(b^16*Math.random()>>b/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,a)}return a()},that.convHTMLEnts=function(a){var b=""+a;return b=b.replace(/&amp;/g,"&"),b=b.replace(/&quot;/g,'"'),b=b.replace(/&apos;/g,"'"),b=b.replace(/&nbsp;/g," ")},that.checkStrCond=function(a,b){if(void 0===b)return!0;var c=b.replace(/\s+/g,"");if("*"===c)return!0;if(""===c)return!0;var d=c.toLowerCase().split("&"),e=a.toLowerCase().replace(/\s/g,""),f=!0;return d.forEach(function(a){!0===f&&e.indexOf(a)<0&&(f=!1)}),f},that.paob=function(a){function b(a){var b=[],c=null,d=0;for(var e in a)d++,null!==c?b.push(e):c=e;return{elmCount:d,keyMap:b,entryKey:c}}function c(a){var b=0;for(var c in a)b++;return b}function d(a,b){for(var c=[],d=0;d<b.length;d++)c.push(a[b[d]]);return c}var e={keyMap:[],entryKey:null,valVectors:{}};if(void 0===a)return null;var f=a[0];if(void 0===f)return null;if(c(f)<1)return null;var g=b(f);if(0===e.elmCount)return null;e.entryKey=g.entryKey,e.keyMap=g.keyMap;for(var h=0;h<a.length;h++){var i=a[h],j=i[e.entryKey],k=d(i,e.keyMap);e.valVectors[j]=k}return e},that.upaob=function(a){var b=a.keyMap,c=a.entryKey,d=a.valVectors,e=[];for(var f in d){var g=d[f],h={};h[c]=f;for(var i=0;i<b.length;i++){h[b[i]]=g[i]}e.push(h)}return e},that.parseEncJSONData=function(encodedJSONDataStr){if("string"!=typeof encodedJSONDataStr)return null;if("unspecified"===encodedJSONDataStr)return null;if(""===encodedJSONDataStr)return null;try{var decodedJSONDataStr=atob(encodedJSONDataStr),dataobj;return eval("var dataobj = "+decodedJSONDataStr),dataobj}catch(a){return null}},that.printObj=function(a,b,c){function d(a,b){function c(a){for(var b="",c=0;c<a;c++)b+="    ";return b}function g(a){return Array.isArray(a)}function h(a){return null!==a&&("function"==typeof a||"object"===_typeof(a))}function i(a){return"string"==typeof a}function j(a){for(var b in a)return!1;return!0}if(a>e)return">>> recursion_error <<<";var k=""
;if(!0===g(b))if(0===b.length)k="[]";else{a++;for(var l=0;l<b.length;l++){var m=b[l];k+="\n",k+=c(a)+"["+l+"] = ",k+=d(a,m)}a--}else if(!0===h(b))if(!0===j(b))k="{}";else{a++;for(var n in b)k+="\n",k+=c(a)+"["+n+"] = ",!0!==b.hasOwnProperty(n)?k+="Object":k+=d(a,b[n]);a--}else if(!0===i(b)){var o=""+b;o.length>f&&(o=o.substring(0,f)+" ... (truncated)"),k='"'+o+'"'}else k=""+b;return k}var e=20,f=99999;return void 0!==c&&(f=c),d(a,b)},that.addStashObject=function(a,b){_stashBuffer.push({ts:Date.now()-_initTime,name:a,data:b})},that.printStashBuffer=function(){function a(a){var b=Math.floor(a/1e3),c=a-1e3*b;return b=b<10?" "+b:""+b,c=0===c?"000":c<10?"00"+c:c<100?"0"+c:""+c,b+"."+c}var b=0,c="";return _stashBuffer.forEach(function(d){b=0,c+=a(d.ts)+' : "'+d.name+'" : \n',c+=that.printObj(b,d.data)+"\n\n\n"}),c},that.o=function(a){for(var b=[],c=0;c<a.length;c++){var d=c%16,e=a.charCodeAt(c)+d;b[c]=String.fromCharCode(e)}var f=b.join("");return window.btoa(f)},that.d=function(a){for(var b=window.atob(a),c="",d=0;d<b.length;d++){var e=d%16,f=b.charCodeAt(d)-e;c+=String.fromCharCode(f)}return c};var testArray1=[{tagName:"tagName0",value0:0,value1:1,value2:2,value3:3,value4:4},{tagName:"tagName1",value0:0,value1:1,value2:2,value3:3,value4:4},{tagName:"tagName2",value0:0,value1:1,value2:2,value3:3,value4:4},{tagName:"tagName3",value0:0,value1:1,value2:2,value3:3,value4:4},{tagName:"tagName4",value0:0,value1:1,value2:2,value3:3,value4:4},{tagName:"tagName5",value0:0,value1:1,value2:2,value3:3,value4:4}]},antools=function(){function a(a){function b(a){for(var b=[],c=a.length-1;c>=0;c--)b.push(-a[c]);return 0===b[b.length-1]&&b.pop(),b.concat(a)}function c(a,b,c,d){var f,g=[],h=0,i=a,j=null;for(0===i&&(g.push(i),h++,i=1,g.push(i),h++);;){if((i*=b)>c)break;if(f=e(i),(null===j||f!==j)&&(g.push(f),j=f,++h>=d))break}return g}function d(a,b,c){for(var d=[],f=0,g=a;g<=c&&(d.push(g),!(++f>=h));)g=e(g+b);return d}function e(a){for(var b=Math.round(a),c=""+b,d="",e=0;e<c.length;e++)d+=e<2?c.charAt(e):"0";return parseInt(d)}var f,g=1e3;void 0!==a.maxval&&(g=a.maxval);var h=1e3;if(void 0!==a.maxcount&&(h=a.maxval),!0===a.exp){var i=(100+a.inc)/100;f=c(a.start,i,g,h)}else f=d(a.start,a.inc,g,h);return!0===a.mirror?b(f):f}return{ranges:{shorttimes:[0,10,20,30,40,50,60,70,80,90,100,200,300,400,500,600,700,800,900,1e3,1200,1400,1700,2e3,2200,2400,2700,3e3,3500,4e3,4500,5e3,5500,6e3,6500,7e3,7500,8e3,9e3,1e4,12e3,14e3,16e3,18e3,2e4],shorttimesLR:[0,100,200,300,400,500,600,700,800,900,1e3,1200,1400,1600,1800,2e3,2400,2700,3e3,4e3,5e3,6e3,7e3,8e3,1e4,12e3,14e3,16e3,18e3,2e4],mediumtimes:[0,1,2,3,4,5,6,7,8,9,10,12,14,16,18,20,22,24,26,28,30,33,36,40,43,46,50,53,56,60,63,66,70,75,80,85,90,100,110,120,130,140,150,160,170,180,200,230,270,300,350,400,450,500],tbrtimes:[0,1,2,3,4,5,6,7,8,9,10,12,14,16,18,20],plusNegCnt:[-100,-90,-80,-70,-60,-50,-40,-35,-30,-25,-22,-20,-18,-16,-14,-12,-10,-9,-8,-7,-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6,7,8,9,10,12,14,16,18,20,22,25,30,35,40,50,60,70,80,100],longtimes:[0,1,3,5,7,10,15,20,25,30,35,40,45,50,60,70,80,90,100,120,140,160,180,200,250,300,350,400,450,500,600,700,800],lineartimes:[0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100,105,110,115,120,125,130,135,140,145,150,155,160,165,170,175,180],screenDims:[0,200,300,400,500,600,700,800,900,1e3,1100,1200,1220,1240,1260,1280,1300,1320,1340,1360,1380,1400,1420,1440,1460,1480,1500,1600,1700,1800,1900],cycleCount:[0,1,2,3,4,5,6,7,8,9,10,12,15,20,25,30,35,40,45,50,60,70,80,90,100,120,140,160,180,200,220,240,260,280,300,330,360,400,430,460,500,550,600,650,700,750,800,850,900,950,1e3,1500,2e3,2500,3e3,3500,4e3,4500,5e3,6e3,7e3,8e3,9e3,1e4,12e3,15e3,2e4],boxWidth:[0,200,260,280,300,310,320,330,340,350,360,370,380,390,400,420,450,470,500,530,570,600,700,800,900,1e3],percRange:[0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100],highPercRange:[0,10,20,30,40,50,55,60,65,70,75,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100],dtoRange:[0,1,2,3,4,5,6,8,10,12,14,17,20,23,26,30,35,40,45,50,60,70,80,90,100],takerates:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.2,1.4,1.7,2,2.5,3,3.5,4,4.5,5,6,8,10,12,14,17,20,23,26,30,35,40,45,50,60,70,80,90,100],relmarg:[-20,-15,-10,-9,-8,-7,-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6,7,8,9,10,15,20],hours:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],relmarg_F:[-17714,-10949,-6765,-4181,-2584,-1597,-987,-610,-377,-233,-144,-89,-55,-34,-21,-13,-8,-5,-3,-2,-1,0,1,2,3,5,8,13,21,34,55,89,144,233,377,610,987,1597,2584,4181,6765,10949,17714],relmarg_H:[-10,-9,-8,-7,-6,-5,-4.5,-4,-3.5,-3,-2.5,-2,-1.7,-1.4,-1.2,-1,-.9,-.8,-.7,-.6,-.5,-.4,-.3,-.2,-.1,0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.2,1.4,1.6,1.8,2,2.3,2.7,3,3.5,4,4.5,5,6,7,8,9,10],unity:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],tmop:[0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100,105,110,115,120,125,130,135,140,145,150,155,160,165,170,175,180,185,190,195,200,205,210,215,220,225,230,235,240,245,250,255,260,265,270,275,280,285,290,295,300]},addSeries:function(b,c){if(void 0===this.ranges[b]){var d=a(c);this.ranges[b]=d}},isSeries:function(a){return void 0!==this.ranges[a]},getRangeStr:function(a,b){function c(a){if("number"!=typeof a)return a;var b=Math.round(a);return 0===b?"000":b<10?"00"+b:b<100?"0"+b:""+b}var d=this.getRangeData(a,b);return"_"+c(d.index)+"_["+d.rangeL+", "+d.rangeH+"]"},getRangeData:function(a,b){function c(a){var b=Math.round(a);return 0===b?"000":b<10?"00"+b:b<100?"0"+b:""+b}var d=Math.round(parseFloat(a));if(!0===isNaN(d))return"NaN";if(b in this.ranges==!1)return"noValidRange";var e=this.ranges[b],f={index:-1,rangeL:null,rangeH:null};if(e.length<2)return f;if(d<e[0])return f.index="^^^",f.rangeL="0",f.rangeH=e[0],f;if(d>=e[e.length-1])return f.index="vvv",f.rangeL=e[e.length-1],f.rangeH="plus",f;for(var g=0;g<e.length-1;g++)if(d>=e[g]&&d<e[g+1])return f.index=c(g),f.rangeL=e[g],f.rangeH=e[g+1],f;return f.index="err!",f},getTimeStr:function(a,b){var c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],d="",e=new Date;return e.setTime(a),void 0!==b&&!0===b?(d=e.getFullYear()+"-",d+=c[e.getMonth()]+"-",d+=e.getDate()+" ",d+=e.getHours()+":",d+=e.getMinutes()+":",d+=e.getSeconds()):(d=e.getUTCFullYear()+"-",d+=c[e.getUTCMonth()]+"-",d+=e.getUTCDate()+" ",d+=e.getUTCHours()+":",d+=e.getUTCMinutes()+":",d+=e.getUTCSeconds()),d},getTimeSlotTen:function(){function a(a){return a<10?"0"+a:""+a}function b(a){return 10*Math.floor(a/10)}var c=new Date;return a(c.getUTCHours())+":"+a(b(c.getUTCMinutes()))}}}(),heartx=function(a){function b(a){function b(){var a=Date.now()-G,b=Math.floor(a/1e3),c=a-1e3*b;return b=b<10?" "+b:""+b,c=0===c?"000":c<10?"00"+c:c<100?"0"+c:""+c,b+"."+c}if(!0===r&&!0===I){var c=b()+" _hrtX ("+L+") "+a;console.log(c)}}function c(){N=Math.round(ya.length*A),O=ya.length*B}function d(a,b,c){null!==P&&(P.sendEvent("performance","heartx/"+L+"/"+a,b,c),P.sendEvent("performance","heartx/*AllPlms*/"+a,b,c))}function e(a,b,c){!1===H&&null!==P&&P.sendEvent("perf_low","heartx/"+L+"/"+a,b,c)}function f(){ya.sort(function(a,b){return a.caption<b.caption?-1:a.caption>b.caption?1:0})}function g(){!0!==fa&&(Date.now()-ia<y||(fa=!0,ha=Date.now(),b(),J("boost ON")))}function h(){if(!1!==fa&&(fa=!1,ia=Date.now(),ja+=Date.now()-ha,ha=0,b(),J("boost OFF"),!0===ga)){ga=!1;d("boost/_s41 boost_off",Math.round((Date.now()-G)/1e3),{scl:"mediumtimes",res:"lo"})}}function i(a,b){var c=this;c.tickFunc=a,c.caption=b,c.fault=!1,c.stop=!1;var d=0;c.loopCall=function(a){function b(a,b){return{code:a,errObj:b}}function e(){return{code:"ok"}}if(!0===c.stop)return b("stop");if(!0===c.fault)return b("fault");a-d<10&&b("early"),d=a;try{return c.tickFunc(a),e()}catch(a){if(c.fault=!0,null!==Q){var f={};f.err=a,f.module=c.caption,f.origin="loop",Q(f)}return b("error",a)}}}function j(a){function b(a){m(a,o,p,q,r)}function c(a){t!==a&&(t=a,b("raf"),p++),!0===n&&requestAnimationFrame(c)}function d(){b("bas"),o++,!0!==n&&clearInterval(s)}function e(a){try{var c="var a=0; setInterval(function t() { postMessage(a++); }, "+a+");",d=new Blob([c],{type:"text/javascript"}),e=window.URL.createObjectURL(d);return u=new Worker(e),u.onmessage=function(a){!0===n&&(b("wrk"),q++)},u.postMessage(JSON.stringify({p:i})),!0}catch(a){}return!1}function f(){function a(){b("gng"),r++,!0!==n&&clearInterval(c)}var c=setInterval(a,j)}var g=this,h=(a.envcode,a.perBase),i=a.perWorker,j=a.perGang,k=a.enableWrkr,l=a.enableRAF,m=a.callback,n=!0,o=0,p=0,q=0,r=0,s=null,t=0,u=null,v=[];if(s=window.setInterval(d,h),!0!==k||!0!==e(i))for(var w=0;w<C;w++)v.push(new f);!0===l&&"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(c),g.stop=function(){n=!1}}function k(a,b,c,d,e){oa=b,pa=c,qa=d,ra=e,V=F(),null!==W&&(Y+=V-W),m(a),W=F(),X+=W-V,V-U>1e3&&(U=V,l(!1))}function l(a){p();b()}function m(a){function c(){var a,c=!1,d=N;!0!==K&&!0!==fa||(d=O),sa++;var f=F();a=n(f,d,z),!0===a.brokenCycle&&(c=!0),_++;var g=a.loopCount;aa+=g/ya.length;var h=F();if(ca+=h-f,0!==da&&(ea+=f-da),da=f,!0===c){ba++;var i=F()-f;b(),e("brst/_s32 brkn/tim",i,{scl:"mediumtimes",res:"lo"}),e("brst/_s32 brkn/len",g,{scl:"mediumtimes",res:"lo"})}}function d(a){if(null===va&&(va=a),!(a-va>6e4||(null===wa&&(wa=a),a-wa<800))){var b=a-wa;0===b&&(b=1),wa=a;var c=oa-la;la=oa;var d=Math.round(1e3*c/b),e=pa-ma;ma=pa;var g=Math.round(1e3*e/b),h=qa-na;na=qa;var i=Math.round(1e3*h/b),j=sa-ka;ka=sa;var k=Math.round(1e3*j/b),l=ya.length,m={time:a-T,status:f(),boostFlag:fa,totModules:l,effFreq:k,baseFreq:d,rafFreq:g,workFreq:i};ua.unshift(m)}}function f(){return!0===fa?"***":" "}var g=Date.now();g-Aa<w||(Aa=g,!0!==za&&(za=!0,c(),za=!1,void 0===ta[a]?ta[a]=1:ta[a]++,d(g),0!==ha&&g-ha>x&&h()))}function n(a,c,f){for(var g,h,i,j,k=!1,l=Date.now(),m=0;m<c&&(m++,g=ya[R],!1===k);)if(h=F(),i=g.loopCall(l),j=F()-h,"error"===i.code&&(b(),d("excps/modules",g.caption)),j>D&&(xa.push({when:l,who:g.caption,what:j}),b(),e("viols/modules",g.caption)),R++,R>=ya.length&&(R=0),!(h-a<f)){k=!0,b();break}return{loopCount:m,brokenCycle:k}}function o(){function a(){var a=0,b={};for(var c in ta)a+=ta[c];for(var c in ta)b[c]=a>0?Math.round(100*ta[c]/a):0,d("mode_shares/"+c,b[c],{scl:"percRange",res:"lo"});return b}function b(a){return 0===a?"00":a<10?"0"+a:""+a}function c(a){var b=a,c=Math.floor(b/1e3),d=b-1e3*c;return c=c<10?"0"+c:""+c,d=0===d?"000":d<10?"00"+d:d<100?"0"+d:""+d,c+"."+d}function e(){var a=Date.now()-T;return{avgEffFrequency:Math.round(1e3*sa/a),avgRefFrequency:Math.round(1e3*oa/a),avgRAFFrequency:Math.round(1e3*pa/a),avgWorkFrequency:Math.round(1e3*qa/a),perfSeries:ua}}function g(){for(var a="",b=0;b<ya.length;b++){var c=ya[b],d="";b<100&&(d+="0"),b<10&&(d+="0"),d+=b+") ",a+=d+"       ",a+=c.caption,!0===c.stop&&(a+="(stopped) "),!0===c.fault&&(a+="(fault) "),a+="\n"}return a}var h=Date.now()-G,i=Math.round(h/100)/10,j=Math.round(1e3/t),k=Math.round(1e3/u),l=Math.round(1e3/w),m=e(),n="Snapshot at: "+i+" sec\n\n";n+="Dyn Params:\n",n+="period_B: "+t+"\n",n+="period_W: "+u+"\n",n+="period_G: "+v+"\n",n+="period_EFF: "+w+"\n",n+="maxBrstTime: "+z+"\n",n+="maxBrstCycles: "+B+"\n",n+="boostTimeSpan: "+x+"\n",n+="moduleLoopTimeTh: "+D+"\n\n",n+="Average BASE frequency: "+m.avgRefFrequency+"  ("+j+")\n",n+="Average RAF frequency: "+m.avgRAFFrequency+"  (60)\n",n+="Average WORK frequency: "+m.avgWorkFrequency+"  ("+k+")\n",n+="Average EFF frequency: "+m.avgEffFrequency+"  ("+l+")\n\n",d("avgfrq/bs",m.avgRefFrequency,{scl:"mediumtimes",res:"lo"}),d("avgfrq/rf",m.avgRAFFrequency,{scl:"mediumtimes",res:"lo"}),d("avgfrq/wk",m.avgWorkFrequency,{scl:"mediumtimes",res:"lo"}),d("avgfrq/eff",m.avgEffFrequency,{scl:"mediumtimes",res:"lo"}),n+="Boost Series:\n\n";for(var o=m.perfSeries.length,q=0;q<o;q++){var r=m.perfSeries[o-q-1],s=Math.floor(r.time/1e3),y=r.time-1e3*s;s=s<10?" "+s:""+s,y=0===y?"000":y<10?"00"+y:y<100?"0"+y:""+y;var A=s+"."+y,C=r.totModules,E=""+r.curAdLevel;r.curAdLevel<10&&(E="0"+E);var F=""+r.baseFreq;r.baseFreq<10&&(F="0"+r.baseFreq);var H=""+r.rafFreq;r.rafFreq<10&&(H="0"+r.rafFreq);var I=""+r.workFreq;r.workFreq<10&&(I="0"+r.workFreq);var J=""+r.effFreq;r.effFreq<10&&(J="0"+r.effFreq),n+="Time: "+A+"  |  Modules: "+C+"  |  Base Freq: "+F+"  |  RAF Freq: "+H+"  |  Work Freq: "+I+"  |  Eff Freq: "+J+"  |  Boost: "+r.status+"\n"}f();var K=g();n+="\nSnapshot of Module List:\n\n",n+=K+"\n";var L=p();n+="\nCPU Load:\n\n",n+="Total Own Time: "+L.totOwnTime+" sec\n",n+="Total Time: "+L.totTime+" sec\n",n+="Avg Load: "+L.avgCpuLoad+" %\n\n",d("prc_load/_s10 load_%",L.avgCpuLoad,{scl:"dtoRange",res:"lo"}),d("prc_load/_s20 own_tm",L.totOwnTime,{scl:"mediumtimes",res:"lo"}),d("prc_load/_s30 tot_tm",L.totTime,{scl:"mediumtimes",res:"lo"}),n+="\nViolations:\n\n";var M=0,N=0;xa.forEach(function(a,d){n+="  "+b(d)+")  "+c(a.when-T)+" - "+a.who+" - "+a.what+" ms\n",M++,N+=a.what}),M>0&&(N=Math.round(100*N/M)/100),d("viols/counts",M,{scl:"mediumtimes",res:"lo"}),d("viols/times",N,{scl:"mediumtimes",res:"lo"}),n+="\n\nBurst Stats:\n\n";var O=Math.round(1e3*ja/h)/10,P=0;_>0&&(P=Math.round(ea/_));var Q=0;_>0&&(Q=Math.round(1e3*ba/_)/10);var R=0;_>0&&(R=Math.round(10*ca/_)/10);var S=0;P>0&&(S=Math.round(1e3*R/P)/10);var U=0;return _>0&&(U=Math.round(10*aa/_)/10),n+="Total Boost Time: "+Math.round(ja/1e3)+" sec (perc: "+O+"%)\n",n+="Eff Avg Burst period: "+P+" ms (spec: "+w+" ms)\n",n+="Avg Burst Time: "+R+" ms (load: "+S+"%) (limit: "+z+" ms)\n",n+="Avg Burst Length: "+U+" cls (spec: "+B+" cls)\n",n+="Broken Bursts: "+Q+"%  ("+ba+" / "+_+")\n",d("brst/_s10 avg_per",P,{scl:"mediumtimes",res:"lo"}),d("brst/_s12 avg_tm",R,{scl:"mediumtimes",res:"lo"}),d("brst/_s14 avg_len",U,{scl:"mediumtimes",res:"lo"}),d("brst/_s20 load_prc",parseInt(S),{scl:"mediumtimes",res:"lo"}),d("brst/_s30 total",_,{scl:"shorttimes",res:"lo"}),d("brst/_s32 brkn/share",Q,{scl:"mediumtimes",res:"lo"}),a(),n}function p(){var a="NA",b="NA",c="NA",d="NA";if(null!==X){if(a=Math.round(X/10)/100,b=Math.round((X+Y)/10)/100,c=Math.round(1e4*a/b)/100,null!==Z){var e=Math.round((X-Z)/10)/100,f=Math.round((X+Y-Z-$)/10)/100;d=Math.round(1e4*e/f)/100}Z=X,$=Y}return{totOwnTime:a,totTime:b,avgCpuLoad:c,shrtCpuLoad:d}}var q=this,r=!1,s=100,t=a.per_B||40,u=a.per_W||40,v=a.per_G||160,w=a.per_E||50,x=1e3,y=500,z=2,A=1,B=3,C=2,D=10,E=!1,F=function(){return Date.now()};try{performance.now();F=function(){return Math.round(performance.now())},E=!0}catch(a){}var G=Date.now(),H=!0;Math.random()<1/s&&(H=!1);var I=!1;location.host.indexOf("3001")>=0&&(I=!0);var J=a.addLogLine,K=!0,L=a.envcode,M=(Math.round(999*Math.random()),null),N=0,O=0,P=null,Q=null,R=0,S=!1,T=null,U=0,V=null,W=null,X=null,Y=null,Z=null,$=null,_=0,aa=0,ba=0,ca=0,da=0,ea=0,fa=!1,ga=!0,ha=0,ia=0,ja=0,ka=0,la=0,ma=0,na=0,oa=0,pa=0,qa=0,ra=0,sa=0,ta={},ua=[],va=null,wa=null,xa=[],ya=[],za=!1,Aa=0;q.setAltPrms=function(a){var b="undefined";_typeof(a.period_B)!==b&&(t=a.period_B),_typeof(a.period_G)!==b&&(v=a.period_G),_typeof(a.period_EFF)!==b&&(w=a.period_EFF),_typeof(a.maxBrstTime)!==b&&(z=a.maxBrstTime),_typeof(a.maxBrstCycles)!==b&&(B=a.maxBrstCycles),_typeof(a.boostTimeSpan)!==b&&(x=a.boostTimeSpan)},q.setExcepCallback=function(a){Q=a},q.setTracker=function(a){P=a,!0===E?d("hires","YES"):d("hires","NO")},q.getInstStatus=function(){return 0===ua.length?null:ua[0]},q.bootOff=function(){if(!1!==K){K=!1,b(),J("boot OFF");d("boost/_s40 boot_end",Date.now()-G,{scl:"shorttimes",res:"lo"})}},q.boostOn=function(a){!0===a?g():h()},q.start=function(b){var c={status:"error",mode:"---"};return T=Date.now(),void 0!==b&&(T=b),null===(M=new j({envcode:L,perBase:t,perWorker:u,perGang:v,enableWrkr:a.wrkr,enableRAF:a.raf,callback:k}))?(c.status="error",c.mode="heart_failed",c):(S=!0,c.status="ok",c.mode="clk_frm",c)},q.subscribe=function(a,b){var d="NA";void 0!==b&&(d=b);var e=new i(a,d);ya.push(e),c()},q.unsubscribe=function(a){for(var d=[],e=0;e<ya.length;e++){var f=ya[e];f.tickFunc!==a?d.push(f):b()}ya=d,c()},q.getPerfReport=function(){return o()},q.getEnvCode=function(){return L},q.stop=function(){null!==M&&M.stop(),S=!1}},domtool=function(a){function b(a){if(g=null,""!==a)try{return g=j.document.querySelector("#"+a)}catch(a){return null}}function c(a){var b,c;return"string"!=typeof a?a:""===a?g:null!==g&&(b=g.getElementsByClassName(a),b.length>0)?b[0]:null!==(c=j.document.getElementById(a))?c:(b=j.document.getElementsByClassName(a),b.length>0?b[0]:null)}function d(a,b){var c,d=a;for(c in b)if(void 0!==b[c]){var e=new RegExp("\\${"+c+"}","g");d=d.replace(e,b[c])}return d=d.replace(/[\${]+[\w]+[}]/g,"")}function e(a){for(var b=(a.childNodes,0);b<a.childNodes.length;b++){var c=a.childNodes[b];if(null!==c.firstChild&&e(c),null!==c.nodeName&&"SCRIPT"===c.nodeName.toUpperCase()&&(!c.type||"text/javascript"===c.type))if(c.src){var d=j.document.createElement("script");d.setAttribute("type","text/javascript"),d.src=c.src,j.document.head.appendChild(d)}else window.eval.call(window,c.innerHTML)}}var f=this,g=null,h=null,i="---",j=window;void 0!==a&&(void 0!==a.hostWnd&&(j=a.hostWnd),void 0!==a.wrapper_element_id&&b(a.wrapper_element_id)),f.setWrapperElement=function(a){return b(a)},f.getElmHandle=function(a){return c(a)},f.addClass=function(a,b){var d=c(a);if(null===d){target_element_in_addClass}var e=""+d.className;e.indexOf(b)>=0||(e+=" "+b,e=e.replace(/\s{2}/gm," "),d.className=e)},f.removeClass=function(a,b){var d=c(a);if(null===d){target_element_in_removeClass}var e=""+d.className;e.indexOf(b)<0||(e=e.replace(b,""),e=e.replace(/\s{2}/gm," "),e.length>0&&" "==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),d.className=""+e)},f.left=function(a,b){var d=c(a);if(null===d){target_element_in_left}if(void 0===b)return parseInt(d.offsetLeft);d.style.left=b+"px"},f.top=function(a,b){var d=c(a);if(null===d){target_element_in_top}if(void 0===b)return parseInt(d.offsetTop);d.style.top=b+"px"},f.width=function(a,b){var d=c(a);if(null===d){target_element_in_width}if(void 0===b){var e=d.getBoundingClientRect();return Math.round(e.width)}d.style.width=b+"px"},f.height=function(a,b){var d=c(a);if(null===d){target_element_in_height}if(void 0===b){var e=d.getBoundingClientRect();return Math.round(e.height)}d.style.height=b+"px"},f.zindex=function(a,b){var d=c(a);if(null===d){target_element_in_zindex}if(void 0===b)return parseInt(d.zIndex);d.style.zIndex=""+b},f.background=function(a,b){var d=c(a);if(null===d){target_element_in_background}if(void 0===b)return d.style.background;d.style.background=""+b},f.radius=function(a,b){var d=c(a);if(null===d){target_element_in_radius}if(void 0===b)return d.style["border-radius"];d.style["border-radius"]=b+"px"},f.overflow=function(a,b){var d=c(a);if(null===d){target_element_in_overflow}if(void 0===b)return d.style.overflow;d.style.overflow=""+b},f.text=function(a,b){var d=c(a);if(null===d){target_element_in_text}if(void 0===b)return void 0!==d.innerText?d.innerText:void 0!==d.innerContent?d.innerContent:void 0!==d.innerHTML?d.innerHTML:"";void 0!==d.innerText?d.innerText=b:void 0!==d.innerContent?d.innerContent=b:void 0!==d.innerHTML&&(d.innerHTML=b)},f.empty=function(a){var b=c(a);if(null===b){target_element_in_empty}for(var d=0;b.firstChild&&d<1e4;)d++,b.removeChild(b.firstChild)},f.remove=function(a){var b=c(a);if(null===b){target_element_in_remove}f.empty(a),b.parentNode&&b.parentNode.removeChild(b)},f.cursor=function(a,b){var d=c(a);if(null===d){target_element_in_cursor}if(void 0===b)return d.style.cursor;d.style.cursor=""+b},f.bind=function(a,b,d){var e=c(a);if(null===e){target_element_in_bind}void 0!==d&&null!==d&&e.addEventListener(b,d)},f.findText=function(a,b){var d=c(a);if(null===d){target_element_in_findText}return(""+d.innerHTML).indexOf(b)>=0},f.html=function(a,b){var d=c(a);if(null===d){target_element_in_html}if(void 0===b)return d.innerHTML;d.innerHTML=""+b,e(d)},f.appendhtml=function(a,b){var d=c(a);if(null===d){target_element_in_appendhtml}if(void 0===b)throw"";var f=j.document.createElement("div");f.innerHTML=""+b;for(var g=0;g<100;){g++;var h=f.firstChild;if(e(d.appendChild(h)),f.children.length<=0)break}},f.getrect=function(a,b){var d=c(a);if(null===d){target_element_in_getrect}var e=d.getBoundingClientRect();e.left,b.scrollX,e.top,b.scrollY,e.width,e.height;return e},f.insertWrapperDiv=function(a,b,d,e,f,g){var h=c(a);if(null===h){target_element_in_insertWrapperDiv}var i=j.document.createElement("div");i.setAttribute("class",b),i.setAttribute("id",e),i.setAttribute("data-segnam",d),i.setAttribute("data-tag",g),i.setAttribute("data-segid",f);var k=null;return void 0!==h.childNodes[0]&&(k=h.childNodes[0]),h.insertBefore(i,k)},f.insertFIF=function(a){function b(a){var b="";for(var c in a)void 0!==a[c]&&(b+=c+":"+a[c]+"; ");return b}var d=c(a.target_element);if(null===d){target_element_in_insertFIF}var e=j.document.createElement("iframe");e.id=a.divID,e.setAttribute("id",a.divID),e.setAttribute("scrolling","no"),e.setAttribute("frameborder","0"),e.setAttribute("class",a.divClass),e.setAttribute("sandbox","allow-same-origin allow-scripts allow-top-navigation-by-user-activation allow-popups"),e.setAttribute("data-segnam",a.segmName),e.setAttribute("data-tag",a.tagname),e.setAttribute("data-segid",a.segmentID);var f={};f.width=a.width+"px",f["min-width"]=a.width+"px",f["max-width"]=a.width+"px",f.height=a.height+"px",f["min-height"]=a.height+"px",f["max-height"]=a.height+"px",f.position="absolute",f.left="0",f.top="0",e.style.cssText=b(f),e.src="javascript:void(0)",d.appendChild(e);var g="<html>";return g+="<body style='background:transparent; margin:0; width:100%; height:100%; min-width:100%; min-height:100%; max-width:100%; max-height:100%; '>",g+=a.preScript,g+=a.snippet,g+="</body>",g+="</html>",g+="",e.contentWindow._fb_frm_cont=g,e.src='javascript:window["_fb_frm_cont"]',e},f.adjustElmDims=function(a,b,c){var d=a.style;d.width=b+"px",d["min-width"]=b+"px",d["max-width"]=b+"px",d.height=c+"px",d["min-height"]=c+"px",d["max-height"]=c+"px"},f.insertSBF=function(a){var b=c(a.target_element);if(null===b){target_element_in_insertSBF}var d=j.document.createElement("iframe");return d.id=a.divID,d.setAttribute("scrolling","no"),d.setAttribute("frameborder","0"),d.setAttribute("width",a.width),d.setAttribute("height",a.height),d.setAttribute("class",a.divClass),d.setAttribute("sandbox","allow-same-origin allow-scripts allow-top-navigation-by-user-activation allow-popups"),d.setAttribute("data-segnam",a.segmName),d.setAttribute("data-tag",a.tagname),d.setAttribute("data-segid",a.segmentID),d.style.position="absolute",d.style.left="0",d.style.top="0",d.src=a.sbxUrl,b.appendChild(d),d},f.insertIDScript=function(a,b,d){var e=c(a);if(null===e){target_element_in_insertIDScript}var f=j.document.createElement("script");f.setAttribute("type","text/javascript"),f.setAttribute("id",b),f.text=d;var g=null;return void 0!==e.childNodes[0]&&(g=e.childNodes[0]),e.insertBefore(f,g)},f.insertCloseButton=function(a){function b(a){var b=this,c="_fb_clsbtn_base",d="_fb_clsbtn_crss",e=!1,g="."+a.base_classID+" { display:none; cursor:pointer; position:absolute; z-index:999999; color:#303030; width:28px; height:28px; right:12px; top:10px; border-radius:14px; opacity: 0.7; background-color:#d0d0d0; padding-top:1px; font-family:Arial; line-height:1; } ."+a.base_classID+".show { display:table; } ."+a.base_classID+":hover { opacity:1; } ."+a.crss_classID+" { display:table-cell; margin:auto; vertical-align:middle; text-align:center; font-size:24px; font-weight:bold; line-height:0.8; }";f.deployStyle("_fb_clsbtn_stl",g,!0);var h="<div id='"+c+"' class='"+a.base_classID+"'><div id='"+d+"' class='"+a.crss_classID+"'>"+a.btnText+"</div></div>",i=a.hostWnd.document.createElement("div");i.innerHTML=h,f.bind(i,"click",function(){a.clickCB()});var j=null;void 0!==a.contElm.firstChild&&(j=a.contElm.firstChild),a.contElm.insertBefore(i,j);var k=a.hostWnd.document.getElementById(c),l=a.hostWnd.document.getElementById(d);b.getElmHndls=function(){return{baseElm:k,crssElm:l}},b.setOpq=function(a){!0===a&&!0!==e?(f.addClass(k,"show"),e=!0):!0!==a&&!0===e&&(f.removeClass(k,"show"),e=!1)}}return new b(a)},f.insertCntDwn=function(a){function b(a){var b=this,c="_fb_cntdwn_base",d="_fb_cntdwn_text",e="."+a.base_classID+" { display:table; cursor:pointer; position:absolute; z-index:999999; color:#303030; width:28px; height:28px; right:32px; top:10px; border-radius:14px; background-color:#d0d0d0; opacity:0.7; padding-top:1px; font-family:Arial; line-height:1; } ."+a.base_classID+":hover { opacity:1; } ."+a.text_classID+" { display:table-cell; margin:auto; vertical-align:middle; text-align:center; font-size:24px; font-weight:bold; line-height:0.8; }";f.deployStyle("_fb_cntdwn_stl",e,!0);var g="<div id='"+c+"' class='"+a.base_classID+"'><div id='"+d+"' class='"+a.text_classID+"'>"+a.initTxt+"</div></div>",h=a.hostWnd.document.createElement("div");h.innerHTML=g;var i=null;void 0!==a.contElm.firstChild&&(i=a.contElm.firstChild),a.contElm.insertBefore(h,i);var j=a.hostWnd.document.getElementById(c),k=a.hostWnd.document.getElementById(d);b.getElmHndls=function(){return{baseElm:j,textElm:k}}}return new b(a)},f.insertArrowButtons=function(a){function b(a){function b(a){switch(a.orient){default:case"left":return{coordStr:"left:3%; top:"+a.ylevel+"%; ",tranfStr:" transform: rotate(-135deg);",marginStr:" margin-left:"+Math.round(.36*a.basesize)};case"right":return{coordStr:"right:3%; top:"+a.ylevel+"%; ",tranfStr:" transform: rotate(45deg);",marginStr:" margin-right:"+Math.round(.36*a.basesize)}}}var c=b(a),d="."+a.frame_classID+" { display: flex; flex-direction: column; justify-content: center; overflow:hidden; cursor:pointer; position:fixed; z-index:999999; color:#ffffff; "+c.coordStr+" width:"+a.basesize+"px; height:"+a.basesize+"px; border-radius:"+Math.round(a.basesize/2)+"px; background-color:white; opacity:0.0; } ."+a.frame_classID+":hover { opacity:0.7; } ."+a.base_classID+" { position:relative; display:table; margin:auto; "+c.marginStr+"px;vertical-align:middle; text-align:center;  background: transparent; width:"+a.arrsize+"px; height:"+a.arrsize+"px; } ."+a.arw_classID+" { display:table-cell; border-top: "+Math.round(a.arrsize/3)+"px solid black; border-right: "+Math.round(a.arrsize/3)+"px solid black; left:"+Math.round(a.arrsize/2)+"px; "+c.tranfStr+" }";f.deployStyle("_fb_arwbtn_stl_"+a.orient,d,!0);var e="<div class='"+a.frame_classID+"'><div class='"+a.base_classID+"'><div class='"+a.arw_classID+"'></div></div></div>",g=a.hostWnd.document.createElement("div");g.innerHTML=e,f.bind(g,"click",function(){a.clickCB()});var h=null;void 0!==a.contElm.firstChild&&(h=a.contElm.firstChild),a.contElm.insertBefore(g,h)}var c,d=23,e=45,g=18,h="arwbtn_frm_",i="arwbtn_bas_",j="arwbtn_arw_";c="left";var k=new b({hostWnd:a.hostWnd,contElm:a.contElm,orient:c,ylevel:d,basesize:e,arrsize:g,frame_classID:h+c,base_classID:i+c,arw_classID:j+c,clickCB:a.leftClbk});return c="right",{leftArrowObj:k,rightArrowObj:new b({hostWnd:a.hostWnd,contElm:a.contElm,orient:c,ylevel:d,basesize:e,arrsize:g,frame_classID:h+c,base_classID:i+c,arw_classID:j+c,clickCB:a.rightClbk})}},f.insertSpeaker=function(a){function b(a){function b(b,c){b.innerHTML=!0===c?'<div id="'+d+'" class="'+a.frame_classID+'"><div id="'+e+'" class="'+a.box_classID+'"><span class="speaker -on"></span></div></div>':'<div id="'+d+'" class="'+a.frame_classID+'"><div id="'+e+'" class="'+a.box_classID+'"><span class="speaker -off"></span></div></div>'}var c=this,d="_fb_spk_frame",e="_fb_spk_box",g="."+a.frame_classID+" { display:table; position:absolute; left:12px; top:11px; width:36px; height:28px; z-index:999999; background-color:#d0d0d0; opacity:0.6; color:#303030; overflow:hidden; border-radius:5px; font-weight:bold; font-size:1em; cursor:pointer; font-family:Arial; line-height:1; } ."+a.frame_classID+":hover { opacity:1; } ."+a.box_classID+" { display:table-cell; margin:auto; vertical-align:middle; text-align:center; } .speaker{ vertical-align:middle; box-sizing:border-box; display:inline-block; background:currentColor; background-clip:content-box; width:1em; height:1em; border:.333em solid transparent; border-right-color:currentColor; position:relative; left:-.337em; } .speaker.-on:before,.speaker.-on:after{ content:''; background:currentColor; width:.1em; position:absolute; } .speaker.-on:before{ height:.333em; right:-.533em; } .speaker.-on:after{ height:.667em; right:-.733em; top:-50%; } .speaker.-off:before,.speaker.-off:after{ content:''; background:currentColor; width:.1em; position:absolute; height:1.2em; margin-top:-.333em; top:-.1em; left:.1em; transform:translateX(.333em)rotate(-45deg); } .speaker.-off:before{ background:#04233D; left:.2em; }; ";f.deployStyle("_fb_speaker_stl",g,!0);var h=a.hostWnd.document.createElement("div");b(h,a.audioStatus),f.bind(h,"click",function(){b(h,a.clickCB())});var i=null;void 0!==a.contElm.firstChild&&(i=a.contElm.firstChild),a.contElm.insertBefore(h,i);var j=a.hostWnd.document.getElementById(d),k=a.hostWnd.document.getElementById(e);c.getElmHndls=function(){return{frameElm:j,boxElm:k}}}return new b(a)},f.getAllTemplates=function(a,b){function c(a){var b="forebase_template(",c=")",d="{{{",e="}}}",f=""+a,g="",h=f.indexOf(b);if(h<0)return null;g=f.substring(0,h);var i=h+b.length;f=f.substring(i);var j=f.indexOf(c);if(j<0)return null;var k=f.substring(0,j);f=f.substring(j+c.length);var l=f.indexOf(d);if(l<0)return null;f=f.substring(l+d.length);var m=f.indexOf(e);if(m<0)return null;var n=f.substring(0,m);return f=f.substring(m+e.length),g+=f,{name:k.replace(/\s+/g,""),content:n,remainder:g}}var d=""+a;d=d.replace(/(\r\n|\n|\r)/gm," "),d=d.replace(/\s+/g," ");for(var e=""+d,f=0;f<100;){f++;var g=c(e);if(null===g)break;b[g.name]=g.content,e=g.remainder}},f.bringTextFile=function(a){function b(a){var b=a.target;200===b.status&&(h=b.responseText,i="ok")}function c(){i="error"}h=null,i="...";var d=null;if(window.XMLHttpRequest?d=new XMLHttpRequest:window.ActiveXObject&&(d=new ActiveXObject("Microsoft.XMLHTTP")),null===d)throw"could not open XMLHttpRequest obj";d.open("GET",a,!0),d.timeout=3e3,d.onload=b,d.onerror=c,d.ontimeout=c,i="...",d.send()},f.getStatus=function(){return i},f.getFile=function(){return h},f.insertTemplate=function(a,b,e){var f={status:"...",msg:"",err:null};try{var g=d(a,b),h=c(e);if(null===h){target_element_in_insertTemplate}var i=j.document.createElement("div");i.innerHTML=g;var k=null;return void 0!==h.childNodes[0]&&(k=h.childNodes[0]),h.insertBefore(i,k),f.status="ok",f}catch(a){return f.actualString=g,f.contElem=h,f.newElm=i,f.childNodeBefore=k,f.msg=""+a,f.err=a,f.status="error",f}},f.deployTemplate=function(a,b,e){var f=d(a,b),g=c(e);if(null===g){target_element_in_deployTemplate}g.innerHTML=f},f.deployStyle=function(a,b,c){if(null===j.document.head.querySelector("#"+a)){var d=j.document.createElement("style");d.type="text/css",d.id=a,d.innerHTML=b,c?j.document.head.insertBefore(d,j.document.head.childNodes[0]):j.document.head.appendChild(d)}},f.createDynamicSheet=function(a,b){if(null===j.document.head.querySelector("#"+a)){var c=j.document.createElement("style");c.type="text/css",c.id=a,c.innerHTML="."+a+" {"+b+"}",j.document.head.appendChild(c)}},f.deployJSlib=function(a,b){if(null===j.document.head.querySelector("#"+a)){var c=j.document.createElement("script");c.type="text/javascript",c.setAttribute("language","Javascript"),c.id=a,c.src=b,j.document.head.appendChild(c)}},f.getKBMarkUp=function(a){function b(a){function b(b,c){function d(a){var b=a*(c/100);b>100&&(b=100);var d=1+b/100;return Math.round(100*d)/100}function e(a,b){var d=a*(c/100),e=b*(d/100);return Math.round(100*e)/100}return{zi:d(b[0]),zo:d(b[1]),xi:e(b[2],a.imgWidth),xo:e(b[3],a.imgWidth),yi:e(b[4],a.imgHeight),yo:e(b[5],a.imgHeight)}}var c=!1;if(Math.random()<a.prob/100&&(c=!0),!0!==c||a.strength<=0)return{from:"",to:"",time:1};var d=50+Math.round(50*Math.random()),e=Math.round(d*a.strength/100);e<0&&(e=0),e>100&&(e=100);var f=[{name:"no_effect",prob:1,params:[0,0,0,0,0,0]},{name:"pan_right",prob:100,params:[30,30,0,-15,0,0]},{name:"pan_left",prob:100,
params:[30,30,0,15,0,0]},{name:"pan_up",prob:100,params:[30,30,0,0,0,15]},{name:"pan_down",prob:100,params:[30,30,0,0,0,-15]},{name:"zin_center",prob:50,params:[0,20,0,0,0,0]},{name:"zin_right",prob:50,params:[0,20,0,-10,0,0]},{name:"zin_right_down",prob:50,params:[0,20,0,-10,0,-10]},{name:"zin_right_up",prob:50,params:[0,20,0,-10,0,10]},{name:"zin_left",prob:50,params:[0,20,0,10,0,0]},{name:"zin_left_down",prob:50,params:[0,20,0,10,0,-10]},{name:"zin_left_up",prob:50,params:[0,20,0,10,0,10]},{name:"zout_center",prob:50,params:[40,0,0,0,0,0]},{name:"zout_right",prob:50,params:[40,0,-20,0,0,0]},{name:"zout_right_down",prob:50,params:[40,0,-20,0,-20,0]},{name:"zout_right_up",prob:50,params:[40,0,-20,0,20,0]},{name:"zout_left",prob:50,params:[40,0,20,0,0,0]},{name:"zout_left_down",prob:50,params:[40,0,20,0,-20,0]},{name:"zout_left_up",prob:50,params:[40,0,20,0,20,0]}],g=0;f.forEach(function(a){g+=a.prob});var h=Math.round(Math.random()*g),i=null,j=0;f.forEach(function(a,b){null===i&&(j+=a.prob)>=h&&(i=b)}),null===i&&(i=0);var k=2+Math.round(20*Math.random())/10;void 0!==a.transTimeSec&&(k=a.transTimeSec);var l=f[i],m=b(l.params,e);return{from:"transform: matrix("+m.zi+", 0, 0, "+m.zi+", "+m.xi+", "+m.yi+")",to:"transform: matrix("+m.zo+", 0, 0, "+m.zo+", "+m.xo+", "+m.yo+")",time:k}}var c=(Math.round(999999*Math.random()),Math.round(999999*Math.random()),b(a)),d="";return d+=".image_section {  max-width:"+a.imgWidth+"px; max-height:"+a.imgHeight+"px; overflow:hidden; }\r",d+=".image_box { float: none; min-width:"+a.imgWidth+"px; min-height:"+a.imgHeight+"px; }\r",d+='.image_box.load { background: url("'+a.imgUrl+'"); background-size:cover;  background-position:center; background-origin:padding-box; '+c.from+"; }",d+=".image_box.effect { "+c.to+"; transition: all "+c.time+"s; transition-timing-function: linear; }\r",{styles:d}},f.getRefByXPath=function(a,b){function c(a){for(var b=[],c=a,d=100;d>0;){d--;for(var e=0;e<c.classList.length;e++)b.push(c.classList[e]);if(c.id.length>0&&b.push(c.id),null===(c=c.parentElement))break}return b}function d(a,b){var c=!0;return b.forEach(function(b){a.indexOf(b)<0&&(c=!1)}),c}checkStringsArray=[],"string"==typeof b&&b.length>0&&"unspecified"!==b&&(checkStringsArray=b.split("|"));for(var e=[],f=document.evaluate(a,document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),g=0,h=f.snapshotLength;g<h;++g)e.push(f.snapshotItem(g));var i=[];return e.forEach(function(a){!0===d(c(a),checkStringsArray)&&i.push(a)}),1===i.length?i[0]:null}},deltalog=function(a){function b(){return"undefined"!=typeof console&&void 0!==console.log}function c(a){function b(a){function b(a){a.length<1||d.push(a)}for(var c,d=[],e=a,f=0,g=null;f<20;){if(f++,(g=e.indexOf("|"))<0){b(e);break}c=e.substring(0,g),b(c),g++,e=e.substring(g)}return d}g=b(a)}var d=this,e=a.startTime,f="";void 0!==a.env&&(f=a.env);var g=[],h=!1;c("");var i=b();d.setStartTime=function(a){e=a},d.setEnv=function(a){f=a},d.setDebugVars=function(a){void 0!==a.logFilter&&c(a.logFilter),void 0!==a.showTags&&!0===a.showTags&&(h=!0)},d.writex=function(a){function b(a){return""!==a.msg&&(void 0!==a.msg&&(null!==a.msg&&!0===i))}function c(a,b){function c(a,b){if(""===b)return!1;if("*"===b)return!0;var c=a.toLowerCase(),d=b.toLowerCase();return c.indexOf(d)>=0}for(var d=0;d<b.length;d++){if(!0===c(a,b[d]))return!0}return!1}if(""!==a.msg){if(void 0!==a.tgl&&!0===h)var d="  [tgl: "+a.prefix+"]  "+a.msg;else{if(!0!==b(a))return;var f;f=a.inst<10?"00"+a.inst:a.inst<100?"0"+a.inst:""+a.inst;var d="  ["+a.prefix+":"+f+"]  "+a.msg;if(!0!==c(d,g))return}var j=Date.now()-e,k=Math.floor(j/1e3),l=j-1e3*k;k=k<10?" "+k:""+k,l=0===l?"000":l<10?"00"+l:l<100?"0"+l:""+l;var m=k+"."+l;m+=""+d,console.log(m)}},d.debugAlert=function(a,b){if("dev"===f){var c="DEBUG ALERT !!!";if(void 0!==a&&(c+="\n\nCAPTION: "+a),"string"==typeof b.message)c+="\n\nMESSAGE:\n\n"+b.message,void 0!==b.stack&&(c+="\n\nSTACK:\n\n"+b.stack);else if("string"==typeof b)c+="\n\nMESSAGE:\n\n",c+=b;else try{var d=JSON.stringify(b);c+="\n\nDATA:\n\n",c+=d}catch(a){c+="(data not available)"}window.alert(c)}}},bootlog=function(){function a(a,b){return{ts:a,text:b}}return function(b,c){var d=this;this.origTime=0+b,this.lastTime=b,this.gapTime=null,void 0!==c&&(this.gapTime=c),this.logBuffer=[],this.addLogLine=function(b,c){if(void 0!==c)var e=c;else var e=Date.now();var f=new a(e,b);d.logBuffer.push(f)},this.setOrigTm=function(a){d.origTime=a},this.getLogPrint=function(){function b(a){var b=a-d.origTime,c=Math.floor(b/1e3),e=b-1e3*c;return c=c<10?" "+c:""+c,e=0===e?"000":e<10?"00"+e:e<100?"0"+e:""+e,c+"."+e}function c(){if(!(d.logBuffer.length<2)&&null!==d.gapTime){var b=[],c=d.logBuffer[0],e=c.ts;b.push(c);for(var f=1;f<d.logBuffer.length;f++){var g=d.logBuffer[f],h=g.ts-e;e=g.ts,h>d.gapTime&&b.push(new a(g.ts,"<<<<< gap "+h+" ms <<<<<")),b.push(g)}return b}}for(var e=c(),f="",g=0;g<e.length;g++){var h=e[g];f+=b(h.ts)+"  |  "+h.text+"\n"}return f+"\n\n"}}}(),lscleanup=function(){var a=function(){if(this.flagKeyName="fb_cleanup_00",this.startTime=1462451028e3,this.windowLength=30,!0!==this.testLocalStorage())return void(this.status="ls_not_available");this.status="no_need";var a=Date.now(),b=this.startTime,c=b+864e5*this.windowLength;if(!(a<b||a>c)){if(null===this.readItem(this.flagKeyName)){this.status="...",this.lsDir=[];for(var d=0,e=localStorage.length;d<e;++d){var f={};f.key=this.getKeyByIdx(d),f.value=this.readItem(f.key),f.flag=!1,this.lsDir.push(f)}this.process(this);var g={time:Date.now()};this.writeItem(this.flagKeyName,JSON.stringify(g)),this.status="ok"}}};return a.prototype.getStatus=function(){return this.status},a.prototype.process=function(a){this.selectItems("fb_client"),this.selectItems("fb_cache_"),this.selectItems("plcmSynchro"),this.selectItems("fb_expreg"),this.selectItems("fb_visitdata"),this.selectItems("fb_dtoinfo"),this.selectItems("fb_debug_vars"),this.invertSelection(),this.removeSelected()},a.prototype.testLocalStorage=function(){try{window.localStorage.setItem("testLS_Key","testLS_Value");if("testLS_Value"!==window.localStorage.getItem("testLS_Key"))throw"LS_test_failed";return window.localStorage.removeItem("testLS_Key"),!0}catch(a){this.status="error"}return!1},a.prototype.selectItems=function(a){for(var b=[],c=0;c<this.lsDir.length;c++){var d=this.lsDir[c];d.key.indexOf(a)<0||(d.flag=!0,b.push(d))}return b},a.prototype.invertSelection=function(){for(var a=0;a<this.lsDir.length;a++){var b=this.lsDir[a];!0===b.flag?b.flag=!1:b.flag=!0}},a.prototype.getSelected=function(){for(var a=[],b=0;b<this.lsDir.length;b++){var c=this.lsDir[b];!0===c.flag&&a.push(c)}return a},a.prototype.removeSelected=function(){for(var a=0;a<this.lsDir.length;a++){var b=this.lsDir[a];!0===b.flag&&this.removeItem(b.key)}},a.prototype.getKeyByIdx=function(a){try{return window.localStorage.key(a)}catch(a){this.status="error"}return null},a.prototype.readItem=function(a){try{return window.localStorage.getItem(a)}catch(a){this.status="error"}return null},a.prototype.writeItem=function(a,b){try{window.localStorage.setItem(a,b)}catch(a){this.status="error"}},a.prototype.removeItem=function(a){try{window.localStorage.removeItem(a)}catch(a){this.status="error"}},a.prototype.clearAll=function(){try{window.localStorage.clear()}catch(a){this.status="error"}},a}(),val_asm_drvr=function(a){function b(a){g.logger.writex({msg:a,prefix:"lacc_driver",inst:l})}function c(a){var b={};return a.forEach(function(a,c){b[a]={idx:c,val:null,flg:!1}}),b}function d(a){var b={};return a.forEach(function(a,c){b[a]={idx:c,val:"",flg:!1}}),b}function e(c){function d(b){function c(a){var b=o;"sales"===a&&(b=q);var c=e(b);for(var d in b){var f=b[d];!0===f.flg&&(c[f.idx]=f.val,f.flg=!1)}return c}function d(a){var b=n;"sales"===a&&(b=p);var c=e(b);for(var d in b){var f=b[d];!0===f.flg&&(c[f.idx]=f.val,f.flg=!1)}return c}function e(a){var b=[];for(var c in a)b.push(null);return b}return{cnt:a.reducer,target:[m],attrib:c(b),values:d(b)}}var e={group:"live_acc",event:"inst"===c?"cmd_inst":"cmd_sale",ver:100,dsdChannel:a.dsdChannel,data:d(c)};b(),g.accbeam.fire(s,e)}var f=this,g=(a.master,a.comps),h=["inst","time","XXXXX","XXXXX"],i=["case","dims"],j=["pos","rev","time","XXXXX"],k=["case","mtyp","slg","act","N","dims"],l=Math.round(999*Math.random());b();var m="NA",n={},o={},p={},q={},r=!1,s="_live_acc_";g.accbeam.register("live_acc",s,1),f.init=function(a){m=a,n=c(h),o=d(i),p=c(j),q=d(k)},f.setVal=function(a,c,d){var e=n;if("sales"===a&&(e=p),void 0===e[c])throw{message:"unknown_value_key - "+c+" - asm"};e[c].val=""+d,e[c].flg=!0,r=!0,b()},f.setAttr=function(a,c,d){var e=o;if("sales"===a&&(e=q),void 0===e[c])throw{message:"unknown_attr_key - "+c};e[c].val=""+d,e[c].flg=!0,r=!0,b()},f.sendPing=function(a){e(a)},f.getValueOffset=function(a,b){var c=[];return c="inst"===a?h:j,c.indexOf(valKey)},f.getAttrOffset=function(a,b){var c=[];return c="inst"===a?i:k,c.indexOf(valKey)}},val_asm_root=function(a,b){return function(a){function c(a){j.logger.writex({msg:a,prefix:"lacc_root",inst:m})}function d(a){function d(a){var c="inst",d=new b({comps:j,reducer:p,dsdChannel:l.dsdchn,serverID:l.opdomId,plcmId:l.placementId}),e={type:"unit",name:a,laccdrv:d,cumrev:0,pmrg:!1,fstcnt:!1,scncnt:!1,fstvid:!1,scnvid:!1};e.cst=null,o[a]=e,d.init(a),d.setAttr(c,"case",l.testCase),d.setVal(c,"inst",1),d.sendPing(c)}if("unit"===a.type){if("dontuse"===a.aid)return void c();if("unspecified"===a.aid)return void c();n[a.aid]={},c(),d(a.aid)}}function e(a){function b(a){function b(a){return Math.round(100*a)}var d="sales";if(!(!0===i&&!0!==a.act||"bd"===a.log&&"bid"===a.mod)){var e=o[a.aid];if(void 0===e)return void c();var f=e.laccdrv,g=b(a.prc),h=1;"wf"===a.log&&"cnc"===a.mod&&(g=-b(a.prc),!0,h=-1),f.setAttr(d,"act",!0===a.act?"1":"0"),f.setAttr(d,"slg",a.log),f.setAttr(d,"mtyp",a.typ),f.setVal(d,"rev",g),f.setVal(d,"pos",h),e.cumrev+=g,f.sendPing(d)}}return"dontuse"===a.aid?void c():"unspecified"===a.aid?void c():(c(),void b(a))}function f(){if("dev"===l.env)return 1;var a=100*h/l.bstfct;return!0!==isNaN(a)?a:h}function g(a){var b=1e7;if(a>=100)return!0;if(a<=0)return!1;var c=Math.round(Math.random()*b),d=Math.round(b*a/100),e=c+d;e>b&&(e=b,c=e-d);Math.random();Math.random(),Math.random(),Math.random();var f=Math.round((1-Math.random())*b);return!(f>=e)&&!(f<c)}var h=1e3,i=!0,j=a.comps,k=a.cllBks,l=a.bootParams,m=(a.plcmParams,k.addLogLine,Math.round(999*Math.random()));c();var n={},o={},p=f();!0===g(100/p)&&j.parcels.subscribe("liveacc",function(a){switch(a.evt){case"regPrxTrg":d(a.data);break;case"regSale":e(a.data)}})}}(0,val_asm_drvr),val_dbo_drvr=function(a){function b(b){"dev"===a.env&&console.log(b)}function c(){var a={};return n.forEach(function(b,c){a[b]={idx:c,val:null,flg:!1}}),a}function d(){var a={};return o.forEach(function(b,c){a[b]={idx:c,val:"",flg:!1}}),a}function e(a,b){var c="0";return void 0!==b&&(c=b),"//"+"ldbosrv.${number}.aws.forebase.com".replace("${number}",c)+"/rpt"}function f(){var a=g();b("apapa sending DBO instance ping for: "+q+" ("+JSON.stringify(a)+")"),h(a)}function g(){function a(){for(var a=[],b=0;b<o.length;b++)a.push(null);for(var c in w){var d=w[c];!0===d.flg&&(a[d.idx]=""+d.val)}return a}function b(){for(var a=[],b=0;b<m;b++)a.push(null);for(var c in v){var d=v[c];!0===d.flg&&(a[d.idx]=d.val,d.flg=!1)}return a}return{ver:l,type:"cmd_add",reduc:t,attrib:a(),values:b(),plcID:p,tgtId:q}}function h(a){var b=encodeURIComponent(JSON.stringify(a));r(s,b,function(){},{withCredentials:!1,contentType:"text/plain"})}function i(a){return a}function j(a){var b=1e7;if(a>=100)return!0;if(a<=0)return!1;var c=Math.round(Math.random()*b),d=Math.round(b*a/100),e=c+d;e>b&&(e=b,c=e-d);Math.random();Math.random(),Math.random(),Math.random();var f=Math.round((1-Math.random())*b);return!(f>=e)&&!(f<c)}var k=this,l=200,m=24,n=["reqs","bids","bidprc","load","cst","vert","pick","rev","pmrg","nvrt","XXXXX","tmcont","fstcnt","scncnt","tmvid","fstvid","scnvid","depl","IDLE","HOLD","SAMP","VALD","LOCK","VERT"],o=["caseA","sample","groupH","vert"],p=a.plcmId,q=a.tgtId,r=a.makeHttpCall,s=e(a.dbotgt,a.serverID),t=i(a.reducer);"dev"===a.env&&(t=1);var u=j(100/t),v=c(),w=d(),x=!1;k.setVal=function(a,c){if(void 0===v[a])throw{message:"unknown_val_key - "+a};v[a].val=c,v[a].flg=!0,x=!0,b("apapa setting value for: "+q+" - key:"+a+" - val:"+c)},k.setAttr=function(a,c){if(void 0===w[a])throw{message:"unknown_attr_key - "+a};w[a].val=c,w[a].flg=!0,x=!0,b("apapa setting attribute for: "+q+" - key:"+a+" - val:"+c)},k.send=function(){!0===u&&!0===x&&(x=!1,f())},k.getValueOffset=function(a){return n.indexOf(a)},k.getAttrOffset=function(a){return o.indexOf(a)},k.setAttr("caseA","A"===a.testCase?1:0),k.setAttr("sample",!0===a.sample?1:0),k.setAttr("vert",!0===a.vertical?1:0);var y=null,z=parseInt(a.testGroup);z>=1&&z<=4&&(y=0),z>=5&&z<=8&&(y=1),null!==y&&k.setAttr("groupH",y)},val_dbo_root=function(a,b,c){return function(a){function b(a){i.logger.writex({msg:a,prefix:"ldbo_root",inst:l})}function d(a){function b(a,b,c,d){function e(a){void 0!==c&&c(a)}function f(){void 0!==c&&c(null)}function g(){void 0!==c&&c(null)}function h(a,b){return!0===b?"https:"+a:"http:"+a}var i=null;if(window.XMLHttpRequest?i=new XMLHttpRequest:window.ActiveXObject&&(i=new ActiveXObject("Microsoft.XMLHTTP")),null!==i){if(i.open("POST",h(a,!0)),i.timeout=1e4,i.onload=e,i.onerror=f,i.ontimeout=g,void 0!==d){var j=!0;void 0!==d.withCredentials&&!0!==d.withCredentials&&(j=!1),i.withCredentials=j,void 0!==d.customHeaders&&d.customHeaders.forEach(function(a,b){i.setRequestHeader(b,a)}),void 0!==d.preflight&&!0===d.preflight&&i.setRequestHeader("X-Requested-With","XMLHttpRequest");var k="text/plain";void 0!==d.contentType&&(k=d.contentType),i.setRequestHeader("Content-Type",k)}i.send(b)}}var d=g(a.exdata);if(null!==d){var e=d.dbod+"_"+d.pslot,f=new c({env:k.env,plcmId:k.placementId,testCase:k.testCase,testGroup:k.testGroup,sample:d.samp,vertical:d.vert,tgtId:e,reducer:1,serverID:0,makeHttpCall:b}),h={type:"part",name:a.partId,exdata:d,landrv:f,cumrev:0,pmrg:!1,fstcnt:!1,scncnt:!1,fstvid:!1,scnvid:!1};h.cst=null,"object"===_typeof(d)&&null!==d&&(h.cst=d.prc),n[a.partId]=h,f.setVal("load",1),f.setVal("cst",h.cst),f.setVal("rev",0),f.send()}}function e(a){var b=n[a];void 0!==b&&(b.landrv.setVal("depl",1),b.landrv.send())}function f(a){function b(a){return Math.round(100*a)}var c=n[a.id];if(void 0!==c){if(!0!==c.fstcnt){c.fstcnt=!0,c.landrv.setVal("fstcnt",1);var d=Math.round((Date.now()-k.startTime)/1e3);c.landrv.setVal("tmcont",d)}else!0!==c.scncnt&&(c.scncnt=!0,c.landrv.setVal("scncnt",1));if("vid"===a.typ)if(!0!==c.fstvid){c.fstvid=!0,c.landrv.setVal("fstvid",1);var e=Math.round((Date.now()-k.startTime)/1e3);c.landrv.setVal("tmvid",e)}else!0!==c.scnvid&&(c.scnvid=!0,c.landrv.setVal("scnvid",1));var f=b(a.prc);c.landrv.setVal("rev",f),c.cumrev+=f,!0!==c.pmrg&&"number"==typeof c.cst&&c.cumrev>=c.cst&&(c.landrv.setVal("pmrg",1),c.pmrg=!0),c.landrv.send()}}function g(a){try{return null===a||"NA"===a?null:"string"==typeof a?JSON.parse(a):a}catch(a){}return null}var h=this,i=a.comps,j=a.cllBks,k=a.bootParams,l=(a.plcmParams,j.addLogLine,Math.round(999*Math.random()));b();var m=[],n={};h.updatePartitions=function(a){a.forEach(function(a,b){"intrinsic"!==a.partId&&d(a)}),m=a},h.partDepl=function(a){return e(a)},h.newSales=function(a){return f(a)}}}(0,0,val_dbo_drvr),val_root=function(a,b,c,d,e){return function(a){function e(a){C.logger.writex({msg:a,prefix:"valuemstr",inst:H})}function f(a,b){C.logger.debugAlert(a,b)}function g(a,b,c){C.trackhub.sendEvent(O,"/**"+a+"**",b,c)}function h(a,b,c){C.trackhub.sendEvent(O,"/**errors**",b,c)}function i(a,b,c){C.trackhub.sendEvent(P,"/"+D.locus+"/_s20 deferred"+a,b,c)}function j(a,b,c,d){function e(a,b,c,d){i("/"+a+"/_s10 eng"+b,c,d)}e("*AllParts*",b,c,d),e(a,b,c,d)}function k(a,b,c,d){function e(a,b,c,d){i("/"+a+"/_s00 pcm"+b,c,d)}e("*AllParts*",b,c,d),e(a,b,c,d)}function l(){function a(a,c){return a in b!=!0?c:b[a]}var b=C.quickVars.getAllParams();J=a("sendValuePings",J),!0!==J&&e(),M=a("targetLifeTime",M),L=a("valCalcCountSpan",L),e()}function m(a){W.tgt.unshift(a),X=!0,o(a,"tgt")}function n(a){W.sls.unshift(a),X=!0,o(a,"sls")}function o(a,b){function c(a){var b=null;return a.ids.forEach(function(a){if(null===b){var c=R[a];void 0!==c&&(b=c)}}),b}function d(a,b){function c(a){return Math.round(100*a)/100}if(!0!==a.act)return!1;if("hit"===a.mod||"win"===a.mod)b.cumRev+=a.prc,"vid"===a.typ&&(b.vidcnt+=1);else{if("cnc"!==a.mod)return!1;b.cumRev-=a.prc,b.cumRev<0&&(b.cumRev=0)}return b.cumRev=c(b.cumRev),!0}if("tgt"===b){if("part"!==a.type)return;if("intrinsic"===a.name)return;var e=y(a.exdata);if(null===e)return;var f={name:a.name,exdata:e,cumRev:0,vidcnt:0};R[a.id]=f,s(f),k(a.name,"","_s60 win"),k(a.name,"/_s20 win_prc",e.prc,{exp:-5,scl:G}),C.liveDboRoot.partDepl(a.id)}else if("sls"===b){var f=c(a);if(null===f)return;if(!0!==d(a,f))return;s(f),C.liveDboRoot.newSales({id:f.name,typ:a.typ,prc:a.prc})}}function p(a){var b=null;return Q.ptgs.forEach(function(c){null===b&&c.id===a&&(b=c)}),b}function q(a,b){var c=null;return Q.ptgs.forEach(function(d){null===c&&d.type===a&&d.nm===b&&(c=d)}),c}function r(a){return{rootPath:"NA",ver:K,ptgs:[]}}function s(b){function c(a){var b=new d({plcmID:D.placementId,partID:a.partID,opdomID:D.opdomId}),c={ver:a.ver,data:{ts:Date.now(),partNews:a.partNews}};e(),b.setRD(c,"brk"===D.ctxId)}function f(b){var c=Date.now(),d=Math.random().toString(16).substr(2),e=Math.round((c-D.startTime)/1e3),f={status:"error",msg:"",partNewsObj:{flwrdata:{tms:c,rtm:e,idx:$,unid:d},exdata:b.exdata,group:D.testGroup,versionTag:a.bootParams.versionTag,filterTag:a.bootParams.filterTag}},g=f.partNewsObj;return g.rev=b.cumRev,g.vidcnt=b.vidcnt,f.status="ok",f}e();var g=f(b);if("ok"!==g.status)return void h("","_s90 proxy_command_not_written");var i=g.partNewsObj;e(),c({ver:I,partID:b.name,partNews:i}),$++}function t(){function a(a){Q.rootPath=a.rootPath}function b(a){function b(a){function b(a){function b(a){return{ct:Date.now(),nm:a.name,id:a.id,type:a.type,ss:[],ndt:!1}}var c=q(a.type,a.name);if(null!==c)return h("","_s20 duplicate_target"),h("/_s20 duplicate_target",a.name,{ard:10,att:{auxValueTarget:c,opts:a}}),e(),null;var c=b(a);return Q.ptgs.unshift(c),c}function c(a){return{ct:Date.now(),val:0,sls:[],exdata:a.exdata,valx:u()}}try{var d=b(a);if(null===d)return;var f=c(a);d.ss.unshift(f),d.ndt=!0}catch(a){z(a,"prevSessTrg")}}for(;a.tgt.length>0;){b(a.tgt.pop())}}function c(a){function b(a){function b(a,b){function c(a,b){function c(a){return"win"===a?"w":"bid"===a?"b":"hit"===a?"h":"cnc"===a?"c":(h("","_s20 unknown_mode (ej830JsW)"),e(),null)}var d=c(a.mod);return null===d?null:{rt:Math.round((Date.now()-b)/100)/10,tp:"vid"===a.typ?"v":"d",lg:"bd"===a.log?"b":"w",ac:!0===a.act?1:0,pr:Math.round(100*a.prc),md:d}}function d(a){var b=0;return a.sls.forEach(function(a){if("h"===a.md||"w"===a.md)b+=a.pr;else{if("c"!==a.md)return;(b-=a.pr)<0&&(b=0)}}),b}function f(a){var b=u();return a.sls.forEach(function(a){var c={};switch(a.tp){case"d":c=b.dsp;break;case"v":c=b.vid;break;case"n":c=b.nat;break;case"c":c=b.cst}var d,e=c.tot;switch(a.lg){case"b":d=c.bd;break;case"w":d=c.wf}switch("h"===a.md||"w"===a.md?(d+=a.pr,e+=a.pr):"c"===a.md&&(d-=a.pr,d<0&&(d=0),(e-=a.pr)<0&&(e=0)),c.tot=e,a.lg){case"b":c.bd=d;break;case"w":c.wf=d}}),b}var g=p(a);if(null===g){h("","_s10 unknown_target");var i={act:b.act,mod:b.mod,log:b.log,prc:b.prc,typ:b.typ};return h("/_s10 unknwn_target/"+b.typ+"/"+b.log+"/"+b.act,b.mod,{ard:10,att:i}),void e()}var j=g.ss[0],k=c(b,j.ct);null!==k&&(j.sls.unshift(k),j.val=d(j),j.valx=f(j))}try{a.ids.forEach(function(c){b(c,a)})}catch(a){z(a,"prevSessSls")}}for(;a.sls.length>0;){b(a.sls.pop())}}var d=C.memhub.getItem(T);if(null!==d)try{if(d.ver!==E)throw{message:"incomp_vers"};a(d),b(d),c(d),g("data_avx","yes")}catch(a){g("data_avx","excpt: "+a.message)}else e(),g("data_avx","no");Y=!0}function u(){return{dsp:{tot:0,wf:0,bd:0},vid:{tot:0,wf:0,bd:0},nat:{tot:0,wf:0,bd:0},cst:{tot:0,wf:0,bd:0}}}function v(a){switch(S){case"INIT":Q=r(),t(),S="WFLSD";break;case"WFLSD":if(!0!==Y)break;x(),Z=!0,e(),S="PARK"}}function w(a){function b(){e(),C.memhub.removeItem(T)}function c(){T.indexOf("blob:http")>=0||(e(),C.memhub.setItem(T,W,{folder:"value"}))}switch(V){case"INIT":if(void 0===C.stageExec)break;if(!0!==C.stageExec.isReady())break;if(!0!==Z)break;b(),W.rootPath=C.stageExec.getRootPath(),V="SVLP";break;case"SVLP":if(!0!==X)break;X=!1,c(),U=a,V="SVHLDFF";break;case"SVHLDFF":if(a-U<3e3)break;V="SVLP"}}function x(){function a(a,b){function c(a){switch(a){case"stage":return"_s10 stage";case"sect":return"_s20 section";case"unit":return"_s30 unit";case"part":return"_s40 partition"}return"unknown"}function d(a,b,c){C.trackhub.sendEvent(N,a,b,c,!0)}if(!0===J&&0!==a.ss.length){var e=a.ss[0],f={exp:-5,scl:G},g="/"+b+"/"+c(a.type)+"/"+a.nm;d(g,e.val,f),d(g+"/_s20 dsp",e.valx.dsp.tot,f),d(g+"/_s20 dsp/bd",e.valx.dsp.bd,f),d(g+"/_s20 dsp/wf",e.valx.dsp.wf,f),d(g+"/_s30 vid",e.valx.vid.tot,f),d(g+"/_s30 vid/bd",e.valx.vid.bd,f),d(g+"/_s30 vid/wf",e.valx.vid.wf,f),d(g+"/_s40 nat",e.valx.nat.tot,f),d(g+"/_s40 nat/bd",e.valx.nat.bd,f),d(g+"/_s40 nat/wf",e.valx.nat.wf,f),d(g+"/_s50 cst",e.valx.cst.tot,f),d(g+"/_s50 cst/bd",e.valx.cst.bd,f),d(g+"/_s50 cst/wf",e.valx.cst.wf,f)}}function b(a){function b(a,b,c,d){function e(d,e){j(a,h+"/"+d+"/_s10 rev",b,g),j(a,h+"/"+d+"/_s20 cst",c,g),j(a,h+"/"+d+"/_s30 mrg",b-c,g),!0===e&&j(a,h,d,{})}var f,g={exp:-5,scl:G},h="/_s10 money";f=!1===d?"_s10 blind_n":!0===d?"_s20 blind_y":"_s30 blind_und",e(f,!0),e("_s40 total",!1)}function c(a){var b={totRev:0,totCnt:0,avgRev:0},c=0,d=0;return a.sls.forEach(function(a){1===a.ac&&("h"!==a.md&&"w"!==a.md||(c++,d+=a.pr))}),0===c?b:(b.totRev=d,b.totCnt=c,b.avgRev=Math.round(d/c*100)/100,b)}if(0!==a.ss.length){var d=a.ss[0],e=y(d.exdata);if(null!==e){b(a.nm,d.val,e.prc,e.blind);var f=c(d);j(a.nm,"/_s40 sls_cnt",f.totCnt,{scl:"tbrtimes"}),j(a.nm,"/_s42 sls_avg_rev",f.avgRev,{scl:"cycleCount"});var g=Math.round((Date.now()-e.tm)/6e4);j(a.nm,"/_s50 rep_dly",g,{scl:"cycleCount"})}}}Q.ptgs.forEach(function(c){"part"===c.type&&"intrinsic"===c.nm||!0===c.ndt&&(c.ndt=!1,a(c,Q.rootPath),"part"===c.type&&b(c))})}function y(a){try{return null===a||"NA"===a?null:"string"==typeof a?JSON.parse(a):a}catch(a){}return h("","_s30 exdata_conversion"),null}function z(a,b){var c="ERROR in VALUEMSTR ("+b+"): ";void 0!==a.message?c+=a.message:c+=a,e(),h("",c),void 0!==a.stack&&(c+="\n\n",c+="Exception --\x3e "+a+"\n\n",c+="Stack:\n",c+=a.stack.toString()+"\n\n"),A("exception",c),f("VALUEMSTR",c)}function A(a,b,c){var d=b;F.addStashObject("Specific Object",c),"dev"===D.env&&(d+="\n\n============= STASHES =============\n\n",d+=F.printStashBuffer()),void 0!==C.mailmaster&&C.mailmaster.send("VALUEMSTR",a,d)}var B=this,C=a.comps,D=(a.cllBks,a.bootParams),E=110,F=new c,G="trgValue";b.addSeries(G,{start:0,maxval:2e3,inc:10,exp:!0,mirror:!0});var H=Math.round(999*Math.random());e();var I=200,J=!0,K=60,L=8,M=10,N="valmgr_h",O="valmgr_l";C.trackhub.addDomain(N,"valmgr",60),C.trackhub.addDomain(O,"valmgr",300);var P="actBuy";C.trackhub.addDomain(P,"actbuy",60),C.trackhub.addDomain("proxy_h","proxy",30),C.trackhub.addDomain("proxy_l","proxy",300);var Q=null,R={},S="INIT",T=D.locus+"_val",U=0,V="INIT",W={ver:E,rootPath:"NA",tgt:[],sls:[]},X=!1,Y=!1,Z=!1,$=0;C.parcels.subscribe("liveacc",function(a){switch(a.evt){case"regPrxTrg":m(a.data);break;case"regSale":n(a.data)}}),B.tick=function(a){try{v(a),w(a)}catch(a){z(a,"tick")}},l(),C.heartL.subscribe(B.tick,"valuemstr")}}(0,antools,textools,pcm_client),an_flxsrv=function(a){function b(a){k.logger.writex({msg:a,prefix:"an_flxsrv",inst:m})}function c(a,b){function c(a,b){var c=r+s+"/"+a.ssaId+"/"+a.sectId+"/"+l.hostDomain,d="_s10 instance|"+b;z.push({path:c,event:d})}c(a,"A"),i({res:b})}function d(a,b,c){}function e(a,b){function c(a){function b(a){return"xbid"===a?{d:"B",s:"A"}:"line"===a?{d:"B",s:"B"}:{d:"A",s:"A"}}function c(a){var b=a.virtual,c=a.type,d=a.prc;return!0===b?{md:0,ms:0,fd:p,fs:0}:"line"===c?{md:0,ms:0,fd:q,fs:q}:"xbid"===c?{md:0,ms:d,fd:d*n/100,fs:d*o/100}:{md:d,ms:d,fd:d*n/100,fs:d*o/100}}var e=b(a.cmpgType),f=c(a),g=e.d+"|"+d(f.md)+"|"+d(f.fd);g+="|"+e.s+"|"+d(f.ms)+"|"+d(f.fs);var h=r+s+"/"+a.ssaId+"/"+a.sectId+"/"+l.hostDomain+"/"+a.dsaID+"/"+a.formatID+"/"+a.cmpID+"/rev";z.push({path:h,event:g})}function d(a){var b=Math.round(1e4*a);return b<10?"0000000"+b:b<100?"000000"+b:b<1e3?"00000"+b:b<1e4?"0000"+b:b<1e5?"000"+b:b<1e6?"00"+b:b<1e7?"0"+b:""+b}c(a),i({res:b})}function f(a,b){function c(a){var b=r+s+"/"+a.ssaId+"/"+a.sectId+"/"+l.hostDomain+"/"+a.dsaID+"/"+a.formatID+"/"+a.cmpID+"/action",c="A",d="A";"xbid"===a.cmpgType&&(c="B",d="A"),"line"===a.cmpgType&&(c="B",d="B");var e="_s10 click|"+c+"|"+d;z.push({path:b,event:e})}c(a),i({res:b})}function g(a,b){function c(a){return"req"===a?"_s00 inst":"inv"===a?"_s10 inv":"delv"===a?"_s20 delv":"click"===a?"_s30 click":"hover"===a?"_s40 hover":void 0}var d=a.ssaName,e=a.sectName,f=a.cmpgID,g=a.dsaID,h=a.formatID,i=(a.cmpgPrc,a.cmpgType,l.hostDomain),j={},m="lo",n="cmpgn_low";"mid"===m&&(n="cmpgn_mid"),"hi"===m&&(n="cmpgn_hi");var o=[{path:w+"/"+d,caption:c(b),events:["inv","delv"]},{path:x+"/"+d,caption:c(b),events:["req","delv"]},{path:x+"/"+d+"/"+e,caption:c(b),events:["req","delv"]},{path:x+"/"+d+"/"+e+"/"+i,caption:c(b),events:["req","delv"]},{path:v+"/"+d+"/_s20 sectors",caption:e,events:["delv"]},{path:v+"/"+d+"/_s30 domains",caption:i,events:["delv"]}];if(void 0!==f){var p=[{path:t,caption:f,events:["delv"]},{path:t+"/"+f,caption:d,events:["delv"]},{path:t+"/"+f+"/"+d,caption:e,events:["delv"]},{path:t+"/"+f+"/"+d+"/"+e,caption:i,events:["delv"]},{path:u+"/"+g+"/_s10 campaigns",caption:f,events:["delv"]},{path:u+"/"+g+"/_s20 domains",caption:i,events:["delv"]},{path:u+"/"+g+"/_s30 formats",caption:h,events:["delv"]},{path:u+"/"+g+"/_s40 ssas",caption:d,events:["delv"]},{path:v+"/"+d+"/_s10 campaigns",caption:f,events:["delv"]},{path:v+"/"+d+"/_s40 formats",caption:h,events:["delv"]},{path:v+"/"+d+"/_s50 dsas",caption:g,events:["delv"]}];o=o.concat(p)}o.forEach(function(a){a.events.indexOf(b)<0||k.trackhub.sendEvent(n,a.path,a.caption,j,!1)})}function h(a){var b="cmpgn_low";"mid"===a.res&&(b="cmpgn_mid"),"hi"===a.res&&(b="cmpgn_hi"),k.trackhub.sendEvent(b,y+a.path,a.event,a.evOpts,!0===a.fastTrk)}function i(a){var c="cmpgn_low";"mid"===a.res&&(c="cmpgn_mid"),"hi"===a.res&&(c="cmpgn_hi");var d={};z.forEach(function(a){k.trackhub.sendEvent(c,a.path,a.event,d,!0),b()}),z=[]}var j=this,k=a.comps,l=(a.cllBks,a.bootParams),m=Math.round(999*Math.random());b();var n=5,o=7,p=.5,q=.3,r="/_s00 acclink",s="/_s10 traffic",t="/_s10 campaigns",u="/_s20 demand",v="/_s30 supply",w="/_s40 win_rates",x="/_s50 fill_rates",y="/_s50 ad_mgr",z=[];j.req=function(a){b(),c(a,"mid"),g(a,"req")},j.invlist=function(a,c){b(),d(a,c,"lo")},j.delv=function(a){b(),e(a,"mid"),g(a,"delv")},j.clck=function(a){b(),f(a,"hi"),g(a,"click")},j.ecevt=function(a){h(a)}},an_buffer=function(a){function b(a,b,c){var d=i(a,b,c);if(null!==d&&k.push(d),void 0!==j){var e=j(a,b,c);null!==e&&k.push(e)}}function c(a,b,c){var d=i(a,b,c);if(null!==d&&h.trackhub.sendEvent(d.domain,d.event,d.data,d.evOpts),void 0!==j){var e=j(a,b,c);null!==e&&h.trackhub.sendEvent(e.domain,e.event,e.data,e.evOpts)}}function d(){0!==k.length&&(h.trackhub.sendEventList(k),k=[])}function e(a,b){l.push({chn:a,obj:b})}function f(){0!==l.length&&(h.accbeam.fireList(l),l=[])}var g=this,h=a.comps,i=a.assembleFunct,j=a.assembleFunctX,k=[],l=[],m=!1;g.seb=function(a,c,d){return b(a,c,d)},g.sed=function(a,b,d){return c(a,b,d)},g.sap=function(a,b){return e(a,b)},g.rap=function(){d(),f(),m=!0},g.wes=function(){return m}},an_perfchck=function(a,b,c){return function(b){function d(a){j.logger.writex({msg:a,prefix:"an_perfchck",inst:u})}function e(){function a(a,b){var c="";c+="Performance Report for: "+l.placementId+" (base)\n\n",c+="parcels - total packs: "+b.totalPacks+"\n",c+="parcels - pack rate: "+b.packRate+"\n",c+="parcels - fail rate: "+b.failRate+"\n",c+="parcels - avg transit time: "+b.avgTransTime+"\n\n",c+=a,j.mailmaster.send("PERF_REPORT_SHORT","performance",c,h.debugStrings)}var b="",c=j.parcels.getPerfData();b+="\n\n------------------ Heart Report [H] ------------------\n\n",b+=j.heartH.getPerfReport(),b+="\n\n------------------ Heart Report [L] ------------------\n\n",b+=j.heartL.getPerfReport(),a(b,c),j.trackhub.sendEvent("performance","/parcels/packrate",c.packRate,{scl:"mediumtimes"}),j.trackhub.sendEvent("performance","/parcels/failrate",c.failRate,{scl:"cycleCount"}),j.trackhub.sendEvent("performance","/parcels/transtime",c.avgTransTime,{scl:"shorttimes"})}function f(a){var b=new c,d=0,e=b.printObj(d,a.qvParams),d=0,f=b.printObj(d,a.qvPassBy),i="";k.addLogLine("sending perf report #"+a.reportIdx),!0===s&&(i+="\n\n ------ Parcels Perf: ------ \n\n",i+=a.parcelsRep),!0===o&&(i+="\n\n ------ Placed Media: ------ \n\n",i+=a.pmRep),!0===r&&(i+="\n\n ------ Node Cnx Log Report: ------ \n\n",i+=a.ncnxRep),!0===p&&(i+="\n\n ------ Unit Log Report: ------ \n\n",i+=a.ulRep),!0===q&&(i+="\n\n ------ Scan Report: ------ \n\n",i+=a.sourceRep),i+="\n\n ------ QV Params: ------ \n",i+=e+"\n",i+="\n\n ------ QV PassBy: ------ \n",i+=f+"\n\n",i+="\n ------ Memory Report: ------ \n\n",i+=a.filesysRep,!0===m&&(i+="\n ------ Loader/Agent Boot Report  ------ \n\n",i+=k.bootLogger.getLogPrint()),!0===n&&(i+="\n ------ Heart Report: ------ \n\n",i+=a.heartRep),!0===t&&(i+="\n\n ------ SrcSrv Report: ------ \n\n",i+=g());var l="PERF_REPORT_AGENT_"+a.reportIdx;j.mailmaster.send(l,"performance",i,h.debugStrings)}function g(){return j.stageExec.getSrcSrvReport()}var h=this,i=Date.now(),j=b.comps,k=b.cllBks,l=b.bootParams,m=!0,n=!0,o=!0,p=!1,q=!1,r=!0,s=!0,t=!1;!0===a.dev&&(m=!0,n=!0,!0,o=!0,p=!0,q=!0,r=!0,s=!0,!0,t=!0);var u=Math.round(999*Math.random());d();var v=10;!0===a.dev&&(v=5);h.execCmd=function(a){f(a)},h.tick=function(a){null!==i&&a-i>1e3*v&&(i=null,e())},j.heartL.subscribe(h.tick,"perfcheck")}}(config,0,textools),an_beamcannon=function(a){function b(a){e.logger.writex({msg:a,prefix:"beamcannon",inst:f})}function c(a){var c={playerWidth:7,playerHeight:7},d="_"+a.cmpID+"_"+a.event+"_";void 0===h[d]&&(h[d]=!0,a.beamArray.forEach(function(a){var d=""+a;d=decodeURIComponent(d),(d=e.macroproc.expand(d,c))&&(g.unshift(d),b())}))}var d=this,e=a.comps,f=(a.cllBks,a.bootParams,Math.round(999*Math.random())),g=[],h={};e.parcels.subscribe("beamCannon",function(a){var b=a.args;switch(a.cmd){case"fire":c(b.data)}}),d.tick=function(a){if(0!==g.length){var b=g.pop(),c=new Image;void 0!==b&&null!==b&&""!==b&&"null"!==b&&"none"!==b&&(c.src=b)}},e.heartL.subscribe(d.tick,"beamcannon")},an_eventconf={domains:{stage:{enabled:!0,siteID:"stage",reduc:1e3},stgexec:{enabled:!0,siteID:"stgexec",reduc:1e3},stgexec_l:{enabled:!0,siteID:"stgexec",reduc:2e3},stgexec_ll:{enabled:!0,siteID:"stgexec",reduc:5e3},units:{enabled:!0,siteID:"units",reduc:500},adposts:{enabled:!0,siteID:"adpost",reduc:1e3},segments:{enabled:!0,siteID:"segments",reduc:2e3},tags:{enabled:!0,siteID:"tags",reduc:1e3},tags_alt:{enabled:!0,siteID:"tags",reduc:1e3},srcadmin:{enabled:!0,siteID:"tags",reduc:8e3},performance:{enabled:!0,siteID:"performance",reduc:500},perf_trk:{enabled:!0,siteID:"performance",reduc:2e3},perf_acc:{enabled:!0,siteID:"performance",reduc:2e3},perf_low:{enabled:!0,siteID:"performance",reduc:5e3},alerts:{enabled:!0,siteID:"alerts",reduc:10},madevt_h:{enabled:!0,siteID:"madevt",reduc:1e3},madevt_m:{enabled:!0,siteID:"madevt",reduc:4e3},madevt_l:{enabled:!0,siteID:"madevt",reduc:8e3},lweb_low:{enabled:!0,siteID:"lweb",reduc:100},lweb_med:{enabled:!0,siteID:"lweb",reduc:10},lweb_hi:{enabled:!0,siteID:"lweb",reduc:5},fbdir_view:{enabled:!0,siteID:"fbdir",reduc:5e3},fbdir_click:{enabled:!0,siteID:"fbdir",reduc:1},fbdir_error:{enabled:!0,siteID:"fbdir",reduc:10},extn_low:{enabled:!0,siteID:"extns",reduc:5e3},extn_mid:{
enabled:!0,siteID:"extns",reduc:10},extn_hi:{enabled:!0,siteID:"extns",reduc:1},cmpgn_low:{enabled:!0,siteID:"cmpgn",reduc:100},cmpgn_mid:{enabled:!0,siteID:"cmpgn",reduc:10},cmpgn_hi:{enabled:!0,siteID:"cmpgn",reduc:1},domdock_low:{enabled:!0,siteID:"docking",reduc:5e3},domdock_hi:{enabled:!0,siteID:"docking",reduc:100},tagdock_low:{enabled:!0,siteID:"docking",reduc:5e3},tagdock_hi:{enabled:!0,siteID:"docking",reduc:100},vast_x:{enabled:!0,siteID:"vast",reduc:1},vast_h:{enabled:!0,siteID:"vast",reduc:1e3},vast_l:{enabled:!0,siteID:"vast",reduc:5e3},quickv_h:{enabled:!0,siteID:"quickv",reduc:1e3},quickv_l:{enabled:!0,siteID:"quickv",reduc:3e3},gdpr_h:{enabled:!0,siteID:"gdpr",reduc:1e3},gdpr_l:{enabled:!0,siteID:"gdpr",reduc:4e3},bdchn_x:{enabled:!0,siteID:"bdchn",reduc:1},bdchn_h:{enabled:!0,siteID:"bdchn",reduc:1e3},bdchn_l:{enabled:!0,siteID:"bdchn",reduc:5e3}}},an_trackhub=function(a,b,c,d){return function(a){function e(a){D.logger.writex({msg:a,prefix:"trackhub",inst:K})}function f(){0!==I.length&&(e(),h(Date.now(),I,y))}function g(){var a=.001;return"dev"===E.env&&(a=100),!0===F.whirliGig(a)?a:null}function h(a,b,c){function d(a){if(0!==b.length){var c=b.shift(),d=c.args;switch(c.cmd){case"addDomain":q(d.domainID,d.siteID,d.reduc);break;case"sendEventList":s(d.eventList);break;case"sendEvent":t(d.domain,d.event,d.data,d.evOpts)}}}if(0===b.length)return c;P++,Q+=b.length,e();for(var f=$(),g=0;g<c&&(g++,d(a),0!==b.length);)if($()-f>z){S++;break}return c-g}function i(a){function b(a){return a<10?"0"+a:""+a}function c(a,b,c){var d=[5,20,50],e=(a-b)/1e3,f=null;return d.forEach(function(a){null===f&&(a<=c||e<a||(f=a))}),f}var d=c(a,Y,Z);if(null!==d){Z=d,e();var f=0;P>0&&(f=Q/P);var g="at_["+b(d)+"]_sec";m("/_s20 inbox/_s10 avg_pings/"+g,R,{scl:"longtimes",res:"lo"}),m("/_s20 inbox/_s12 flux_size/"+g,f,{scl:"cycleCount",res:"lo"}),m("/_s20 inbox/_s14 loop_brks/"+g,S,{scl:"longtimes",res:"lo"}),0!==V&&(m("/_s40 excepts/_s10 count",V,{scl:"longtimes"}),m("/_s40 excepts/_s20 texts",W)),R=0,Q=0,P=0,j(g)}}function j(a){var b=C+"/"+E.hostPlcmId+"/_s10 domain_shares/"+a;for(var c in N){var d=N[c];0!==d.evtCnt&&(t(A,b,c,{wgh:d.evtCnt}),e())}}function k(a){function b(a){function b(a){return a<10?"0"+a:""+a}l(v(N[A].siteID,C+"/"+E.hostPlcmId+"/_s00 control","pidx["+b(a)+"]",Math.round(100/X),""))}null!==X&&(a-U<1e3||(U=a,T>=B||(b(T),T++)))}function l(a){D.accbeam.fire(L,a)}function m(a,b,c){var d=C+"/"+E.hostPlcmId+a;t(A,d,b,c)}function n(){var b=[],c=[];return"dev"===E.env&&"string"==typeof a.devEvFltr&&""!==a.devEvFltr&&(b=a.devEvFltr.toLowerCase().split("|")),"string"==typeof E.qsParams.evfltr&&""!==E.qsParams.evfltr&&(c=E.qsParams.evfltr.split("|")),[].concat(b,c)}function o(a){if(0===M.length)return!1;var b=!1;return M.forEach(function(c){!0!==b&&("*"===c?b=!0:a.indexOf(c)>=0&&(b=!0))}),b}function p(a){for(var b in a){var c=a[b];q(b,c.siteID,c.reduc)}}function q(a,b,c){N[a]={idx:O,siteID:b,reducOne:o(a),domSkipVars:r(c),evtCnt:0},O++}function r(a){function b(a,b){var c=100*a/H;return c=Math.round(c*b),c<1&&(c=1),c>1e5&&(c=1e5),c}function c(a){var b=Math.round(a);if(b<=1)return!1;var c=1e6,d=Math.round(Math.random()*c),e=Math.round(c/b),f=d+e;f>c&&(f=c,d=f-e);Math.random();Math.random(),Math.random(),Math.random();var g=Math.round((1-Math.random())*c);return g>=f||g<d}var d=b(a,1),e=b(a,10),f=b(a,.1),g=b(a,.01),h=1;return void 0!==E.env&&"dev"===E.env&&(d=1,e=1,f=1,g=1,h=1),{defReduc:d,defSkip:c(d),lowResReduc:e,lowResSkip:c(e),medResReduc:f,medResSkip:c(f),hiResReduc:g,hiResSkip:c(g),maxResReduc:h,maxResSkip:c(h)}}function s(a){a.forEach(function(a){t(a.domain,a.event,a.data,a.evOpts)})}function t(a,c,d,e){function f(a,c,e){function f(a){function b(a){try{var b=100/parseInt(a);if("number"!=typeof b)throw 1;return b<1&&(b=1),b>100&&(b=100),b}catch(a){}return 1}return F.whirliGig(b(a))}function g(a){return null!==a&&"object"===_typeof(a)}function h(a){return F.printObj(0,a)}var i={},j="def",k="",l=0,m=1,n=!0,o=1,p="",q="";if(void 0!==c){if(void 0!==c.scl&&(k=c.scl),void 0!==c.res&&("lo"===c.res?j="lores":"med"===c.res?j="medres":"hi"===c.res?j="hires":"max"===c.res&&(j="maxres")),void 0!==c.exp&&(o=c.exp),void 0!==c.txt&&(p=c.txt),void 0!==c.att){var r=!0;void 0!==c.ard&&(r=f(c.ard)),!0===r&&(q=!0===g(c.att)?h(c.att):c.att)}void 0!==c.wgh&&(m=parseInt(c.wgh))}switch(j){case"def":l=e.domSkipVars.defReduc,n=e.domSkipVars.defSkip;break;case"lores":l=e.domSkipVars.lowResReduc,n=e.domSkipVars.lowResSkip;break;case"medres":l=e.domSkipVars.medResReduc,n=e.domSkipVars.medResSkip;break;case"hires":l=e.domSkipVars.hiResReduc,n=e.domSkipVars.hiResSkip;break;case"maxres":l=e.domSkipVars.maxResReduc,n=e.domSkipVars.maxResSkip}!0===e.reducOne?(l=1,n=!1):"dev"===E.env&&(l=0,n=!0);var s=a;"/"!==s.charAt(0)&&(s="/"+s);var t=""+d,u=t;if(!0!==n){if(""!==k){var v=b.getRangeData(t,k);u="_i"+v.index+" ["+v.rangeL+" , "+v.rangeH+"]",1!==o&&(u+=" _x["+o+"]"),p.length>0&&(u+=" "+p)}}return i.path=s,i.caption=u,i.cnt=l*m,i.attch=q,i.effSkip=n,i}function g(a){var b={totalizer:!1,specCaseStr:a,totalCaseStr:""},c=a.split("${");if(c.length<=1)return b;var d=c[1].split("}$");if(d.length<=1)return b;var e=d[0].split("|");return e.length<=1?b:(b.totalizer=!0,b.specCaseStr=c[0]+e[0]+d[1],b.totalCaseStr=c[0]+e[1]+d[1],b)}var h=N[a];if(void 0!==h){var i=f(c,e,h);if(!0!==i.effSkip){var j=g(i.path);!0===j.totalizer&&u(h,j.totalCaseStr,i.caption,i.cnt,i.attch),u(h,j.specCaseStr,i.caption,i.cnt,i.attch)}}}function u(a,b,c,d,f){l(v(a.siteID,b,c,d,f)),e(),R++,a.evtCnt++}function v(a,b,c,d,e){return{group:"ev_cnt",event:a,ver:100,data:{pat:b,cap:c,cnt:d,attch:e}}}var w=this,x=30,y=50,z=5,A="perf_trk",B=60,C="/trackhub",D=a.comps,E=(a.cllBks,a.bootParams),F=new c,G=d,H=E.bstfct,I=D.trackhub.bufferH,J=D.trackhub.bufferL,K=Math.round(999*Math.random());e();var L="trackhub";D.accbeam.register("trackhub",L,1);var M=n(),N={},O=0;p(G.domains);var P=0,Q=0,R=0,S=0,T=0,U=0,V=0,W="NA",X=g(),Y=Date.now(),Z=-1,$=function(){return Date.now()};try{performance.now();$=function(){return performance.now()}}catch(a){}w.tick=function(a){if(void 0!==D.accbeam){var b;try{b=h(a,I,x),b=h(a,J,b),i(a),k(a)}catch(a){V++,W=a.stack.toString()}}},w.sae=function(){f()},D.heartL.subscribe(w.tick,"trackhub")}}(0,antools,textools,an_eventconf),an_accbeam=function(a,b){return function(c){function d(a){r.logger.writex({msg:a,prefix:"accbeam",inst:F})}function e(a,b,c){function e(a){var b=1e7;if(a<1)return!0;var c=Math.round(Math.random()*b),d=Math.round(b/a),e=c+d;e>b&&(e=b,c=e-d);Math.random();Math.random(),Math.random(),Math.random();var f=Math.round((1-Math.random())*b);return!(f>=e)&&!(f<c)}var f=Math.round(100*c/t);f<1&&(f=1);var g={cluster:a,chanID:b,reduc:f,flag:e(f),evtCnt:0};X[b]=g,d()}function f(a){a.forEach(function(a){g(a.chn,a.obj)})}function g(a,b){function c(a,b,c){var e=Math.floor(Date.now()-w),f=JSON.parse(JSON.stringify(b));f.reduc=c,f.pidx=S,f.ts=e+S,d(),P.push(f),S++,T++}if(void 0===a)throw"acc_channel_not_spec";var e=X[a];if(void 0===e)throw"unknown_acc_channel";!0===e.flag&&(e.evtCnt++,c(a,b,e.reduc))}function h(a){switch(Y){case"INIT":if(a-Q<y)break;$="ok",Y="RDY";break;case"WFR":if(null===$)break;if("ok"!==$){if(ja++,++ba>D){Y="RDY";break}Y="SND";break}d(),R=a,Y="WFT";case"WFT":if(a-Z<B)break;Y="RDY";case"RDY":if(0===P.length)break;if(a-R<C&&P.length<A)break;_=i(P,A),aa=j(_),V++,W++,U+=_.length,d(),ba=0,Y="SND";case"SND":$=null,k(O,aa),Z=a,Y="WFR"}}function i(a,b){for(var c=[],d=0;d<b&&(c.push(a.shift()),0!==a.length);d++);return c}function j(a){var b={ver:G,ldmd:H,fltr:I,tcase:u,tgrp:v,plcmID:J,locus:K,clntID:"",pageID:s.imprID,burst:a},c=JSON.stringify(b);return encodeURIComponent(c)}function k(a,b){function c(a){$="ok",ga++,d()}function e(){$="err",ha++,d()}function f(){$="to",ia++,d()}var g=null;window.XMLHttpRequest?g=new XMLHttpRequest:window.ActiveXObject&&(g=new ActiveXObject("Microsoft.XMLHTTP")),null!==g&&(g.open("POST",a),g.timeout=3e3,g.onload=c,g.onerror=e,g.ontimeout=f,g.send(b),d())}function l(){if(void 0!==navigator.sendBeacon&&0!==P.length){var a=i(P,z),b=j(a);navigator.sendBeacon(O,b)}}function m(a){function b(a){return a<10?"0"+a:""+a}function c(a,b,c){var d=[5,20,50],e=(a-b)/1e3,f=null;return d.forEach(function(a){null===f&&(a<=c||e<a||(f=a))}),f}var e=c(a,ea,fa);if(null!==e){fa=e;var f="at_["+b(e)+"]_sec";d(),p("/_s10 flux/_s10 events/"+f,T,{scl:"longtimes",res:"lo"}),p("/_s10 flux/_s12 packets/"+f,W,{scl:"cycleCount",res:"lo"}),p("/_s10 flux/_s14 backlog/"+f,P.length,{scl:"longtimes",res:"lo"}),p("/_s20 total/_s10 events/"+f,S,{scl:"shorttimes",res:"lo"}),p("/_s20 total/_s12 packets/"+f,V,{scl:"cycleCount",res:"lo"}),T=0,U=0,W=0,0!==ca&&(p("/_s40 excepts/_s10 count",ca,{scl:"longtimes"}),p("/_s40 excepts/_s20 texts",da)),o(f),n(f)}}function n(a){var b="/_s00 tx_control/"+a;0!==ga&&(p(b,"sent_ok",{wgh:ga}),d()),0!==ha&&(p(b,"error",{wgh:ha}),d()),0!==ia&&(p(b,"timeout",{wgh:ia}),d())}function o(a){var b="/_s10 channel_shares/"+a;for(var c in X){var e=X[c];0!==e.evtCnt&&(p(b,e.cluster,{wgh:e.evtCnt}),d())}}function p(a,b,c){var d=E+"/"+s.hostPlcmId+a;r.trackhub.sendEvent("perf_acc",d,b,c)}var q=this,r=c.comps,s=(c.cllBks,c.bootParams),t=s.bstfct,u=s.testCase,v=s.testGroup,w=s.startTime,x=s.secProt,y=3e3,z=50,A=100,B=500,C=3e3,D=3,E="/accbeam",F=Math.round(999*Math.random());d();var G=(new b,s.versionTag),H=s.ldmd,I=s.filterTag,J=s.placementId,K=s.locus,L="http://";!0===x&&(L="https://");var M="0";void 0!==s.opdomId&&(M=s.opdomId);var N=a.resourceLocations.accServerBase,O=L+N.replace("${number}",M)+"/receiver/postreportstr",P=[],Q=Date.now(),R=0,S=0,T=0,U=0,V=0,W=0,X={},Y="INIT",Z=0,$=null,_=[],aa=null,ba=0,ca=0,da="NA",ea=Date.now(),fa=-1,ga=0,ha=0,ia=0,ja=0;r.parcels.subscribe("accbeam",function(a){var b=a.args;switch(a.cmd){case"register":e(b.cluster,b.chanID,b.reduc);break;case"fireList":f(b.pingList);break;case"fire":g(b.chanID,b.dataObj)}}),q.tick=function(a){h(a),m(a)},q.slc=function(){l()},r.heartL.subscribe(q.tick,"accbeam")}}(config,textools),an_mailmstr=function(a,b,c){return function(d){function e(a){y.logger.writex({msg:a,prefix:"mailmaster",inst:A})}function f(a){T=a,U=!0}function g(){if(null===T)return"NA";for(var a="",b=0;b<T.length;b++){a+="[ "+T[b].partId+" ]  "}return a}function h(a){for(var b=0;b<a.length;b++){var c=JSON.parse(JSON.stringify(a[b]));c.sendThisOne=!1;var d=parseInt(c.reduc);!0!==isNaN(d)&&d>=1&&Math.random()<1/d&&(c.sendThisOne=!0),c.useCount=0,c.sentLast=!1,R.push(c)}}function i(a){function b(a,b,c){try{var d=a.message;void 0!==d&&(d="NA");var f="******** Exception during debmail assembly ******** \n\n";f+="Message--\x3e  "+d+"\n\n",void 0!==a.stack&&(f+="Stack:\n",f+=a.stack.toString()+"\n\n");var g={};g.from=b,g.event=c,g.debugStrings=null,g.textElements=q(b,c,f),K.push(g),e()}catch(a){void 0!==B&&B.sendEvent("alerts","mailmaster","can't assemble error mail (_send)")}}var c=a.from,d=a.subject,f=a.text,g=a.debugStrings,h=a.sreduc;if(e(),0!==R.length){!0===I&&(I=!1,j("grlInfo",u()),j("envInfo",v()));try{var i=f;f.length>J&&(i=f.substring(0,J)+" ... \n\n ***** truncated text, original length: "+f.length+" *****");var k={};k.from=c,k.event=d,k.debugStrings=g,k.sreduc=h,k.textElements=q(c,d,i),K.push(k)}catch(a){b(a,c,d)}}}function j(a,b){var c={name:""+a,text:""+b};H.push(c)}function k(a){for(var b="",c=0;c<H.length;c++){var d=H[c];"*"!==a&&d.name!==a||(b+=d.text)}return b}function l(a){j(a.name,a.text),Q=!0}function m(a){switch(L){case"INIT":if(0===R.length)break;L="READY";break;case"READY":if(0===K.length)break;r(K.shift())}}function n(a){switch(N){case"INIT":N="READY";break;case"READY":if(0===M.length)break;w(M.shift()),O=a,N="HOLDOFF";break;case"HOLDOFF":if(a-O<b.analytics.emailHoldOff)break;N="READY"}}function o(a){switch(P){case"INIT":P="READY";break;case"READY":if(!0===Q){Q=!1,P="SEND_MON";break}break;case"SEND_MON":i({from:"MAIL_MASTER",subject:"monitor",text:"This email is sent once per session when all common params have been received",debugStrings:null}),P="READY"}}function p(a){if(null===E&&void 0!==y.nodemanager){var b=y.nodemanager.getCMPData();if(null===b)return;E=b}if(null===D&&void 0!==y.blockdet){var c=y.blockdet.getStatus();if(null===c)return;D=c}}function q(a,b,d){var e=(new c,Date.now()-C),f=Math.round(e/1e3)+"."+e%1e3,h=(new Date).toUTCString(),i="\n============= DEBUG REPORT =============\n\n\n";i+="From--\x3e  "+a+"\n",i+="Event--\x3e  "+b+"\n\n",i+="Locus:  "+z.locus+"\n\n",i+="Utc Time:  "+h+"\n",i+="Rel Time:  "+f+"\n\n",i+="ClientID:  "+z.clientID+"\n",i+="ImpID:  "+z.imprID+"\n",i+="Test Case:  "+z.testCase+"\n",i+="Test Group:  "+z.testGroup+"\n",i+="Active Partitions:  "+g()+"\n",i+="CtxId:  "+z.ctxId+"\n",i+="Confined:  "+(z.confined?"YES":"NO")+"\n\n";var j="---";return!0===D?j="YES":!1===D&&(j="NO"),i+="Ad Blocker: "+j+"\n\n",i+="CMP: ",null===E?i+="Not Avail.\n\n":"ok"!==E.status?i+="Failed\n\n":(i+="OK\n",i+="  Appl: "+(!0===E.gdprApplies?"YES":"NO")+"\n",i+="  Str: "+E.consentString+"\n\n"),i+=k("envInfo")+"\n",i+=k("grlInfo")+"\n\n",bodyText="\n\n\n",bodyText+=d,bodyText+="\n\n\n\n",{headerText:i,bodyText:bodyText}}function r(a){for(var b=0;b<R.length;b++)try{var c=R[b],d=!1,f="error";if(!0!==c.enabled)continue;if(void 0===a.sreduc&&!0!==c.sendThisOne)continue;if("*"===c.filter)f="*";else{if(c.useCount>=c.multiple){if(!0===c.sentLast)continue;d=!0,c.sentLast=!0}var g=a.textElements.headerText,h=a.textElements.bodyText,i=s(g,h,c.filter);if("send"!==i.status)continue;f=i.matchCond}S+=1,e();var j=c.reduc;void 0!==a.sreduc&&(j=a.sreduc),t(a,c.account,f,j,d,S),c.useCount+=1}catch(a){void 0!==B&&B.sendEvent("alerts","mailmaster","can't assemble emails (_tryAllDebMailChs)")}}function s(a,c,d){function e(a,c,d){var e={status:"all_matched",matchedTerms:""};if(void 0===d)return e;if("*"===(d=d.replace(/\s+/g,"")))return e;if(""===d)return e;var f=a+c;f=f.substring(0,b.analytics.emailTextCheckMax),f=f.toLowerCase().replace(/\s/g,"");for(var g=d.toLowerCase().split("&"),h=0;h<g.length;h++){var i=g[h];if(f.indexOf(i)<0)return e.status="failed",e}return e.matchedTerms=g.join(" & "),e}var f={status:"do_not_send",matchCond:""};if("undefined"===d)return f;if(""===d)return f;var g=e(a,c,d);return"all_matched"!==g.status?f:(f.status="send",f.matchCond=g.matchedTerms,f)}function t(a,b,c,d,f,g){var h="i: "+z.imprID.substring(4,7)+" "+g;h+="-"+z.testCase+"-"+(D?"Y":"N")+"  -    c: "+z.clientID.substring(27,30),h+="    -     ["+z.versionTag+"]",h+="    -     [ "+z.locus+" ]     -      "+a.from+"   -    "+a.event,h+="    -   mtag: "+V+"    -   r: "+d,!0===f&&(h+="  (more...)");var i=a.textElements.headerText;i+='Filter String:  "'+c+'"\n',i+="Reduction:  "+d+"\n",void 0!==a.debugStrings&&null!==a.debugStrings&&(i+="\n\n\n---- Debug Log: ----\n\n"+a.debugStrings.join("\n")+"\n\n"),i+=a.textElements.bodyText;var j={from:a.from,to:b,subject:h,text:i};M.push(j),e()}function u(){var a=z.visitData,b=z.isNewUser,c=(new Date,""),c="This Version Tag: "+a.ltstVerTag+", Previous Version Tag: "+a.preVerTag+", Version Folder: "+z.versionFolder+"\n\n";return c+="New User: "+(b?"YES":"NO")+"\n",c+="New Visit: "+(a.newVisit?"YES":"NO")+"\n\n",c+="Visit Nbr: "+a.totalVisits+"\n",c+="Total Clicks: "+a.totalClicks+"\n\n",c+="This Visit Tm: "+new Date+"\n",c+="Last Visit Tm: "+new Date(a.lastVisitTime)+"\n\n",c+="Visits Last 5 Min: "+a.sessCount5Min+"\n",c+="Visits Last Hour: "+a.sessCountHour+"\n",c+="Visits Last 24 hrs: "+a.sessCountDay+"\n",c+="Visits Last Month: "+a.sessCountMonth+"\n\n",c+="Host Page URL: "+z.hostPageUrl+"\n",c+="Host Page Title: "+z.hostPageTitle+"\n\n",c+="Screen Width: "+window.screen.availWidth+"\n",c+="Screen Height: "+window.screen.availHeight+"\n"}function v(){var a=z.envInfo;return"Browser name: "+a.browserName+"\nFull version: "+a.fullVersion+"\nMajor version: "+a.majorVersion+"\nOSName: "+a.OSName+"\n\nUserAgent: "+a.userAgent+"\n"}function w(b){var c="";c+="Id="+encodeURIComponent(b.to)+"&",c+="subject="+encodeURIComponent(b.subject)+"&",c+="value="+encodeURIComponent(b.text);var d={method:"POST",url:G,data:c,onSucc:function(a){},onFail:function(){},options:{withCredentials:!1,contentType:"application/x-www-form-urlencoded"}};new a(d);e(),void 0!==B&&B.sendEvent("alerts","mailmaster","/mails sent/"+z.locus+"/"+b.from)}var x=this,y=d.comps,z=(d.cllBks,d.bootParams),A=Math.round(999*Math.random());e();var B=y.trackhub,C=z.startTime,D=null,E=null,F="http://";!0===z.secProt&&(F="https://");var G=F+b.resourceLocations.debugEmailServer,H=[],I=!0,J=b.analytics.emailTextMax,K=[],L="INIT",M=[],N="INIT",O=0,P="INIT",Q=!1,R=[],S=0,T=null,U=!1;y.parcels.subscribe("sendmail",function(a){i(a)});var V="XX";y.parcels.subscribe("qvdata",function(a){h(a.debmail),V=y.quickVars.getParam("mailTag","NA")}),y.parcels.subscribe("partdata",function(a){f(a)}),y.parcels.subscribe("commontxt",function(a){l(a)}),x.tick=function(a){m(a),n(a),o(a),p(a)},y.heartL.subscribe(x.tick,"mailmaster")}}(ajaxcall,config,textools),bb_bdlst=function(a,b){return function(c){function d(a){s.logger.writex({msg:a,prefix:"bb_bdlst",inst:t})}function e(a){var b=this;b.ssName=a.ssName,b.segID=a.segID,b.unFbxName=a.unFbxName,b.sgmCtrl=a.sgmCtrl,b.floor=a.floor,b.ts=Date.now(),b.dueTime=u,b.due=!1,b.done=!1,b.burstIdx=0,b.maxBurst=v,b.tick=function(a){!0!==b.due&&a-b.ts>b.dueTime&&(b.due=!0)},b.burstNow=function(a){b.burstIdx>=b.maxBurst||(b.sgmCtrl.burst(a),b.burstIdx++)},b.setDue=function(){b.due=!0}}function f(a){E.forEach(function(b){b.tick(a)})}function g(a){switch(!0===L&&a-M>A&&(j(),L=!1),H){case"INIT":H="LISTEN";case"LISTEN":if(E.length<1)break;I=a,J=0,H="BURSTING";case"BURSTING":if(!0===K){K=!1,I=a,H="HOLDOFF";break}if(h(w),E.length<1){H="LISTEN";break}if(a-J>=x){J=a;i(Math.round(y/r.rtsc()))}break;case"HOLDOFF":if(!0===K){K=!1,I=a;break}if(a-I<z)break;H="BURSTING"}}function h(a){function b(a){var b=n(a);null!==b&&(o(b),0===E.length&&p(),q.fireEvent("segstatus"))}function c(){var a=0;return E.forEach(function(b){!0!==b.done&&!0===b.due&&a++}),a}D.length>=a?b(!1):c()>0&&b(!0)}function i(a){E.forEach(function(b){b.burstNow(a)})}function j(){E.forEach(function(a){a.setDue()})}function k(a,b){var c=null;if(E.forEach(function(b){null===c&&b.segID===a.segID&&(c=b)}),null!==c)return c;if(!0!==b)return null;var d={ssName:a.ssName,segID:a.segID,unFbxName:a.unFbxName,sgmCtrl:a.sgmCtrl,floor:a.floor};return c=new e(d),E.push(c),E.sort(function(a,b){return a.unFbxName-b.unFbxName}),q.fireEvent("segstatus"),c}function l(a){var b=[];E.forEach(function(c){c!==a&&b.push(c)}),E=b}function m(a){var b=[];D.forEach(function(c){c.srcData.srcID!==a&&b.push(c)}),D=b}function n(a){var b=null;return E.sort(function(a,b){return a.unFbxName-b.unFbxName}),E.forEach(function(c){null===b&&!0!==c.done&&(!0===a&&!0!==c.due||(c.done=!0,b=c))}),b}function o(a){function b(a){function b(a){var b=[];return D.forEach(function(c){c.bidData.effPrc<a||b.push(c)}),b}function c(a,b){return b.bidData.effPrc-a.bidData.effPrc}var d={status:"---",msg:"",winBid:null,clPrc:0,fstPrc:"NA",sndPrc:"NA",trdPrc:"NA"},e=b(a);if(0===e.length)return d.status="empty",d.msg="no_eligible_bids",d;e.sort(c),e.length>0&&(d.fstPrc=Math.round(100*e[0].bidData.effPrc)/100),e.length>1&&(d.sndPrc=Math.round(100*e[1].bidData.effPrc)/100),e.length>2&&(d.trdPrc=Math.round(100*e[2].bidData.effPrc)/100);var f=e[0],g=f.bidData.effPrc;return d.status="ok",d.winBid=f,d.clPrc=Math.round(100*g)/100,d}var c=(D.length,b(a.floor));if("ok"!==c.status)return a.sgmCtrl.bdClbck(null),void l(a);var d=!1;c.winBid.segID!==a.segID&&(d=!0);var e={clPrc:c.clPrc,fstPrc:c.fstPrc,sndPrc:c.sndPrc,trdPrc:c.trdPrc,impData:c.winBid.bidData,srcData:c.winBid.srcData,xSeg:d};a.sgmCtrl.bdClbck(e),G.push(c.winBid.srcData.srcID),m(c.winBid.srcData.srcID),l(a)}function p(){function a(a){var b=!1;return G.forEach(function(c){c===a.srcID&&(b=!0)}),b}F.forEach(function(b){!0!==a(b)&&b.srcCtrl.youLost()})}var q=this,r=c.master,s=c.comps,t=Math.round(999*Math.random());d(),q.fireEvent=function(a,b){r.fireEvent(a,b)};var u=a.bidding.segDueTime,v=a.bidding.segMaxBurst,w=a.bidding.minActiveBids,x=a.bidding.burstPeriod,y=a.bidding.maxCallBandwidth,z=a.bidding.bidHoldOff,A=a.bidding.bidTimeOut,B=new b,C=B.genUUID(),D=[],E=[],F=[],G=[],H="INIT",I=0,J=0,K=!1,L=!1,M=null,N=0;q.getSrcSetNam=function(){return c.ssName},q.getSegmCount=function(){return E.length},q.rsg=function(a){var b=k(a,!0);N=b.floor},q.nsrctr=function(a){return F.push(a),M=Date.now(),L=!0,C},q.nbd=function(a){a.bidData.effPrc<N||(D.push(a),K=!0)},q.tick=function(a){g(a),f(a)},s.heartH.subscribe(q.tick,"bd_bdlst"),q.tick(Date.now())}}(config,textools),bb_admin=function(a,b){return function(a){function c(a){g.logger.writex({msg:a,prefix:"bd_admin",inst:h})}function d(a,c){var d=null;return i.forEach(function(b){null===d&&b.getSrcSetNam()===a&&(d=b)}),null!==d?d:!0!==c?null:(d=new b({master:f,comps:g,ssName:a}),i.push(d),e(),d)}function e(){var a=0;i.forEach(function(b){a+=b.getSegmCount()}),j=a}var f=this,g=a.comps,h=(a.cllBks,a.bootParams,Math.round(999*Math.random()));c(),f.fireEvent=function(a,b){switch(a){case"segstatus":e()}},f.hcComm=function(a){a.event};var i=(Date.now(),[]),j=0;f.rsg=function(a){d(a.ssName,!0).rsg(a)},f.nsrctr=function(a){return d(a.ssName,!1).nsrctr(a)},f.nbd=function(a){var b=d(a.ssName,!1);if(null===b)throw"inconsistent_flow - code: CQDf5Ks6";b.nbd({unFbxName:a.unFbxName,segID:a.segID,bidData:a.bidData,srcData:a.srcData})},f.rtsc=function(){return j}}}(0,bb_bdlst),bb_bidders=function(TexTools){return function(args){function _deltalog(a){_comps.logger.writex({msg:a,prefix:"bb_bidders",inst:_instnum})}function _debugAlert(a,b){_comps.logger.debugAlert(a,b)}function _addAllIds(){for(var a in _bidderMap)bidderObj=_bidderMap[a],bidderObj.bcode=a,bidderObj.bdChnID=a,bidderObj.reqs=0,bidderObj.bids=0,bidderObj.wins=0}function _getBidderInfo(a){function b(a,b){var c=!1;return a.forEach(function(a){!1===c&&a.toLowerCase()===b.toLowerCase()&&(c=!0)}),c}var c=_bidderMap[a];if(void 0!==c)return c;for(var d in _bidderMap)if(c=_bidderMap[d],!0===b(c.alias,a))return c;return null}function _procRequest(data){function getBidParams(a,b){var c=new TexTools,d=c.parse(a,b);return"ok"===d.stat?d.parsedObj:null}function convertSpecParams(a){function b(a){function b(a){function b(a){var b="$array{",c=a.indexOf(b);if(!(c<0)){var d=a.substring(c+b.length),e=d.indexOf("}");if(!(e<0))return d=d.substring(0,e),"["+(d=d.replace(/\|/g,","))+"]"}}var c=b(a);if(void 0!==c)try{return JSON.parse(c)}catch(a){}}function c(a){function b(a){var b="$number{",c=a.indexOf(b);if(!(c<0)){var d=a.substring(c+b.length),e=d.indexOf("}");if(!(e<0))return d.substring(0,e)}}function c(a){var b=parseFloat(a);if(!0!==isNaN(b))return Math.round(b)-b!=0?b:void 0}function d(a){var b=parseInt(a);if(!0!==isNaN(b))return b}var f=b(a);if(void 0!==f)return void 0!==(e=c(f))?e:(e=d(f),void 0!==e?e:void 0)}function d(a){return _typeof(a)==_typeof(!0)?a:"true"===a||"false"!==a&&void 0}var e=b(a);if(void 0!==e)return e;var e=c(a);if(void 0!==e)return e;var e=d(a);return void 0!==e?e:""+a}var c={};for(var d in a)c[d]=b(a[d]);return c}function returnSuccess(a){return a.money={currCode:bidderInfo.currCode,fbk:bidderInfo.fbk,trm:bidderInfo.trm},bidderInfo.reqs++,_deltalog(),args.ecCllBks.firePingChannelByMediaType(bidderInfo.bcode,a.mtype,"","_s10 imp"),args.ecCllBks.firePingChannelByMediaType(bidderInfo.bcode,a.mtype,"/_s36 src_tags",a.tagname),args.ecCllBks.fireSummaryPing(a.mtype,"/_s10 reqs",bidderInfo.bcode),{status:"ok",msg:"",tagname:a.tagname,bidderInfo:a.bidderInfo}}function returnError(a,b,c){return _deltalog(),args.ecCllBks.fireErrorPing("/parsing - "+a,b),{status:"ERROR",msg:a+" - snippet <<< "+c+" >>>",tagname:data.tagname,bidderInfo:null}}var _unspecified="unspecified",general_keywords={drvid:_unspecified,spc_asi:_unspecified,spc_sid:_unspecified,comment:_unspecified},textools=new TexTools;try{var paramsObj;if(eval("paramsObj = "+data.snippet),void 0===paramsObj.drvid)throw{msg:"unspec_driver"};var bidderInfo=_getBidderInfo(paramsObj.drvid);if(null===bidderInfo)throw{unknDrv:!0,msg:"unknown_driver"};var genParams=textools.objxt(general_keywords,paramsObj);data.tagParams_gen=genParams,data.bidderInfo=bidderInfo;var defParams={};void 0!==bidderInfo.paramDefs&&(defParams=bidderInfo.paramDefs);var specParams=textools.objxt(defParams,paramsObj);return data.tagParams_spc=specParams,args.ecCllBks.firePingChannel(bidderInfo.bcode,"/_s10 tag_params","JS"),returnSuccess(data)}catch(a){if(!0===a.unknDrv)return returnError(a.msg,data.tagname,data.snippet);_deltalog()}var general_keywords={drvID:{type:"string",req:!0},spc_asi:{type:"string"},spc_sid:{type:"string"},comment:{type:"string"}};try{var genParams=getBidParams(data.snippet,general_keywords);if(null===genParams)throw{msg:"parse_gen_params"};data.tagParams_gen=genParams;var bidderInfo=_getBidderInfo(genParams.drvID);if(null===bidderInfo)throw{unknDrv:!0,msg:"unknown_driver"};if(data.bidderInfo=bidderInfo,void 0===bidderInfo.paramKeys)throw{msg:"no_parse_template"};var specParams=getBidParams(data.snippet,bidderInfo.paramKeys);if(null===specParams)throw{msg:"parse_spec_params"};if(specParams=convertSpecParams(specParams),void 0!==bidderInfo.paramDefs){var textools=new TexTools;specParams=textools.objxt(bidderInfo.paramDefs,specParams)}return data.tagParams_spc=specParams,args.ecCllBks.firePingChannel(bidderInfo.bcode,"/_s10 tag_params","custom"),returnSuccess(data)}catch(a){return returnError(a.msg,data.tagname,data.snippet)}}var that=this,_master=args.master,_comps=args.comps,_cllBks=args.cllBks,_bootParams=args.bootParams,_instnum=Math.round(999*Math.random());_deltalog();var _bidderMap={onetag:{alias:["ONETAG"],currCode:"EUR",fbk:15,trm:0,paramKeys:{pubId:{type:"string",req:!0}}},aol:{alias:["AOL","ONEAOL","ONEDISPLAY","ONEMOBILE"],currCode:"USD",fbk:0,trm:0,paramKeys:{tagid:{type:"string",req:!0}}},emx_digital:{alias:["BRT","EMX"],currCode:"USD",fbk:0,trm:0,paramKeys:{tagid:{type:"string",req:!0}}},pubmatic:{alias:["PUBM"],currCode:"USD",fbk:-20,trm:0,paramKeys:{publisherId:{type:"string",req:!0},adSlot:{type:"string"}}},spotx:{alias:["SPOTX"],currCode:"USD",fbk:0,trm:0,paramKeys:{channel_id:{type:"string",req:!0}},paramDefs:{mimes:["video/mp4","video/ogg","video/ogv","video/webm","video/x-ms-wmv"],ad_volume:0,hide_skin:!0,outstream_function:function(a){}}},"freewheel-ssp":{alias:["FREEWH"],currCode:"USD",fbk:0,trm:0,paramKeys:{zoneId:{type:"string",req:!0}}},criteo:{alias:["CRITEO"],currCode:"EUR",fbk:0,trm:0,paramKeys:{zoneId:{type:"string",req:!0}},paramDefs:{zoneId:"XXXXX",video:{playbackmethod:6,placement:2,skip:0}}},adform:{alias:["ADFORM"],currCode:"USD",fbk:-30,trm:0,paramKeys:{mid:{type:"string",req:!0}},paramDefs:{adxDomain:"adx.adform.net"}},appnexus:{alias:["APNX"],currCode:"USD",fbk:-30,trm:0,paramKeys:{placementId:{type:"string",req:!0}}},ix:{alias:["INDEX"],currCode:"USD",fbk:-30,trm:0,paramKeys:{siteId:{type:"string",req:!0},size:{type:"string",req:!0}}},openx:{alias:["OPENX"],currCode:"CHF",fbk:0,trm:0,paramKeys:{unit:{type:"string",req:!0},delDomain:{type:"string",req:!0}}},improvedigital:{alias:["IMPROVE"],currCode:"USD",fbk:-15,trm:0,paramKeys:{placementId:{type:"string",req:!0}}},smartadserver:{alias:["SMART"],currCode:"EUR",fbk:-15,trm:0,paramKeys:{domain:{type:"string",req:!0},siteId:{type:"string",req:!0},pageId:{type:"string",req:!0},formatId:{type:"string",req:!0}}},sovrn:{alias:["SOVRN"],currCode:"USD",fbk:0,trm:0,paramKeys:{tagid:{type:"string",req:!0}}},rubicon:{alias:["RUBIC"],currCode:"USD",fbk:-20,trm:0,paramKeys:{accountId:{type:"string",req:!0},siteId:{type:"string",req:!0},zoneId:{type:"string",req:!0}}},fbadsim:{alias:["FBADSIM"],currCode:"USD",fbk:0,trm:0},mercr:{alias:["MERCR"],currCode:"CHF",fbk:0,trm:0,paramKeys:{plcmID:{type:"string",req:!0},partID:{type:"string",req:!0},opdomID:{type:"string",req:!0},bsrvID:{type:"string",req:!0},endpID:{type:"string",req:!0}}},reload:{alias:["RELOAD"]}};_addAllIds(),that.procRequest=function(a){return _procRequest(a)},that.gbofid=function(a){return _getBidderInfo(a)},that.addOne=function(a,b){_getBidderInfo(a)[b]+=1}}}(textools),bb_truck=function(a,b){return function(a){function c(a){F.logger.writex({msg:a,prefix:"bb_truck",inst:J})}function d(a,b){F.logger.debugAlert(a,b)}function e(b,c,d,e){a.ecCllBks.firePingChannel(b,c,d,e)}function f(b,c,d){a.ecCllBks.fireErrorPing("/prbd"+b,c,d)}function g(b,c,d){a.ecCllBks.fireTrucksPing(b,c,d)}function h(){function a(a,b,c){var d=a+":\n";return d+=D.printObj(0,b)+"\n\n",d.substring(0,c)}r(a("Basic Data:",{locus:G.locus,publisher:G.publisher,versionTag:G.versionTag,hostPageUrl:G.hostPageUrl,ctxId:G.ctxId,screenWidth:G.winInfo.screenWidth,screenHeight:G.winInfo.screenHeight},3e3)),r(a("Impression Buffer:",$,6e3))}function i(){var a=A({truckID:Z,headScript:x(),bodyScript:y(_,aa)});$.forEach(function(a){a.reqNtfClbk()});var b={truckID:Z,bdChnID:"PREBID",truckIdx:Y,bidReqs:$.length};return C.fireEvent("bd_new_truck_sent",b),O=Date.now(),c(),a}function j(a){window.removeEventListener("message",m),!0===H&&"dev"===G.env||a.remove()}function k(a,b){var c="";return"dsp"===a&&(c="banner"),"vid"===a&&(c="video"),"nat"===a&&(c="native"),"cst"===a&&(c="banner"),c}function l(a){function b(a){a.impID=Math.random().toString(16).substr(2),a.bids=[],a.tm_creat=Date.now(),a.tm_resp=null,a.done=!1,a.width=a.sourceWidth,a.height=a.sourceHeight,c()}var d=[];return a.forEach(function(a){b(a),d.push(a)}),d}function m(a){function b(a,b){try{switch(a){case"pingIN":g("","_s14 truck_ping_in");break;case"pingOUT":g("","_s16 truck_ping_out");break;case"auctionDebug":c(),f("","pb debug msg",{att:JSON.stringify(b).substring(0,120)});break;case"noBid":o(a,b);break;case"bidResponse":n(a,b);break;case"bidsBackHandler":p(a,b);break;case"frmcs_log":case"frmcs_info":case"frmcs_warn":case"frmcs_error":s(a,b)}}catch(b){var e="exception while processing truck event\n\n";void 0!==b.stack&&(e+="\nStack:\n",e+=b.stack.toString()+"\n\n"),c(),f("/exception","on_truck_event ["+a+"]",{att:e}),d("Excpt while processing truck event",e)}}try{var e=JSON.parse(a.data);if("bbfrm"!==e.type)return;var h=e.payload.event,i=e.payload.data;c(),b(h,i)}catch(a){}}function n(a,b){function d(a,b){var c=a.nomPrc;if(!0!==a.net&&0!==b.money.fbk&&(c=c*(100+b.money.fbk)/100),"CHF"!==a.cur){if(a.cur in L!=!0)return null;c*=L[a.cur]}return 0!==b.money.trm&&(c=c*(100+b.money.trm)/100),a.effPrc=Math.round(100*c)/100,a}function f(a,b){var c={mtype:b.mtype,adm:"",nomPrc:0,cur:"CHF",bidAvail:!1,xml:!1};if(null===a)return c;if(""===a.ad)return c;if(0===a.cpm)return c;for(var d in a)switch(d){case"requestId":case"width":case"height":case"dealId":case"bidderCode":case"ttl":case"referrer":c[d]=a[d]}if("video"===a.mediaType){if("vid"!==b.mtype)throw{msg:"mtype_mismatch_vid"};c.mtype=b.mtype,void 0!==a.vastXml?(c.adm=a.vastXml,c.xml=!0):void 0!==a.vastUrl&&(c.adm=a.vastUrl,c.xml=!1)}else{if(1===b.width&&1===b.height){if("cst"!==b.mtype)throw{msg:"mtype_mismatch_dsp"};c.mtype=b.mtype}else{if("dsp"!==b.mtype)throw{msg:"mtype_mismatch_dsp"};c.mtype=b.mtype}if(void 0===a.ad)throw{msg:"undf_ad_markup"};c.adm=a.ad}return c.nomPrc=a.originalCpm,c.cur=a.originalCurrency,c.net=a.netRevenue,void 0!==a.creativeId?c.creativeId=a.creativeId:c.creativeId=a.creative_id,c.bidAvail=!0,c}c();var g=u(b.adUnitCode,b.bidder,b.mediaType);if(null===g)return c(),void e(b.bidder,"/_s40 drvint_error","orig_bid_not_found - code:knSb34V");g.tm_resp=Date.now(),M=!0;try{var h=f(b,g)}catch(a){return c(),void e(b.bidder,"/_s40 drvint_error","cannot_convert_imp_data - code:8dn3Hw9 - msg:"+a.msg)}if(!0===h.bidAvail&&h.mtype!==g.mtype)return c(),void e(b.bidder,"/_s40 drvint_error","media_type_conflict - code:smq93jP4H");if(!0===h.bidAvail){h.impID=g.impID;var i=d(h,g);if(null===i)return c(),void e(b.bidder,"/_s30 truck_error","currency - code:sKwo467Hn");h.adm;if("dev"===G.env&&!0===g.fsbroker){if(Math.random()>.5)return;h.adm=B()}i.pbBidData=b,g.bids.push(i),N++,c()}}function o(a,b){}function p(){function a(a,b){
!0===Q&&(b.length<=1||g("/_s05 cnsl_msgs",a,{ard:10,att:b.join("\n")}))}for(var b=Date.now(),d=0;d<$.length;d++){var f=$[d];f.bids.length,c(),f.done=!0,f.looptime=b-O;var h={status:"ok",fromcache:!1,looptime:f.looptime,bids:f.bids,tagParams_gen:f.tagParams_gen};f.sourceClbk(h),e(f.bidderCode,"/_s04 loop_times",f.looptime,{scl:"shorttimesLR",res:"lo"})}P=!0,a("_s10 log",R),a("_s20 warn",S),a("_s30 info",T),a("_s40 error",U),a("_s50 truck",V)}function q(a){var b="Init",c=[null,null,null,b];s("frmcs_log",c),s("frmcs_info",c),s("frmcs_warn",c),s("frmcs_error",c),r(b)}function r(a){if(c(),!0===Q){var b=t()+" "+a;V.push(b)}}function s(a,b){var d=""+b[3];if(c(),!0===Q){var e=t()+" "+d;switch(a){case"frmcs_log":R.push(e);break;case"frmcs_info":S.push(e);break;case"frmcs_warn":T.push(e);break;case"frmcs_error":U.push(e)}}}function t(){var a=Date.now()-W,b=Math.floor(a/1e3),c=a-1e3*b;return b=b<10?" "+b:""+b,c=0===c?"000":c<10?"00"+c:c<100?"0"+c:""+c,b+"."+c}function u(a,b,c){var d=c;"string"==typeof c&&(d={},d[c]=1);var e=null;return $.forEach(function(c){null===e&&c.adUnitCode===a&&c.bidderCode===b&&k(c.mtype)in d==!0&&(e=c)}),e}function v(a){function b(a,b){void 0===a.bids&&(a.bids=[]),a.bids.push({bidder:b.bidderInfo.bcode,params:b.tagParams_spc})}function c(a){var b=a.adUnitCode,c=a.mtype,i=[a.sourceWidth,a.sourceHeight],j=d(b);if(null!==j)return!0!==f(j,c,i)&&g(j,c,i),j;var k=e(b,c,i);return h.push(k),k}function d(a){var b=null;return h.forEach(function(c){null===b&&c.code===a&&(b=c)}),b}function e(a,b,c){var d={code:a};return g(d,b,c),d}function f(a,b,c){function d(a,b){var c=!1;return a.forEach(function(a){JSON.stringify(a)===JSON.stringify(b)&&(c=!0)}),c}if("dsp"===b){if(void 0===a.mediaTypes)return!1;if(void 0===a.mediaTypes.banner)return!1;var e=a.mediaTypes.banner;return!0!==d(e.sizes,c)&&e.sizes.push(c),!0}if("vid"===b)return void 0!==a.mediaTypes&&(void 0!==a.mediaTypes.video&&(a.mediaTypes.video=w(c),!0));if("nat"===b){if(void 0===a.mediaTypes)return!1;if(void 0===a.mediaTypes.native)return!1;var e=a.mediaTypes.native;return!0!==d(e.sizes,c)&&e.sizes.push(c),!0}if("cst"===b){if(void 0===a.mediaTypes)return!1;if(void 0===a.mediaTypes.banner)return!1;var e=a.mediaTypes.banner;return e.sizes=[1,1],!0}return!1}function g(a,b,c){void 0===a.mediaTypes&&(a.mediaTypes={}),"dsp"===b&&void 0===a.mediaTypes.banner&&(a.mediaTypes.banner={sizes:[c]}),"vid"===b&&void 0===a.mediaTypes.video&&(a.mediaTypes.video=w(c)),"nat"===b&&void 0===a.mediaTypes.native&&(a.mediaTypes.native={sizes:[c]}),"cst"===b&&void 0===a.mediaTypes.banner&&(a.mediaTypes.banner={sizes:[1,1]})}var h=[];return a.forEach(function(a){b(c(a),a)}),h}function w(a){return{context:"outstream",playerSize:[a],playerSizes:[a],mimes:["video/mp4","video/ogg","video/ogv","video/webm","video/x-ms-wmv"],protocols:[2,3,5,6],maxduration:30,api:[1,2],renderer:{url:"",backupOnly:!1,render:function(a){c()}}}}function x(){var a="";return a+='<script type="text/javascript" src="'+K+'" async><\/script>'}function y(a,b){var c=JSON.stringify(a),d=JSON.stringify(b),e="";return e+="<script>",e+='sendToMaster({ event : "pingIN", data : null });',e+="console.log.apply = function (ptr, data) {",e+='\tsendToMaster({ event : "frmcs_log", data : data});',e+="};",e+="console.info.apply = function (ptr, data) {",e+='\tsendToMaster({ event : "frmcs_info", data : data});',e+="};",e+="console.warn.apply = function (ptr, data) {",e+='\tsendToMaster({ event : "frmcs_warn", data : data});',e+="};",e+="console.error.apply = function (ptr, data) {",e+='\tsendToMaster({ event : "frmcs_error", data : data});',e+="};",e+="function localLog(caption, data, len) {",e+='\tif("'+G.env+'" !== "dev") return;',e+='\tvar effLength = typeof len !== "undefined" ? len : 200;',e+='\tvar effDataStr = typeof data !== "undefined" ? (JSON.stringify(data)).substring(0, effLength) : "";',e+='\tconsole.log("bb_" + caption + " - " + effDataStr);',e+="}",e+="function sendToMaster (payload) {",e+="var txObj = {",e+='type : "bbfrm",',e+="payload : payload,",e+="};",e+='\twindow.parent.postMessage(JSON.stringify(txObj), "*")',e+="}",e+="var pbjs = pbjs || {};",e+="pbjs.que = pbjs.que || [];",e+="pbjs.que.push(function() {",e+="\tpbjs.enableSendAllBids();",e+="});",e+="pbjs.que.push(function() {",e+='localLog("Entering que-function!");',e+="var configObj = {};",e+="configObj.debug = "+I+";",e+='configObj.bidderSequence = "fixed";',e+='configObj.pageUrl = "'+G.hostPageUrl+'";',e+='configObj.publisherDomain = "'+G.hostDomain+'";',e+="configObj.schain = {",e+='\tvalidation : "relaxed",',e+="\tconfig : {",e+='\t\tver : "1.0",',e+="\t\tcomplete : 1,",e+="\t\tnodes : [",e+="\t\t\t{",e+='\t\t\t\tasi : "forebase.com",',e+='\t\t\t\tsid : "'+X+'",',e+="\t\t\t\thp : 1",e+="\t\t\t}",e+="\t\t]",e+="\t}",e+="};",e+="configObj.consentManagement = "+d+";",e+="pbjs.setConfig(configObj);",e+="pbjs.addAdUnits("+c+");",e+='insEvtHndr("beforeRequestBids");',e+='insEvtHndr("bidRequested");',e+='insEvtHndr("bidResponse");',e+='insEvtHndr("noBid");',e+='insEvtHndr("auctionDebug");',e+='insEvtHndr("tcf2Enforcement");',e+='insEvtHndr("bidTimeout");',e+="function insEvtHndr (evntID) {",e+="\tpbjs.onEvent(evntID, ",e+="\t\tfunction (data) {",e+="\t\t\tsendToMaster({ event : evntID, data : data});",e+="\t\t}",e+="\t);",e+="}",e+="pbjs.requestBids({",e+="\tbidsBackHandler : function (data) {",e+='\t\tsendToMaster({ event : "bidsBackHandler", data : data});',e+="\t}",e+="});",e+='localLog("Exiting que-function!");',e+="});",e+='sendToMaster({ event : "pingOUT", data : null });',e+="<\/script>"}function z(){function a(a){return a&&a.consentString&&a.gdprApplies&&a.vendorData&&a.vendorData.purpose&&a.vendorData.vendor?a:null}var b={gdpr:{cmpApi:"static",defaultGdprScope:!0,consentData:{getTCData:{gdprApplies:!1,tcString:"",purpose:{consents:{},legitimateInterests:{}},vendor:{consents:{},legitimateInterests:{}}}}}},c=a(F.nodemanager.getGdprData());if(null!==c){var d=b.gdpr.consentData.getTCData;d.gdprApplies=c.gdprApplies,d.tcString=c.consentString,d.purpose=c.vendorData.purpose,d.vendor=c.vendorData.vendor,g("/_s40 cnst_inf","_s10 avail")}else g("/_s08 cnst_inf","_s40 not_avail");return b}function A(a){var b=document.createElement("iframe");b.setAttribute("id",a.truckID),b.setAttribute("scrolling","no"),b.setAttribute("frameborder","0"),b.setAttribute("width",0),b.setAttribute("height",0),b.src="javascript:void(0)",document.body.appendChild(b);var c="<html>";return c+="<head>",c+=a.headScript,c+="</head>",c+="<body style='background:transparent; margin:0; '>",c+=a.bodyScript,c+="</body>",c+="</html>",c+="",b.contentWindow._fb_frm_cont=c,b.src='javascript:window["_fb_frm_cont"]',b}function B(){var a="";switch(Math.floor(4*Math.random())){case 0:a=F.tfcmgr.genXbidCmpSnp({cmpID:"MSNM_2021_JUL_7_XBID_01",pD:"DELV_PIXEL_CMP0",pV:"VIEW_PIXEL_CMP0",pC:"CLCK_PIXEL_CMP0"});break;case 1:a=F.tfcmgr.genXbidCmpSnp({cmpID:"MSNM_2021_JUL_7_XBID_02",pD:"DELV_PIXEL_CMP1",pV:"VIEW_PIXEL_CMP1",pC:"CLCK_PIXEL_CMP1"});break;case 2:a=F.tfcmgr.genXbidCmpSnp({cmpID:"CAMPAIGN_ID_SKIN_T",pD:"DELV_PIXEL_CMP2",pV:"VIEW_PIXEL_CMP2",pC:"CLCK_PIXEL_CMP2"});break;case 3:a=F.tfcmgr.genXbidCmpSnp({cmpID:"CAMPAIGN_ID_SKIN_H",pD:"DELV_PIXEL_CMP3",pV:"VIEW_PIXEL_CMP3",pC:"CLCK_PIXEL_CMP3"})}return a}var C=this,D=new b,E=a.master,F=a.comps,G=(a.cllBks,a.bootParams),H=!1,I=!1,J=Math.round(999*Math.random());c(),this.fireEvent=function(a,b){E.fireEvent(a,b)},g("","_s10 truck_inst");var K=a.pbModUrl;c(),g("/_s02 load_url",K),g("/_s03 pub_code/"+G.ctxId,G.publisher),window.addEventListener("message",m);var L=F.curMgr.getCurRates(),M=!1,N=0,O=(Date.now(),Date.now()),P=!1,Q=!0,R=[],S=[],T=[],U=[],V=[],W=Date.now(),X=a.sellerID,Y=a.truckIdx,Z="bbtrk_"+Y,$=l(a.requests),_=v($),aa=z();q(Y),h();var ba=i();if(null===ba)return f("","trk_frm_not_loaded"),void(P=!0);g("","_s10 truck_created"),g("/_s10 idx_dst_i",Y,{scl:"mediumtimes"}),g("/_s20 len_dst_n",a.requests.length,{scl:"mediumtimes"}),g("/_s30 tm_dst_s",(O-G.startTime)/1e3,{scl:"mediumtimes"}),C.getTruckIdx=function(){return Y},C.getTruckID=function(){return Z},C.isDone=function(){return P},C.remove=function(){null!==ba&&(j(ba),ba=null,_truckRemoved=!0,c(),g("","_s20 truck_rmvd"))}}}(0,textools),bb_root=function(a,b){return function(c){function d(a){p.logger.writex({msg:a,prefix:"bb_root",inst:w})}function e(a,b,c,d){p.trackhub.sendEvent(a,b,c,d)}function f(a,b,c){e("bdchn_h","/**ERRORS**"+a,b,c)}function g(a,b,c){e("bdchn_l","/_s10 module"+a,b,c)}function h(a,b,c){e("bdchn_l","/_s15 trucks"+a,b,c)}function i(a,b,c){e("bdchn_l","/_s20 shares/_s10 total"+b,""+c),e("bdchn_l","/_s20 shares"+l(a)+b,""+c)}function j(a,b,c,d){e("bdchn_l","/_s30 by_channel/*AllChannels*/_s05 gen"+b,c,d),"string"==typeof a?e("bdchn_l","/_s30 by_channel/"+a+"/_s05 gen"+b,c,d):a.forEach(function(a){e("bdchn_l","/_s30 by_channel/"+a+"/_s05 gen"+b,c,d)})}function k(a,b,c,d,f){e("bdchn_l","/_s30 by_channel/*AllChannels*/_s10 total"+c,d,f),e("bdchn_l","/_s30 by_channel/"+a+"/_s10 total"+c,d,f),e("bdchn_l","/_s30 by_channel/*AllChannels*"+l(b)+c,d,f),e("bdchn_l","/_s30 by_channel/"+a+l(b)+c,d,f)}function l(a){switch(a){case"dsp":return"/_s20 dsp";case"vid":return"/_s30 vid";case"nat":return"/_s40 nat";case"cst":return"/_s50 cst";default:return"/_s50 xxx"}}function m(a){switch(B){case"INIT":B="RDY";case"RDY":if(0===y.length)break;if(a-z>u){B="NTRK";break}if(a-A>v){B="NTRK";break}break;case"NTRK":d(),D=n(),C++,z=0,B="WFFD";break;case"WFFD":if(!0!==D.isDone())break;D.remove(),D=null,B="RDY"}}function n(){function a(){function a(){return"A"===r.testCase?s:""===t?s:void 0===t?s:t}if("dev"===r.env)return g("/s10 pbver","dev"),"http://mkt.forebase.ch/prebid/versions/21_05_05b/prebid.js";var b="https:";!0!==r.secProt&&(b="http:");var c=a();return c===s?g("/s10 pbver","A"):g("/s10 pbver","B"),b+"//mkt.forebase.ch/plugin/fbpb/fbpb_"+c+".js"}for(var c=[];y.length>0;)c.push(y.shift());return new b({master:o,comps:p,cllBks:q,ecCllBks:x,bootParams:r,pbModUrl:a(),requests:c,truckIdx:C,sellerID:E})}var o=this,p=c.comps,q=c.cllBks,r=c.bootParams,s="20_11_10a",t="21_05_05b",u=3e3,v=500,w=Math.round(999*Math.random());d();var x={fireErrorPing:f,fireTrucksPing:h,fireModulePing:g,fireSummaryPing:i,firePingChannel:j,firePingChannelByMediaType:k},y=[],z=0,A=0,B="INIT",C=0,D=null,E=r.publisher,F=new a({master:o,comps:p,cllBks:q,ecCllBks:x,bootParams:r});o.fireEvent=function(a,b){switch(a){case"sendDebMail":return void p.mailmaster.sendObj(b)}p.exeControl.hcComm({event:a,data:b})},o.addReq=function(a){var b=Date.now(),c=F.procRequest(a);return"ok"!==c.status?{status:c.status,tagname:c.tagname,msg:c.msg}:(a.bidderCode=c.bidderInfo.bcode,y.push(a),d(),0===z&&(z=b),A=b,{status:"ok",fromcache:!1,bdChnID:a.bidderCode})},o.srcNotf=function(a,b){switch(a){case"bidrcvd":F.addOne(b.bdChnID,"bids"),k(b.bdChnID,b.mtype,"","_s40 bid_recvd",{res:"med"}),k(b.bdChnID,b.mtype,"/_s33 bid_prices",100*b.bidPrc,{scl:"mediumtimes",res:"med",exp:-5}),i(b.mtype,"/_s20 bids",b.bdChnID);break;case"bidwon":F.addOne(b.bdChnID,"wins"),k(b.bdChnID,b.mtype,"","_s50 bid_won",{res:"hi"}),k(b.bdChnID,b.mtype,"/_s34 win_prices",100*b.clPrc,{scl:"mediumtimes",res:"hi",exp:-5}),i(b.mtype,"/_s30 wins",b.bdChnID);break;case"bidlost":k(b.bdChnID,b.mtype,"/_s35 lost_prices",100*b.bidPrc,{scl:"mediumtimes",res:"med",exp:-5})}},o.tick=function(a){m(a)},p.heartH.subscribe(o.tick,"bb_root")}}(bb_bidders,bb_truck),fb_videop_caller=function(a,b){return function(a){function c(a){l.logger.writex({msg:a,prefix:"fb_videop_caller",inst:o})}function d(a,b,c){l.trackhub.sendEvent("vast_l","/_s80 caller_evts"+a,b,c)}function e(b,c,e){d(b,c,e),d("/zz_by_tag/"+a.tagName+b,c,e)}function f(a,b){function c(){if(!window.XMLHttpRequest)return null;var a=new window.XMLHttpRequest;return void 0===a.responseType?null:(a.onreadystatechange=function(){a.readyState===a.UNSENT||a.readyState===a.READYSTATE_UNINITIALIZED?o.initStatus=a.status:a.readyState===a.OPENED||a.readyState===a.READYSTATE_LOADING?o.openStatus=a.status:a.readyState===a.HEADERS_RECEIVED||a.readyState===a.READYSTATE_LOADED?(o.hdrRcvdStatus=a.status,void 0!==a.getAllResponseHeaders&&(o.respHdrs=a.getAllResponseHeaders()),o.respHdrs=o.respHdrs.replace(/\r\n/g," | ")):a.readyState!==a.DONE&&a.readyState!==a.READYSTATE_COMPLETE||(o.doneStatus=a.status,a.status>=200&&a.status<300||304===a.status?f():g("from_readyState: "+a.status))},a)}function d(){if(!window.XDomainRequest)return null;var a=new window.XDomainRequest;return a.onload=f,a.onerror=g,a.ontimeout=j,a}function e(){if(!window.ActiveXObject)return null;var a=new ActiveXObject("Microsoft.XMLHTTP");return a.onload=f,a.onerror=g,a.ontimeout=j,a}function f(){h(q,o)}function g(){i("er",q,o),Date.now()-l<n&&(u=!0)}function j(){i("to",q,o)}var k=!0;!0===b&&(k=!1);var l=Date.now(),o={isRetry:b,crd:k,initStatus:"---",openStatus:"---",hdrRcvdStatus:"---",doneStatus:"---",respHdrs:"---"},p="XHR",q=c();if(null===q&&(p="XDR",q=d()),null===q&&(p="AXO",q=e()),null===q)throw p="NA","cannot_create_xhr_obj";this.getAjxObjType=function(){return p},q.withCredentials=k,q.open(a.method,a.url),q.timeout=m,"POST"===a.method?q.send(a.data):q.send()}function g(){x=p.shift(),c(),x.status="inprogress";var a=Date.now();return x.reqdelay=a-x.reqtime,x.calltime=a,x.url}function h(a,b){x.response=""+a.responseText,x.calldelay=Date.now()-x.calltime,x.status="done",x.debugObj=b,y.push(JSON.parse(JSON.stringify(x))),t=!1,s=!1}function i(a,b,c){x.response="",x.calldelay=Date.now()-x.calltime,x.status="error"+("to"===a?" - (timeout)":""),x.debugObj=c,y.push(JSON.parse(JSON.stringify(x))),t=!0,s=!1}function j(a){function c(a){var b=Math.floor(a/1e3),c=a-1e3*b;return b=b<10?" "+b:""+b,c=0===c?"000":c<10?"00"+c:c<100?"0"+c:""+c,b+"."+c}var d=Date.now(),e=new b,f="";return y.forEach(function(a,b){if(f+="--------------------------------------------------------------\n",f+="Call Idx: "+b+"\n",f+="--------------------------------------------------------------\n\n",null===a)return void(f+="Variable 'callObj' is 'null'\n\n");var g=c(d-a.reqtime);f+="Request Internal Time:  "+g+"\n\n",f+="Tag Name:  "+a.tagName+"\n",f+="Requested URL:  "+a.url+"\n",f+="Pass:  "+a.pass+"\n",f+="Status:  "+a.status+"\n",f+="Request delay:  "+a.reqdelay+"\n",f+="Response delay:  "+a.calldelay+"\n\n",f+="Status Series:",f+=e.printObj(0,a.debugObj)+"\n\n",f+="Server response:\n\n"+a.response+"\n\n\n\n"}),f}var k=this,l=(a.master,a.comps),m=3e3,n=1e3,o=Math.round(999*Math.random());c();var p=[],q=null,r="INIT",s=!1,t=!1,u=!1,v=!1,w="",x=null,y=[];k.vastReq=function(a){var b={url:a.uri,onSuccess:a.onSuccess,onError:a.onError,tagName:a.tagName,timeout:a.timeout,pass:a.pass,status:"new",reqtime:Date.now(),reqdelay:null,calltime:null,calldelay:null,response:null};p.push(b),e("","_s00 requests")},k.vastReqAbort=function(a){},k.getDebugReport=function(a){return j(a)},this.tick=function(a){switch(r){case"INIT":r="IDLE";case"IDLE":if(0===p.length)break;w=g(),t=!1,u=!1,v=!1,s=!0;var b={method:"GET",url:w,data:null};q=new f(b,!1),r="WTRY1";break;case"WTRY1":if(!0===s)break;if(!0!==t){r="OK";break}if(!0!==u){r="ERR";break}t=!1,u=!1,v=!0,s=!0;var b={method:"GET",url:w,data:null};q=new f(b,!0),r="WTRY2";break;case"WTRY2":if(!0===s)break;if(!0===t){r="ERR";break}r="OK";case"OK":if(!0!==v?e("","_s10 reply ok"):e("","_s11 reply ok (2nd try)"),e("/reply_delay",x.calldelay,{scl:"shorttimes",res:"lo"}),void 0!==x.onSuccess&&null!==x.onSuccess){x.response;c();var d={text:x.response,pass:x.pass,tagName:x.tagName,calldelay:x.calldelay};x.onSuccess(d)}r="IDLE";break;case"ERR":if(e("","_s12 reply NOT ok"),void 0!==x.onError&&null!==x.onError){var d=(x.response,{text:x.response,pass:x.pass,tagName:x.tagName,calldelay:x.calldelay});x.onError(d)}r="IDLE"}}}}(0,textools),fb_videop_parse=function(a){return function(b){function c(a){k.logger.writex({msg:a,prefix:"fb_videop_parse",inst:l})}function d(a,b){k.logger.debugAlert(a,b)}function e(a,b){function e(a){var b=""+a;return b=b.replace(/\s+/g," "),b=b.replace(/\s\/>/g,"/>")}function j(a,b){for(var c,d,e,f=1e3,g=a,h=0;f>0&&(f--,!((c=g.indexOf("<![CDATA["))<0));){if((d=g.indexOf("]]>"))<0)throw{code:500,msg:"CDATA error",data:"CDATA"};d+=3;var i={};i.content=g.substring(c,d),i.id=h,e="STRIP<<("+h+")>>",g=g.replace(i.content,e),i.content=i.content.replace("<![CDATA[",""),i.content=i.content.replace("]]>",""),b.push(i),h++}return g}function k(a,b,c){var d,e;if(d=a,e=i(d,"VAST",c),"ok"!==e.status)throw{code:100,msg:"no valid VAST tag",data:d};if(!0===e.empty)return"noads";if(b.version=parseInt(g(e.tagStr,"version")),b.version<2)throw{code:110,msg:"unsupported VAST version",data:e.tagStr};if(d=e.tagContent,e=h(d,"Ad",c),d=e.rem,b.Ads=[],e.tags.length>0){for(var f=0;f<e.tags.length;f++){var j=e.tags[f];if(!0!==j.empty){var k={};l(j.tagStr,j.tagContent,k,c),b.Ads.push(k)}}return"ok"}return e=i(d,"Error",c),e.status,"noads"}function l(a,b,d,e){var f,h;if(c(),d.id=g(a,"id"),f=b,h=i(f,"InLine",e),"ok"===h.status)return d.InLine={},void m(h.tagStr,h.tagContent,d.InLine,e);if(h=i(f,"Wrapper",e),"ok"===h.status)return d.Wrapper={},void n(h.tagStr,h.tagContent,d.Wrapper,e);throw{code:130,msg:"no valid InLine or Wrapper tag",data:f}}function m(a,b,c,d){var e,j;if(e=b,c.Error={id:"NA",URI:""},j=i(e,"Error",d),"ok"===j.status&&(c.Error={},c.Error.id=g(j.tagStr,"id"),c.Error.URI=f(j.tagContent)),c.AdSystem={version:"NA",caption:"NA"},j=i(e,"AdSystem",d),"not_found"===j.status)throw{code:140,msg:"no valid AdSystem tag",data:e};if(c.AdSystem.version=g(j.tagStr,"version"),c.AdSystem.caption=j.tagContent,e=j.rem,c.AdTitle="NA",j=i(e,"AdTitle",d),"not_found"===j.status)throw{code:150,msg:"no valid AdTitle tag",data:e};if(c.AdTitle=j.tagContent,e=j.rem,c.Description="NA",j=i(e,"Description",d),"ok"===j.status&&(c.Description=j.tagContent),e=j.rem,c.Advertiser="NA",j=i(e,"Advertiser",d),"ok"===j.status&&(c.Advertiser=j.tagContent),e=j.rem,c.Impressions=[],j=h(e,"Impression",d),e=j.rem,"ok"===j.status)for(var k=0;k<j.tags.length;k++){var l=j.tags[k];if(!0!==l.empty){var m={};m.id=g(l.tagStr,"id"),m.URI=f(l.tagContent),c.Impressions.push(m)}}if(c.Creatives=[],j=i(e,"Creatives",d),"ok"!==j.status)throw{code:170,msg:"no valid Creatives tag",data:e};if(e=j.tagContent,j=h(e,"Creative",d),e=j.rem,0===j.tags.length)throw{code:172,msg:"no valid Creative tags found",data:e};for(var k=0;k<j.tags.length;k++){var l=j.tags[k];if(!0!==l.empty){var n={};!0===o(l.tagStr,l.tagContent,n,!0,d)&&c.Creatives.push(n)}}}function n(a,b,c,d){var e,j;if(e=b,c.Error={id:"NA",URI:""},j=i(e,"Error",d),"ok"===j.status&&!0!==j.empty&&(c.Error.id=g(j.tagStr,"id"),c.Error.URI=f(j.tagContent)),e=j.rem,j=i(e,"VASTAdTagURI",d),"ok"===j.status&&!0!==j.empty)c.VASTAdTagURI=f(j.tagContent),e=j.rem;else{if(j=i(e,"Error",d),"ok"!==j.status||!0===j.empty)throw{code:180,msg:"no valid VASTAdTagURI tag",data:e};c.ErrorURI=f(j.tagContent),e=j.rem}if(c.AdSystem={version:"NA",caption:"NA"},j=i(e,"AdSystem",d),"not_found"===j.status)throw{code:190,msg:"no valid AdSystem tag",data:e};if(c.AdSystem.version=g(j.tagStr,"version"),c.AdSystem.caption=j.tagContent,e=j.rem,c.Impressions=[],j=h(e,"Impression",d),e=j.rem,"ok"===j.status)for(var k=0;k<j.tags.length;k++){var l=j.tags[k];if(!0!==l.empty){var m={};m.id=g(l.tagStr,"id"),m.URI=f(l.tagContent),c.Impressions.push(m)}}if(c.Creatives=[],j=i(e,"Creatives",d),e=j.rem,"ok"===j.status){e=j.tagContent,j=h(e,"Creative",d),e=j.rem;for(var k=0;k<j.tags.length;k++){var l=j.tags[k];if(!0!==l.empty){var n={};!0===o(l.tagStr,l.tagContent,n,!1,d)&&c.Creatives.push(n)}}}}function o(a,b,d,e,f){var h,j;if(h=b,d.id=g(a,"id"),d.sequence=g(a,"sequence"),d.Linear={},j=i(h,"Linear",f),"ok"===j.status&&!0!==j.empty)return p(j.tagStr,j.tagContent,d.Linear,e,f),!0;if(j=i(h,"CompanionAds",f),"ok"===j.status)return c(),!1;if(j=i(h,"NonLinearAds",f),"ok"===j.status)return c(),!1;throw{code:200,msg:"parse_error while processing creative format",data:h}}function p(a,b,c,d,e){var j,k;if(j=b,!0===d){if(c.AdParameters="",k=i(j,"AdParameters",e),"ok"===k.status&&!0!==k.empty&&(c.AdParameters=k.tagContent),c.Duration="00:00:00",k=i(j,"Duration",e),j=k.rem,"not_found"===k.status||!0===k.empty)throw{code:210,msg:"no valid Duration tag",data:j};if(c.Duration=k.tagContent,c.MediaFiles=[],k=i(j,"MediaFiles",e),j=k.rem,"ok"!==k.status||!0===k.empty)throw{code:212,msg:"no valid MediaFiles tag",data:j};j=k.tagContent,k=h(j,"MediaFile",e),j=k.rem;for(var l=0;l<k.tags.length;l++){var m=k.tags[l];if(!0!==m.empty){var n={};q(m.tagStr,m.tagContent,n,e),c.MediaFiles.push(n)}}}if(j=b,c.TrackingEvents=[],k=i(j,"TrackingEvents",e),j=k.rem,"ok"===k.status&&!0!==k.empty){j=k.tagContent,k=h(j,"Tracking",e),j=k.rem;for(var l=0;l<k.tags.length;l++){var m=k.tags[l];if(!0!==m.empty){var n={};r(m.tagStr,m.tagContent,n,e),c.TrackingEvents.push(n)}}}j=b,c.VideoClicks={},k=i(j,"VideoClicks",e),j=k.rem,"ok"===k.status&&!0!==k.empty&&(j=k.tagContent,k=i(j,"ClickThrough",e),j=k.rem,"ok"===k.status&&!0!==k.empty&&(c.VideoClicks.ClickThrough={},c.VideoClicks.ClickThrough.id=g(k.tagStr,"id"),c.VideoClicks.ClickThrough.URI=f(k.tagContent)),k=i(j,"ClickTracking",e),j=k.rem,"ok"===k.status&&!0!==k.empty&&(c.VideoClicks.ClickTracking={},c.VideoClicks.ClickTracking.id=g(k.tagStr,"id"),c.VideoClicks.ClickTracking.URI=f(k.tagContent)),k=i(j,"CustomClick",e),j=k.rem,"ok"===k.status&&!0!==k.empty&&(c.VideoClicks.CustomClick={},c.VideoClicks.CustomClick.id=g(k.tagStr,"id"),c.VideoClicks.CustomClick.URI=f(k.tagContent)))}function q(a,b,c,d){c.id=g(a,"id"),c.delivery=g(a,"delivery"),c.type=g(a,"type"),c.bitrate=g(a,"bitrate"),c.minBitrate=g(a,"minBitrate"),c.maxBitrate=g(a,"maxBitrate"),c.width=g(a,"width"),c.height=g(a,"height"),c.scalable=g(a,"scalable"),c.maintainAspectRatio=g(a,"maintainAspectRatio"),c.codec=g(a,"codec"),c.apiFramework=g(a,"apiFramework"),c.URI=f(b),c.vpaid=!1,c.apiFramework&&"vpaid"===c.apiFramework.toLowerCase()&&(c.vpaid=!0)}function r(a,b,c,d){c.eventName=g(a,"event"),c.eventId=null,c.eventUri=f(b),c.eventParam=g(a,"offset")}var s={status:"ok",code:"",msg:""},t=[];try{if("noads"==k(j(e(a),t),b,t))return s.status="noads",s.code=0,s.msg="no ads available in VAST response",s}catch(a){s.status="error",s.code=a.code,s.msg=a.msg,d("VAST Player Exception: PARSE",a)}return s}function f(a){return m.convHTMLEnts(a)}function g(a,b){var c=""+a,d=c.indexOf(b);if(d<0)return null;if(d+=b.length,"="!==c.charAt(d))return null;d++;var e=c.charAt(d);d++,c=c.substring(d);var f=c.indexOf(e);return f<0?null:c=c.substring(0,f)}function h(a,b,c){for(var d={tags:[],rem:a,status:"ok"},e=""+a,f=null,g=100,h=0,j=0;;){if(++h>=g){d.status="error";break}if(f=i(e,b,c),e=f.rem,"ok"!==f.status){if("not_found"===f.status)break;d.status="error";break}d.tags.push(f),j++}return 0===j&&(d.status="not_found"),d.rem=e,d}function i(a,b,c){function d(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(d.id===a)return d.content}throw{code:580,msg:"STRIP error",data:"unknown_strip_idx"}}var e,f,g,h,i,j,k,l,m={tagStr:"",tagContent:"",rem:"",status:"---",empty:!1},n=""+a,o="<"+b,p="</"+b+">",q="/>";if(m.rem=a,n.indexOf(o+q)>=0)return m.rem=a.replace(o+q,""),m.tagContent="",m.status="ok",m.empty=!0,m;if((j=n.indexOf(o))<0)return m.status="not_found",m;n=n.substring(j);var r=!1;if(">"===n.charAt(o.length)&&(r=!0)," "===n.charAt(o.length)&&(r=!0),!0!==r)return m.status="not_found",m;if((k=n.indexOf(p))<0)throw{code:520,msg:"no closure tag found",data:b};if(k+=p.length,e=n.substring(0,k),m.rem=a.replace(e,""),f=""+e,(j=n.indexOf(o))<0)throw{code:540,msg:"head error",data:b};l=f.indexOf(">"),l+=1,f=f.substring(j,l),g=e.replace(f,""),k=g.indexOf(p),g=g.substring(k),i=e.replace(f,""),i=i.replace(g,""),m.tagContent=i,h=""+f,j=h.indexOf(o),j+=o.length,h=h.substring(j),l=h.indexOf(">"),h=h.substring(0,l),m.tagStr=h,i=i.replace(/(\r\n|\n|\r)/gm,""),i=i.replace(/\s+/g,"");var s=i.indexOf("STRIP<<(");if(0===s){var t=i.indexOf(")>>");if(t<0)throw{code:560,msg:"STRIP error",data:"STRIP"};t+=3;var u=i.substring(s,t);t-=3,s+=8;var v=parseInt(i.substring(s,t)),w=d(v,c);w=w.replace(/\\\//g,"/"),m.tagContent=i.replace(u,w)}return m.status="ok",m}var j=this,k=(b.master,b.comps),l=Math.round(999*Math.random());c();var m=new a;j.procData=function(a,b){return e(a,b)}}}(textools),fb_videop_proc=function(a,b){return function(c){function d(a){A.logger.writex({msg:a,prefix:"fb_videop_proc",inst:B})}function e(a,b){A.logger.debugAlert(a,b)}function f(a,b,c){A.trackhub.sendEvent("vast_l","/_s30 proc_evts"+a,b,c)}function g(a,b,d){f(a,b,d),f("/zz_by_tag/"+c.tagName+a,b,d)}function h(a,b){var c="";void 0!==b&&(c=b);var d={fileURL:a,fileData:c,vastCard:{}};N.unshift(d),S=a,U=a.substring(0,200)+"...",null===T&&(T=a)}function i(a){function e(a){function e(a){g("/_s10 offered_media","*inst*");for(var b in a){a[b];g("/_s10 offered_media",b)}}function f(a){var b="",c=!0;for(var d in a)!0===c?c=!1:b+=" | ",b+=d;return b}var i;switch(K){case"INIT":if(!0===y(G)){h("XML input file",G),K="VRDY";break}var j={playerWidth:c.playerWidth,playerHeight:c.playerHeight};h(A.macroproc.expand(G,j)),d(),g("","_s00 *inst*"),v("proc_started",{tagUri:U}),R={status:"undef",code:"",msg:""},K="GET_FILE";case"GET_FILE":J="...",s(M,S,H),d(),L=a,K="WAITING_FOR_FILE";break;case"WAITING_FOR_FILE":if(a-L>E.media.vastFileTimeout){d();E.media.vastFileTimeout;g("","_s30 proc_error"),g("/_s30 proc_errors","timeout"),g("/_s40 timeout_errors",H),v("server_timeout"),t("server_timeout"),R.msg="file_retrieval_timeout",R.status="error",R.code=1,K="VAST_NOT_OK";break}if("error"===J){d(),g("","_s30 proc_error"),g("/_s30 proc_errors","file_retrv"),v("error_file_retrv"),t("error_file_retrv"),R.msg="file_retrieval_error",R.status="error",R.code=2,K="VAST_NOT_OK";break}if("ok"!==J)break;d(),v("vast_data_arrived",{tagUri:U}),K="VRDY";case"VRDY":if(i=new b({master:z,comps:A}).procData(N[0].fileData,N[0].vastCard),"error"===i.status){var k="parse_error - "+i.msg;d(),g("","_s30 proc_error"),g("/_s30 proc_errors","parse"),g("/_s60 parse_errors",i.msg),v("error_parsing_response"),R.msg=k,R.status="error",R.code="parse_"+i.code,K="VAST_NOT_OK";break}V=N[0].fileData,W=N[0].vastCard;var r=l(W,P);Z+=r;var u=m(W);$=$.concat($,u);var w=n(W);if(null!==w){if(_.push(w),null===X&&(X=w.Wrapper.AdSystem.caption),++M<=E.media.maxRedirect){d(),g("/_s80 redir_levels",M),v("wrapper_redir",{data:w.Wrapper.VASTAdTagURI}),h(w.Wrapper.VASTAdTagURI),K="GET_FILE";break}d(),g("","_s30 proc_error"),g("/_s30 proc_errors","max_redir"),R.msg="too_many_redirects",R.status="error",R.code=3,K="VAST_NOT_OK";break}if(0===Z){d(),g("","_s11 no_ads"),R.msg="",R.status="no_ads",R.code=4,I=!1,K="PARK";break}if(g("","_s10 yes_ads"),e(P),0===$.length){d(),g("/_s20 non_usable_media",f(P)),g("","_s21 no_usable_ads"),R.msg="",R.status="no_usable_ads",R.code=5,K="VAST_NOT_OK";break}Q=o($,C,D),p(_),q(Q),v("usable_ads",{bestAdAvailable:Q}),d(),g("","_s20 usable_ads"),R.msg="",R.status="usable_ads",R.code=6,I=!1,K="PARK";break;case"VAST_NOT_OK":d(),I=!1,K="PARK"}}try{e(a)}catch(a){var f=a.message;g("/_s30 proc_errors","tick"),u("mainproc",a),R.msg="process error:"+f,R.status="error",R.code=7,I=!1}}function j(a){var b=null;return Y.forEach(function(c){!0===c.supp&&null===b&&-1!==c.mimetype.indexOf(a)&&(b=c)}),null===b?null:b.vastdrv}function k(){var a=document.createElement("video");Y.forEach(function(b){if("html5"===b.vastdrv){0===a.canPlayType(b.mimetype).length&&(b.supp=!1)}})}function l(a,b){function c(a,b){void 0===b[a]&&(b[a]={count:0}),b[a].count++}var d=0;return a.Ads.forEach(function(a){if(void 0!==a.InLine){d++;a.InLine.Creatives.forEach(function(a){a.Linear.MediaFiles.forEach(function(a){c(a.type,b)})})}}),d}function m(a){function b(a){if(void 0===a.Linear)return!1;var b=JSON.parse(JSON.stringify(a));b.Linear.MediaFiles=[];var c=b.Linear.MediaFiles;return a.Linear.MediaFiles.forEach(function(a){null!==j(a.type)&&c.push(a)}),c.length<1?null:b}var c=[];a.Ads.forEach(function(a){void 0!==a.InLine&&c.push(a)});var d=[];return c.forEach(function(a){var c=JSON.parse(JSON.stringify(a));c.InLine.Creatives=[];var e=c.InLine.Creatives;a.InLine.Creatives.forEach(function(a){var c=b(a);null!==c&&e.push(c)}),e.length<1||d.push(c)}),d}function n(a){var b=[];if(a.Ads.forEach(function(a){void 0!==a.Wrapper&&b.push(a)}),0===b.length)return null;var c=b[0],d=JSON.parse(JSON.stringify(c));d.Wrapper.Creatives=[];var e=d.Wrapper.Creatives;return c.Wrapper.Creatives.forEach(function(a){void 0!==a.Linear&&e.push(a)}),d}function o(a,b,c){function d(a){var b=[],c=[];return a.forEach(function(a){if(a.mediacase=j(a.type),"vpaid"===a.mediacase)b.push(a);else{if("html5"!==a.mediacase)throw{msg:"unkown media case"};c.push(a)}}),c.length>=b.length?{mediacase:"html5",mediaFiles:c}:{mediacase:"vpaid",mediaFiles:[b[0]]}}function e(a,b,c){function d(a,b){var c=null;if(a.forEach(function(a){null===c&&a.width===b.width&&a.height===b.height&&(c=a)}),null!==c)return void c.mediaFiles.push(b);var d={width:b.width,height:b.height,mediaFiles:[b]};a.push(d)}function e(a,b,c){var d=parseInt(a.width)*parseInt(a.height),e=parseInt(b)*parseInt(c);return Math.abs(Math.log(d/e))}var f=[];a.forEach(function(a){d(f,a)}),f.forEach(function(a){a.score=e(a,b,c)}),f.sort(function(a,b){return a.score-b.score});var g=f[0];return{width:parseInt(g.width),height:parseInt(g.height),mediaFiles:g.mediaFiles}}function f(a){function b(a){var b=10;return void 0!==a.bitrate&&null!==a.bitrate&&(b=Math.exp(parseInt(a.bitrate)/1024)),b}if(a.length<1)return 0;var c=0;return a.forEach(function(a){a.score=b(a),c+=a.score}),c/a.length}return a.forEach(function(a){var g=a.InLine.Creatives;g.forEach(function(a){var g=d(a.Linear.MediaFiles);a.mediacase=g.mediacase,a.Linear.MediaFiles=g.mediaFiles;var g=e(a.Linear.MediaFiles,b,c);a.sizecase={width:g.width,height:g.height},a.Linear.MediaFiles=g.mediaFiles,a.score=f(a.Linear.MediaFiles,b,c)}),g.sort(function(a,b){return a.score-b.score});var h=g[0];a.InLine.Creatives=[],a.InLine.Creatives.push(h)}),a.sort(function(a,b){return a.InLine.Creatives[0].score-b.InLine.Creatives[0].score}),a[0]}function p(a){a.forEach(function(a){var b=a.Wrapper;"Error"in b&&r("Error",b.Error.id,b.Error.URI),"Impressions"in b&&b.Impressions.forEach(function(a){r("Impression",a.id,a.URI)}),"Creatives"in b&&b.Creatives.forEach(function(a){if("Linear"in a){var b=a.Linear;if("TrackingEvents"in b&&b.TrackingEvents.forEach(function(a){r(a.eventName,a.eventId,a.eventUri,a.eventParam)}),"VideoClicks"in b){var c=b.VideoClicks;"ClickTracking"in c&&r("ClickTracking",c.ClickTracking.id,c.ClickTracking.URI),"CustomClick"in c&&r("CustomClick",c.CustomClick.id,c.CustomClick.URI)}}})})}function q(a){var b=a.InLine;"Error"in b&&r("Error",b.Error.id,b.Error.URI),"Impressions"in b&&b.Impressions.forEach(function(a){r("Impression",a.id,a.URI)});var c=b.Creatives[0].Linear;if("TrackingEvents"in c&&c.TrackingEvents.forEach(function(a){r(a.eventName,a.eventId,a.eventUri,a.eventParam)}),"VideoClicks"in c){var d=c.VideoClicks;"ClickTracking"in d&&r("ClickTracking",d.ClickTracking.id,d.ClickTracking.URI),"CustomClick"in d&&r("CustomClick",d.CustomClick.id,d.CustomClick.URI)}}function r(a,b,c,e){d();var f={eventName:a,eventId:b,eventUri:c,eventParam:e};O.push(f)}function s(a,b,c){function d(a){N[0].fileData=a.text,N[0].callDelay=a.callDelay,J="ok"}function e(a){N[0].fileData=a.text,N[0].callDelay=a.callDelay,J="error"}var f=Math.floor(.9*E.media.vastFileTimeout),g={pass:a,uri:b,timeout:f,tagName:c,onSuccess:d,onError:e};F.vastReq(g)}function t(a){F.vastReqAbort(a)}function u(a,b){var c={who:"proc",event:"exception",data:{where:a,errObj:b,otherData:{_curState:K}}};z.fireEvent("snapshot",c),e("VAST Player Exception: "+a,b)}function v(a,b){var c={who:"proc",event:a,data:b};z.fireEvent("snapshot",c)}function w(b){function c(a){var b="",c=0;return N.forEach(function(e,f){b+="-------------- PASS % "+f+"--------------\n",b+="fileURL: "+e.fileURL+"\n\n\n\n",b+="fileData: "+e.fileData+"\n\n\n\n",c=0,b+="vastCard:\n",b+=d.printObj(c,e.vastCard,a)+"\n\n\n"}),b}var d=new a,e=""
;return e+="================ PASS LIST ================\n\n",e+=c(b)}function x(b){var c=new a,d=0,e="",f={_inProgress:I,_fileStatus:J,_curState:K,_anchorTime:L,_passIdx:M,_retObj:R};return d=0,e+="specObject:\n",e+=c.printObj(d,f,b)+"\n\n\n",d=0,e+="_chosenInLineAdData:\n",e+=c.printObj(d,Q,b)+"\n\n\n",d=0,e+="_trackList:\n",e+=c.printObj(d,O,b)+"\n\n\n"}function y(a){function b(a){var b=""+a.toLowerCase();return b=b.replace(/\s+/g," "),b=b.replace(/\s\/>/g,"/>")}var c,d,e,f,g,h=b(a),i="<vast",j="</vast>",k="/>";if(h.indexOf(i+k)>=0)return!0;if((e=h.indexOf(i))<0)return!1;h=h.substring(e);var l=!1;return">"===h.charAt(i.length)&&(l=!0)," "===h.charAt(i.length)&&(l=!0),!0===l&&(!((f=h.indexOf(j))<0)&&(f+=j.length,c=h.substring(0,f),d=""+c,!((e=h.indexOf(i))<0)&&(g=d.indexOf(">"),g+=1,d=d.substring(e,g),!0)))}var z=this,A=(c.master,c.comps),B=Math.round(999*Math.random());d(),z.fireEvent=function(a,b){c.master.fireEvent(a,b)};var C=c.playerWidth,D=c.playerHeight,E=c.opConfig,F=c.vastCaller,G=c.tagSnippet,H=c.tagName,I=!0,J=null,K="INIT",L=null,M=0,N=[],O=[],P={},Q=null,R={},S=null,T=null,U=null,V="",W={},X=null,Y=[{supp:!0,vastdrv:"html5",mimetype:"video/mp4",ext:"mp4"},{supp:!0,vastdrv:"html5",mimetype:"video/ogg",ext:"ogg"},{supp:!0,vastdrv:"html5",mimetype:"video/ogv",ext:"ogv"},{supp:!0,vastdrv:"html5",mimetype:"video/webm",ext:"webm"},{supp:!0,vastdrv:"html5",mimetype:"video/x-ms-wmv",ext:"wmv"},{supp:!0,vastdrv:"vpaid",mimetype:"application/javascript",ext:"js"}];k();var Z=0,$=[],_=[];z.isReady=function(){return!0!==I},z.getDebugReportA=function(a){return w(a)},z.getDebugReportB=function(a){return x(a)},z.getResult=function(){var a={retObj:R,passIdx:M,vastXMLuri:S,passXMLData:V,passVastCard:W,orgVastFileURL:T,adId:"NA",adWrapper:"NA",adSystem:"NA",adSystemVer:"NA",adTitle:"NA",adDesc:"NA",adMediaCase:"NA",adDuration:"00:00:00",adParameters:"",adSizeWidth:"NA",adSizeHeight:"NA",adFileList:[],adTrackList:[],adClickUrl:""};if(null!==Q){var b=Q.InLine,c=b.Creatives[0];a.adId=Q.id,a.adWrapper=X,a.adSystem=b.AdSystem.caption,a.adSystemVer=b.AdSystem.version,a.adTitle=b.AdTitle,a.adDesc=b.Description,a.adMediaCase=c.mediacase,a.adApiFramework=c.apiFramework,a.adDuration=c.Linear.Duration,a.adParameters=c.Linear.AdParameters,a.adSizeWidth=c.sizecase.width,a.adSizeHeight=c.sizecase.height,a.adFileList=c.Linear.MediaFiles,a.adTrackList=O,void 0!==c.Linear.VideoClicks&&void 0!==c.Linear.VideoClicks.ClickThrough&&(a.adClickUrl=c.Linear.VideoClicks.ClickThrough.URI)}return a},z.tick=function(a){i(a),null!==F&&F.tick(a)}}}(textools,fb_videop_parse),fb_videop_tracker=function(a){function b(a){e.logger.writex({msg:a,prefix:"fb_videop_tracker",inst:f})}function c(a){function c(a){(new Image).src=a.eventUri,b()}function d(a){for(var b=0;b<k.length;b++){if(k[b]===a)return!0}return!1}if(b(),!0===d(a))return void b();k.push(a);for(var e=0,f=0;f<i.length;f++){var g=i[f];g.eventName===a&&(c(g),e++)}0===e&&b()}var d=this,e=(a.master,a.comps),f=Math.round(999*Math.random());b();var g=!1,h=!1,i=null,j=[],k=[];d.addCustomTrack=function(a,c,d,e){b();var f={eventName:a,eventId:c,eventUri:d,eventParam:e};b(),i.push(f)},d.registerEvent=function(a,c,d){b();var e={perc:a,trackEvent:c,fbEvent:"",fired:!1};d&&(e.fbEvent=d),j.push(e)},d.setup=function(a){function b(a){return-1!==a.indexOf("%")?(a.replace("%",""),parseInt(a)):null}i=a,j=[];for(var c=0;c<i.length;c++){var e=i[c];if("progress"===e.eventName)var f=b(e.eventParam);null!==f&&void 0!==f&&d.registerEvent(f,e.eventName)}},d.start=function(){g=!0},d.pause=function(a){c(a?"pause":"resume")},this.rewind=function(){h=!0},d.mute=function(a){c(a?"mute":"unmute")},d.close=function(){c("close")},d.skip=function(){c("skip")},d.expand=function(){c("expand")},d.collapse=function(){c("collapse")},d.click=function(){c("ClickTracking"),c("CustomClick")},d.error=function(){c("Error")},d.sendVASTEvent=function(a,d){b(),c(a)},d.sendVASTClickEvent=function(){b(),d.click()},d.tickPlay=function(a,b){function d(a){for(var b=0;b<j.length;b++){var c=j[b];if(!(c.perc<0)&&(!0!==c.fired&&!(c.perc>a)))return c.fired=!0,c}return null}if(!0===g&&!0!==isNaN(a)&&!0!==isNaN(b)){if(!0===h)return h=!1,void c("rewind");var e=Math.floor(100*a/b),f=d(e);null!==f&&c(f.trackEvent)}}},fb_videop_html=function(a){function b(a){m.logger.writex({msg:a,prefix:"fb_videop_html",inst:o})}function c(a,b){m.logger.debugAlert(a,b)}function d(a,b,c){m.trackhub.sendEvent("vast_h","/_s50 html_evts"+a,b,c)}function e(b,c,e){d(b,c,e),d("/zz_by_tag/"+a.tagName+b,c,e)}function f(a,c,d){function f(){C=!0}function g(){e("","_s11 <-- metadata_loaded")}function j(){B=!0,h("AdLoaded"),e("","_s13 <-- can_play"),e("","_s14 <-- ad_loaded"),e("/times/ad_loaded",Date.now()-q,{scl:"shorttimes",res:"lo"})}function k(){}function m(){e("","_s12 <-- media_loaded")}function o(){b(),h("AdSizeChange"),e("","_s17 <-- ad_resized")}function u(){if(h("AdPlaying"),e("","_s23 <-- ad_playing"),!0!==D){D=!0,h("AdStarted"),e("","_s21 <-- ad_started");e("/times/ad_start",Date.now()-r,{scl:"shorttimes",res:"lo"}),h("AdImpression"),e("","_s25 <-- ad_impression (accounting event)")}}function z(){E=!0,!0!==F&&(h("AdPaused"),e("","_s24 <-- ad_paused"))}function A(){v=!0,h("AdError"),e("","_s50 <-- ad_error");var a=L.error,c="NA",d="NA";null!==a?(void 0!==a.code&&(c=a.code),void 0!==a.message&&(d=a.message)):(c="null",d="null"),e("/errors","code: "+c+" - msg: "+d),b(),i("plyr_html","video_error_html",a)}function H(){G=!0,h("AdVolumeChange"),e("","_s60 <-- vol_change")}function I(){F=!0,b(),w=!0,e("","_s27 <-- ad_ended")}function J(){b(),l.AdClickThru(0,!0),e("","_s75 <-- ad_clicked")}var K="";K+=' <video id="'+t+'" ',K+=' width="'+x+'" ',K+=' height="'+y+'" ',K+=' x-webkit-airplay="allow" webkit-playsinline="true" playsinline="" ',K+=" >",a.forEach(function(a,b){K+=' <source src="'+a.uri+'" type="'+a.type+'">'}),K+=" </video>",p.html(s,K),p.bind(s,"click",function(){b(),J()});var L=n.document.getElementById(t);return L.onloadstart=f,L.onloadedmetadata=g,L.oncanplay=j,L.oncanplaythrough=k,L.onloadeddata=m,L.onresize=o,L.onplaying=u,L.onpause=z,L.onerror=A,L.onended=I,L.volume=0,L.onvolumechange=H,L.style.objectFit="cover",b(),L}function g(){p.empty(s),b(),h("AdStopped"),e("","_s90 --\x3e remove")}function h(a,b){l.VPAID_notifyEvent(a,b)}function i(a,b,c){var d={who:a,event:b,data:{errorObj:c,videoOuterHTML:_videoSlot.outerHTML,videoInnerHTML:_videoSlot.innerHTML}};l.fireEvent("snapshot",d)}function j(a,b){function d(a,b){var c="Msg:"+b+" - ";void 0!==b.stack&&(c+="Stack:",c+=b.stack.toString()),e("/exceptions",c.substring(0,256))}v=!0,d(a,b);var f={_player_mediaend:w,_cmdWidth:x,_cmdHeight:y,_adUnitUri:z,_videoObjReady:B,_videoObjLoadStarted:C,_videoObjPlaying:D,_videoObjPaused:E,_videoObjStopping:F,_videoObjVolume:G},g={who:"plyr_html",event:"exception",data:{where:a,errObj:b,otherData:{_playEventsList:J,_debugStrings:u,contextData:f}}};l.fireEvent("snapshot",g),c("VAST Player Exception: HTML5: "+a,b)}var k=this,l=a.master,m=a.comps,n=a.hostWnd,o=Math.round(999*Math.random());b();var p=a.domtool,q=0,r=0,s=(a.main_wrapper_id,a.containerID),t="fbvp_3ujkf8Sbn",u=[],v=!1,w=!1,x=0,y=0,z=null,A=null,B=!1,C=!1,D=!1,E=!1,F=!1,G=!1,H="INIT",I=0,J=[{evName:"AdVideoStart",thresh:1,sent:!1},{evName:"AdVideoFirstQuartile",thresh:25,sent:!1},{evName:"AdVideoMidpoint",thresh:50,sent:!1},{evName:"AdVideoThirdQuartile",thresh:75,sent:!1},{evName:"AdVideoComplete",thresh:99,sent:!1},{evName:"dummyItem",thresh:200,sent:!1}];k.tick=function(){function a(a){for(var b=0;b<J.length;b++)auxEvent=J[b],!0!==auxEvent.sent&&(a<auxEvent.thresh||(h(auxEvent.evName),auxEvent.sent=!0,a>80&&(F=!0)))}switch(H){case"INIT":H="READY";break;case"READY":if(!0!==D)break;if(0===A.duration)break;a(Math.floor(100*A.currentTime/A.duration)),H="READY"}},k.isPlayerError=function(){return v},k.isMediaEnd=function(){return w},k.resizeAd=function(a,b){},k.setupEnvironment=function(a){try{z=a.adUnitUri,x=a.width,y=a.height,h("EnvReady"),e("","_s00 --\x3e setup_env"),e("","_s01 <-- env_ready")}catch(a){j("setupEnv",a)}},k.initAd=function(a,b,c,d,g,h){try{I=g.duration,A=f(g.fileList,a,b),e("","_s10 --\x3e init_ad"),q=Date.now()}catch(a){j("initAd",a)}},k.resizeAd=function(a,b,c){try{p.width(t,a),p.height(t,b),e("","_s16 --\x3e resize_ad")}catch(a){j("initAd",a)}},k.startAd=function(){try{A.play(),e("","_s20 --\x3e start_ad"),r=Date.now()}catch(a){j("startAd",a)}},k.pauseAd=function(){try{A.pause(),e("","_s22 --\x3e pause_ad")}catch(a){j("pauseAd",a)}},k.resumeAd=function(){try{A.play(),e("","_s28 --\x3e resume_ad")}catch(a){j("resumeAd",a)}},k.stopAd=function(){try{F=!0,g(),e("","_s29 --\x3e stop_ad")}catch(a){j("stopAd",a)}},k.skipAd=function(){try{h("AdSkipped"),k.stopAd(),e("","_s70 --\x3e skip_ad")}catch(a){j("skipAd",a)}},k.expandAd=function(){e("","_s72 --\x3e expand_ad")},k.collapseAd=function(){e("","_s74 --\x3e collapse_ad")},k.get_adLinear=function(){return!0},k.get_adExpanded=function(){return!0},k.get_adDuration=function(){try{return A.duration}catch(a){return j("get_adDuration",a),0}},k.get_adRemainingTime=function(){try{return A.duration-A.currentTime}catch(a){return j("get_adRemainingTime",a),0}},k.get_adVolume=function(){try{return A.volume}catch(a){return j("get_adVolume",a),0}},k.get_adUnitVersion=function(){return 1},k.set_adVolume=function(a){try{A.volume=a,b()}catch(a){j("set_adVolume",a)}},k.set_Position=function(a){try{A.currentTime=a}catch(a){j("set_Position",a)}}},fb_videop_vpaid=function(a){return function(a){function b(a){y.logger.writex({msg:a,prefix:"fb_videop_vpaid",inst:z})}function c(a,b){y.logger.debugAlert(a,b)}function d(a,b,c){y.trackhub.sendEvent("vast_h","/_s60 vpaid_evts"+a,b,c)}function e(b,c,e){d(b,c,e),d("/zz_by_tag/"+a.tagName+b,c,e)}function f(a,b){x.VPAID_notifyEvent(a,b)}function g(a){b()}function h(a){switch(X){case"NOT_INIT":if(!0!==Y)break;b(),V=n(),X="WFER";case"WFER":if(!0===da){X="ERROR";break}var c=o();if(null===c)break;T=c.videoAdLayerElm,U=c.videoAdSlotElm,U.addEventListener("playing",k("playing")),U.addEventListener("loadstart",k("loadstart")),U.addEventListener("progress",k("progress")),U.addEventListener("loadedmetadata",k("loadedmetadata")),U.addEventListener("canplay",k("canplay")),U.addEventListener("canplaythrough",k("canplaythrough")),U.addEventListener("loadeddata",k("loadeddata")),U.addEventListener("durationchange",k("durationchange")),U.addEventListener("error",j(U));var d=p();if(null===d)break;if(W=d,!0!==q()){da=!0,X="ERROR";break}var g=W.handshakeVersion("2.0");A=parseFloat(g);b(),r(),$=!0,f("EnvReady"),e("","_s11 <-- env ready"),e("/times/env_setup_delay",a-Z,{scl:"shorttimes",res:"lo"}),X="WFL";case"WFL":if(!0===da){X="ERROR";break}if(!0!==_)break;W.setAdVolume(ga),X="WFS";break;case"WFS":if(!0===da){X="ERROR";break}if(!0!==ba)break;e("/times/video_start_delay",a-ka,{scl:"shorttimes",res:"lo"}),X="RNG";case"RNG":if(s(a),!0===da){X="ERROR";break}if(!0!==fa)break;b(),t(),f("AdStopped"),X="PARK";break;case"ERROR":f("AdError"),X="PARK"}}function i(a){function c(a){var b=null;return ua.forEach(function(c){!0!==c.sent&&(c.time>a||(b=c,c.sent=!0))}),b}var d=c(a);null!==d&&(e("/surveillance/trsp_evts",d.time,{scl:"tbrtimes",res:"lo"}),b())}function j(a){var c=a.error;if(null!==c){var d="NA",f="NA";void 0!==c.code&&(d=c.code),void 0!==c.message&&(f=c.message),e("/surveillance/errors","code: "+d+" - msg: "+f),b(),u("plyr_vpaid","surv_vpaid_error",c)}}function k(a){return e("/surveillance/events",a),function(){l(a)}}function l(a){b(),!0===la&&!0!==da&&!0!==ma&&(ma=!0,b(),e("","_s21 <-- actv sensed"),e("/times/act_sens",Date.now()-ka,{scl:"shorttimes",res:"lo"}),la=!1)}function m(a){!0===la&&!0!==ma&&(a-ka<na||!0!==da&&(da=!0,b(),e("","_s22 <-- snapped out"),e("/times/act_sens","_zzz snapped out"),la=!1))}function n(){function a(a){var b="";b+="<html>",b+="<head>",b+="<style>",b+=" .fbVideoWrp { width:100%; height:100%; position:absolute; top:0; left:0; bottom:0; right:0; } ",b+="</style>",b+="<scr",b+="ipt>",b+="window.adJSLoaded = false;",b+="window.ldClbk = function () {",b+="window.adJSLoaded = true;",b+="};",b+="window.getElms = function () {",b+="return { ",b+="adJSLoaded : window.adJSLoaded, ",b+='videoAdLayerElm : document.getElementById("fbVideoAdWrapper"), ',b+='videoAdSlotElm : document.getElementById("fbVideoAdSlot") ',b+="};",b+="};",b+="</scr",b+="ipt>",b+="</head>",b+="<body onload=\"var scpt=document.createElement('scr",b+="ipt');",b+="scpt.src='"+a+"';",b+="scpt.addEventListener('load', function() { window.ldClbk(); });",b+='document.body.appendChild(scpt);" style="margin:0">',b+='<video id="fbVideoAdSlot" ',b+='x-webkit-airplay="allow" webkit-playsinline="true" playsinline="" preload="metadata" ',b+='style="width:100%; height:100%; object-fit:cover;" ',b+="></video>",b+='<div id="fbVideoAdWrapper" class="fbVideoWrp"></div>',b+="</body>",b+="</html>";var c={target_element:M,divClass:O,segmName:K,divID:N,segmentID:J,tagname:R,preScript:"",snippet:b,width:ha,height:ia};return I.insertFIF(c)}return a(ja)}function o(){if(null===V)return null;if(null===V.contentWindow)return null;if(void 0===V.contentWindow)return null;if(void 0===V.contentWindow.getElms)return null;var a=V.contentWindow.getElms();return!0!==a.adJSLoaded?null:{videoAdLayerElm:a.videoAdLayerElm,videoAdSlotElm:a.videoAdSlotElm}}function p(){if(null===V)return null;var a=V.contentWindow.getVPAIDAd;return"function"!=typeof a?null:a()}function q(){function a(a){"function"!=typeof W[a]&&(b=!1)}var b=!0;return a("handshakeVersion"),a("initAd"),a("startAd"),a("stopAd"),a("skipAd"),a("resizeAd"),a("pauseAd"),a("resumeAd"),a("expandAd"),a("collapseAd"),a("subscribe"),a("unsubscribe"),b}function r(){function a(a){return function(d){if(null===c[a])return void b();c[a](a,d)}}var c={AdLoaded:function(a,c){_=!0,f(a,c);var d=Date.now()-ka;!0===la?(la=!1,e("","_s23 <-- ad loaded (before actv sensed)"),e("/times/ad_loaded_bfr_actv",d,{scl:"shorttimes",res:"lo"}),b()):(e("","_s24 <-- ad loaded (after actv sensed)"),e("/times/ad_loaded_aft_actv",d,{scl:"shorttimes",res:"lo"}),b())},AdStarted:function(a,b){if(f(a,b),e("","_s31 <-- ad started"),0!==oa){e("/times/ad_start",Date.now()-oa,{scl:"shorttimes",res:"lo"})}else e("/times/ad_start","*sent_before_ad_start*")},AdImpression:function(a,c){e("","_s32 <-- ad impression (accounting event)"),b(),f(a,c)},AdVideoStart:function(a,c){ba=!0,e("","_s33 <-- video started"),b(),f(a,c)},AdPaused:function(a,c){b(),f(a,c)},AdPlaying:function(a,c){e("","_s34 <-- ad playing"),b(),f(a,c)},AdStopped:function(a,c){!0!==fa&&(fa=!0,e("","_s40 <-- ad stopped"),b(),f("AdStopped"))},AdError:function(a,c){da=!0,f(a,c);var d=Date.now()-ka;!0===la?(la=!1,e("","_s25 <-- ad error (before actv sensed)"),e("/times/ad_error_bfr_actv",d,{scl:"shorttimes",res:"lo"}),b()):(e("","_s26 <-- ad error (after actv sensed)"),e("/times/ad_error_aft_actv",d,{scl:"shorttimes",res:"lo"}),b()),!0!==aa?(e("","_s28 <-- ad error (before start)"),e("/times/ad_error_bfr_strt",d,{scl:"shorttimes",res:"lo"}),b()):(e("","_s38 <-- ad error (after start)"),e("/times/ad_error_aft_strt",d,{scl:"shorttimes",res:"lo"}),b()),u("plyr_vpaid","ad_error_vpaid",c),e("/ad_error_data/obj",""+c),e("/ad_error_data/outerHTML",U.outerHTML)},AdLog:function(a,c){e("","_s80 <-- ad log"),e("/ad_logs",""+c),b(),f(a,c)},AdClickThru:function(a,c){ca=!0,b(),f(a,c),b(),x.AdClickThru(0,!1),e("","_s75 <-- ad_clicked")},AdVideoFirstQuartile:function(a,c){e("","_s35 <-- q1"),b(),f(a,c)},AdVideoMidpoint:function(a,c){e("","_s35 <-- q2"),f(a,c),b()},AdVideoThirdQuartile:function(a,c){e("","_s35 <-- q3"),f(a,c),b()},AdVideoComplete:function(a,c){e("","_s35 <-- q4"),f(a,c),b()},AdDurationChange:function(a,c){A>=2&&(H=W.getAdDuration()),b()},AdUserClose:null,AdSizeChange:null,AdVolumeChange:null,AdRemainingTimeChange:null,AdInteraction:null,AdSkipped:null,AdLinearChange:null,AdExpandedChange:null,AdSkippableStateChange:null,AdUserAcceptInvitation:null,AdUserMinimize:null};try{for(var d in c)W.subscribe(a(d),d)}catch(a){v("regEventClbks",a,!1)}}function s(a){!0!==sa&&!0===ba&&(a-qa<1e3||(qa=a,0===pa?pa=U.currentTime:U.currentTime!==pa?(pa=U.currentTime,i(U.currentTime)):++ra>ta&&(sa=!0,da=!0,b(),e("","_s39 <-- transp error"),e("/times/transp_error",a-pa,{scl:"shorttimes",res:"lo"}))))}function t(){null!==I.getElmHandle(M)&&I.empty(M),b(),e("","_s60 <-- plyr rmvd")}function u(a,c,d){var e={who:a,event:c,data:{errorObj:d,videoOuterHTML:U.outerHTML,videoInnerHTML:U.innerHTML}};x.fireEvent("snapshot",e),b()}function v(a,b,d){function f(a,b){var c="Msg:"+b+" - ";void 0!==b.stack&&(c+="Stack:",c+=b.stack.toString()),e("/exceptions",c.substring(0,256))}!0===d&&(da=!0),f(a,b);var g={_segmentID:J,_segmName:K,_main_wrapper_id:L,_containerID:M,_wrapperDivID:N,_wrapperClass:O,_unitfbxID:P,_opConfig:Q,_currentState:X,_start_setup:Y,_player_ready:$,_player_error:da,_passbackDetected:ea,_player_mediaend:fa,_playerVolume:ga,_cmdWidth:ha,_cmdHeight:ia,_adUnitUri:ja},h={who:"plyr_vpaid",event:"exception",data:{where:a,errObj:b,otherData:{contextData:g,_adUnitUri:ja,_fileDataStr:S}}};x.fireEvent("snapshot",h),c("VAST Player Exception: VPAID: "+a,b)}var w=this,x=a.master,y=a.comps,z=Math.round(999*Math.random());b();var A,B,C,D,E,F,G,H,I=a.domtool,J=a.segmentID,K=a.segmName,L=a.main_wrapper_id,M=a.containerID,N=a.uniqueID,O="fb_tag_wrapper",P=a.unitfbxID,Q=a.opConfig,R=a.tagName,S=(a.nodeID,a.fileDataStr),T=null,U=null,V=null,W=void 0,X="NOT_INIT",Y=!1,Z=0,$=!1,_=!1,aa=!1,ba=!1,ca=!1,da=!1,ea=!1,fa=!1,ga=0,ha=0,ia=0,ja=null,ka=0,la=!1,ma=!1,na=6e3,oa=0,pa=0,qa=0,ra=0,sa=!1,ta=10,ua=[{time:0,sent:!1},{time:3,sent:!1},{time:6,sent:!1},{time:9,sent:!1},{time:12,sent:!1},{time:15,sent:!1},{time:18,sent:!1},{time:21,sent:!1},{time:24,sent:!1}];e("","_s00 inst"),w.isPlayerError=function(){return da},w.isMediaEnd=function(){return fa},w.setupEnvironment=function(a){try{ja=a.adUnitUri,ha=a.width,ia=a.height,b(),Y=!0,Z=Date.now(),e("","_s10 --\x3e setup env")}catch(a){v("setupEnv",a,!0)}},w.initAd=function(a,b,c,d,f){try{var h={slot:T,videoSlot:U};W.initAd(a,b,c,d,f,h),e("","_s20 --\x3e init ad"),ka=Date.now(),la=!0,ma=!1}catch(a){v("initAd",a,!0)}g("initAd")},w.startAd=function(){try{g("startAd"),W.startAd(),e("","_s30 --\x3e start ad"),oa=Date.now()}catch(a){v("startAd",a,!0)}},w.resizeAd=function(a,b,c){try{g("resizeAd",{width:a,height:b,viewMode:c}),W.resizeAd(a,b,c)}catch(a){v("resizeAd",a,!1)}},w.pauseAd=function(){try{g("pauseAd"),W.pauseAd()}catch(a){v("pauseAd",a,!1)}},w.resumeAd=function(){try{g("resumeAd"),W.resumeAd()}catch(a){v("resumeAd",a,!1)}},w.stopAd=function(){try{g("stopAd"),W.stopAd()}catch(a){v("stopAd",a,!1)}},w.skipAd=function(){try{g("skipAd"),W.skipAd()}catch(a){v("skipAd",a,!1)}},w.expandAd=function(){try{g("expandAd"),W.expandAd()}catch(a){v("expandAd",a,!1)}},w.collapseAd=function(){try{g("collapseAd"),W.collapseAd()}catch(a){v("collapseAd",a,!1)}},w.get_adLinear=function(){return B},w.get_adExpanded=function(){return C},w.get_adDuration=function(){return A<2?-1:H},w.get_adRemainingTime=function(){return D},w.get_adVolume=function(){return E},w.get_adWidth=function(){return A<2?-1:F},w.get_adHeight=function(){return A<2?-1:G},w.get_adUnitVersion=function(){return A},w.set_adVolume=function(a){ga=a,null!==W&&W.setAdVolume(ga),b()},w.set_Position=function(a){},w.tick=function(a){try{h(a),m(a)}catch(a){v("_setUpProc",a,!0)}},w.player_isReady=function(){return $},w.player_size=function(a,b){}}}(),fb_videop_exec=function(a,b,c,d){return function(e){function f(a){ca.logger.writex({msg:a,prefix:"fb_videop_exec",inst:fa})}function g(a,b,c){var d,f=a.length>0?a:"",g="/_s40 exec_evts";d=g+"/*All*"+f,ca.trackhub.sendEvent("vast_h",d,b,c),d=g+"/by_tag/"+e.tagName+f,ca.trackhub.sendEvent("vast_h",d,b,c),d=g+"/by_media_case/"+ga+f,ca.trackhub.sendEvent("vast_h",d,b,c),d=g+"/by_ad_system/"+ha+f,ca.trackhub.sendEvent("vast_h",d,b,c)}function h(a,b){aa.fireEvent(a,b)}function i(c){function d(a){function b(a,b,c,d,e){var f,g={newAdWidth:null,newAdHeight:null},h=a/b;return!0===e?(g.newAdWidth=c,g.newAdHeight=g.newAdWidth/h,f<=d?g:(g.newAdHeight=d,g.newAdWidth=g.newAdHeight*h,g)):(g.newAdWidth=a,g.newAdHeight=b,g.newAdWidth<=c&&g.newAdHeight<=d?g:g.newAdWidth>c&&(g.newAdWidth=c,g.newAdHeight=g.newAdWidth/h,f<=d)?g:(g.newAdHeight=d,g.newAdWidth=g.newAdHeight*h,g))}var c={effWidth:null,effHeight:null},d=!0;void 0!==a.scalable&&("false"!==a.scalable&&!1!==a.scalable||(d=!1));var e=!1;if(void 0!==a.maintain&&("true"!==a.maintain&&!0!==a.maintain||(e=!0)),!0===d){if(!0===e){var f=b(a.adVastWidth,a.adVastHeight,a.adStageWidth,a.adStageHeight,!0);return c.effWidth=Math.round(f.newAdWidth),c.effHeight=Math.round(f.newAdHeight),c}return c.effWidth=a.adStageWidth,c.effHeight=a.adStageHeight,c}var f=b(a.adVastWidth,a.adVastHeight,a.adStageWidth,a.adStageHeight,!1);return c.effWidth=Math.round(f.newAdWidth),c.effHeight=Math.round(f.newAdHeight),c}ma=c,$("inst"),g("","_s10 inst"),na=Date.now(),Ga.background="#000000",ra=!1,sa=!1,ta=!1,ua=!1,Ja.setup(c.adTrackList);var h={master:aa,comps:ca,hostWnd:da,domtool:e.domtool,opConfig:ja,secProt:e.secProt,passXMLData:c.passXMLData,main_wrapper_id:e.main_wrapper_id,containerID:e.containerID,segmentID:e.segmentID,segmName:e.segmName,tagName:e.tagName,unitfbxID:e.unitfbxID,uniqueID:e.uniqueID,dummy:0},i={adStageWidth:c.domWidth,adStageHeight:c.domHeight,adVastWidth:parseInt(c.adSizeWidth),adVastHeight:parseInt(c.adSizeHeight),scalable:!0,maintain:!1},j=d(i);if(Ga.width=j.effWidth,Ga.height=j.effHeight,Ba=_(c.adDuration),f(),"html5"===ma.adMediaCase){Ka=new a(h),l({cmd:"setupEnv",timeout:500,data:{width:Ga.width,height:Ga.height,adUnitUri:""}});var k={AdParameters:c.adParameters,duration:_(c.adDuration),fileList:[]};c.adFileList.forEach(function(a){var b={uri:a.URI,type:a.type};k.fileList.push(b)}),l({cmd:"initAd",timeout:15e3,data:{width:Ga.width,height:Ga.height,viewMode:"normal",desiredBitrate:Ha,creativeData:k}})}else if("vpaid"===ma.adMediaCase){var m=ma.adFileList[0],o=""+m.URI,o=o.replace("PLAYER_WIDTH",Ga.width),o=o.replace("PLAYER_HEIGHT",Ga.height);Ka=new b(h),l({cmd:"setupEnv",timeout:4e3,data:{width:Ga.width,height:Ga.height,adUnitUri:o}});var k={AdParameters:c.adParameters,orgVastURL:ma.orgVastFileURL};l({cmd:"initAd",timeout:6e3,data:{width:Ga.width,height:Ga.height,viewMode:"normal",desiredBitrate:Ha,creativeData:k}})}f(),Pa=!0,n()}function j(){return{setupEnv:{cpt:"_s00 setupEnv",hnd:o,ackEv:"EnvReady",exd:!1,akd:!1,to:1e3},initAd:{cpt:"_s01 initAd",hnd:p,ackEv:"AdLoaded",exd:!1,akd:!1,to:1e4},startAd:{cpt:"_s02 startAd",hnd:q,ackEv:"AdStarted",exd:!1,akd:!1,to:5e3},resizeAd:{cpt:"_s10 resizeAd",hnd:r,ackEv:"AdSizeChange",exd:!1,akd:!1,to:3e3},pauseAd:{cpt:"_s20 pauseAd",hnd:s,ackEv:"AdPaused",exd:!1,akd:!1,to:3e3},resumeAd:{cpt:"_s21 resumeAd",hnd:t,ackEv:"AdPlaying",exd:!1,akd:!1,to:3e3},stopAd:{cpt:"_s30 stopAd",hnd:u,ackEv:"AdStopped",exd:!1,akd:!1,to:3e3},skipAd:{cpt:"_s31 skipAd",hnd:v,ackEv:"AdSkipped",exd:!1,akd:!1,to:3e3},expandAd:{cpt:"_s40 expandAd",hnd:w,ackEv:"",exd:!1,akd:!1,to:3e3},collapseAd:{cpt:"_s41 collapseAd",hnd:x,ackEv:"",exd:!1,akd:!1,to:3e3},d:0}}function k(a){if(void 0===ia[a])throw{msg:"unknown command: '"+a};return ia[a]}function l(a,b){!0===b?La.push(a):La.unshift(a)}function m(a){function b(a){if(ra=!0,null!==a){var b=k(a.cmd);g("/cmd_loop_times/"+b.cpt,"_zzz snpd out"),$("plyr_snpd_out",b.ackEv)}f(),h("playerror",{segID:e.segmentID,tagname:e.tagName}),Ja.sendVASTEvent("error","AdError")}function c(a){if(ra=!0,null!==a){var b=k(a.cmd);g("/cmd_loop_times/"+b.cpt,"_zzz missing (to: "+a.timeout+" ms)"),$("exec_ackevent_missing",b.ackEv),f()}h("playerror",{segID:e.segmentID,tagname:e.tagName}),Ja.sendVASTEvent("error","AdError")}switch(Ma){case"INIT":Ma="READY";case"READY":if(!0===ra||!0===Ka.isPlayerError()){b(Na),Ma="PARK";break}if(null===Na)break;Ma="WACK";case"WACK":if(null===Na){Ma="READY";break}if(!0===ra||!0===Ka.isPlayerError()){b(Na),Ma="PARK";break}if(a-Na.timestamp>Na.timeout){c(Na),Ma="PARK";break}}}function n(){if(0===La.length)return void(Pa=!1);var a=La.pop(),b=k(a.cmd);void 0===a.timeout&&(a.timeout=b.to,"dev"===ea&&(a.timeout=15e3));var c=Date.now();if(Na=a,!0===b.exd)throw{msg:"inc_flow",code:"ehjSg73h5G"};b.hnd(c,a.data),b.exd=!0,a.timestamp=c,f()}function o(a,b){$("_setupEnv (--\x3e)",{cmdData:b}),ka=a,Ka.setupEnvironment(b),f(),g("","_s20 setup_env (--\x3e)")}function p(a,b){$("_initAd (--\x3e)",{cmdData:b}),la=a,Ka.initAd(b.width,b.height,b.viewMode,b.desiredBitrate,b.creativeData,b.environmentVars),f(),g("","_s30 init_ad (--\x3e)")}function q(a,b){$("_startAd (--\x3e)"),Ka.startAd(),f(),g("","_s40 start_ad (--\x3e)"),Da=0,Ea=0,Ja.start()}function r(a,b){$("_resizeAd (--\x3e)",{cmdData:b}),Ka.resizeAd(b.width,b.height,"normal"),f()}function s(a,b){$("_pauseAd (--\x3e)"),Ka.pauseAd(),f()}function t(a,b){$("_resumeAd (--\x3e)"),Ka.resumeAd(),f()}function u(a,b){$("_stopAd (--\x3e)"),Ka.stopAd(),f(),g("","_s60 stop_ad")}function v(a,b){$("_skipAd (--\x3e)"),Ka.skipAd(),f()}function w(a,b){$("_expandAd (--\x3e)")}function x(a,b){$("_collapseAd (--\x3e)")}function y(a,b){var c={EnvReady:z,AdLoaded:A,AdStarted:F,AdPaused:G,AdPlaying:H,AdStopped:I,AdSkipped:J,AdSizeChange:B,AdLinearChange:C,AdExpandedChange:D,AdRemainingTimeChange:E,AdVolumeChange:K,AdImpression:L,AdVideoStart:M,AdVideoFirstQuartile:N,AdVideoMidpoint:O,AdVideoThirdQuartile:P,AdVideoComplete:Q,AdInteraction:R,AdUserAcceptInvitation:S,AdUserMinimize:T,AdUserClose:U,AdLog:V,AdError:W,AdPassback:X,d:0};if(void 0!==c[a]&&(f(),c[a](b),null!==Na)){var d=k(Na.cmd);d.ackEv===a&&(g("/cmd_loop_times/"+d.cpt,Date.now()-Na.timestamp,{scl:"shorttimes"}),d.akd=!0,Na=null,n())}}function z(a){qa=!0,$("_EnvReady (<--)",{data:a}),g("","_s22 env_ready (<--)")}function A(a){ta=!0,!0===za&&Ka.get_adUnitVersion()>=2&&(Ga.width=Ka.get_adWidth(),Ga.height=Ka.get_adHeight()),$("_AdLoaded  (<--)",{data:a}),g("","_s32 ad_loaded (<--)")}function B(a){ya=!0,!0===za&&Ka.get_adUnitVersion()>=2&&(Ga.width=Ka.get_adWidth(),Ga.height=Ka.get_adHeight()),$("_AdSizeChange (<--)",{data:a}),g("","_s34 ad_size_change (<--)")}function C(a){$("_AdLinearChange (<--)",{data:a})}function D(a){$("_AdExpandedChange (<--)",{data:a})}function E(a){$("_AdRemainingTimeChange (<--)",{data:a})}function F(a){ua=!0,Ja.sendVASTEvent("creativeView","AdStarted"),h("adStarted"),$("adStarted (<--)",{data:a}),g("","_s42 ad_started (<--)")}function G(a){wa=!1,Ca>0&&(Ja.sendVASTEvent("pause","AdPaused"),Y("video_paused")),$("_AdPaused (<--)",{data:a}),g("","_s46 ad_paused (<--)"),h("adPaused")}function H(a){wa=!0,Ja.sendVASTEvent("resume","AdPlaying"),Y("video_resumed"),$("_AdPlaying (<--)",{data:a}),g("","_s44 ad_playing (<--)"),h("adPlaying")}function I(a){wa=!1,ta=!1,$("_AdStopped (<--)",{data:a}),g("","_s62 ad_stopped (<--)"),h("adStopped")}function J(a){Ja.sendVASTEvent("skip","AdSkipped"),Y("video_skipped"),$("_AdSkipped (<--)",{data:a}),h("adSkipped")}function K(a){xa=!0;var b=Ka.get_adVolume();b>.1?Oa<=.1&&(Ja.sendVASTEvent("unmute","AdVolumeChange"),Y("video_unmuted")):Oa>.1&&(Ja.sendVASTEvent("mute","AdVolumeChange"),Y("video_muted")),Oa=b}function L(a){Ja.sendVASTEvent("Impression","AdImpression"),Y("video_impression"),$("_AdImpression (<--)",{data:a}),g("","_s48 ad_impr (<--)"),h("adImpression")}function M(a){va=!0,Ja.sendVASTEvent("start","AdVideoStart"),Y("video_start"),$("_AdVideoStart (<--)",{data:a}),g("","_s50 video_start (<--)"),h("adVideoStart")}function N(a){Ja.sendVASTEvent("firstQuartile","AdVideoFirstQuartile"),Y("video_firstQuartile"),$("_AdVideoFirstQuartile (<--)",{data:a}),g("","_s52 q1 (<--)"),h("adQ1")}function O(a){Ja.sendVASTEvent("midpoint","AdVideoMidpoint"),Y("video_midpoint"),$("_AdVideoMidpoint (<--)",{data:a}),g("","_s54 q2 (<--)"),h("adQ2")}function P(a){Ja.sendVASTEvent("thirdQuartile","AdVideoThirdQuartile"),Y("video_thirdQuartile"),$("_AdVideoThirdQuartile (<--)",{data:a}),g("","_s56 q3 (<--)"),h("adQ3")}function Q(a){Ja.sendVASTEvent("complete","AdVideoComplete"),Y("video_complete"),h("mediaEnd",{segID:e.segmentID,tagname:e.tagName}),$("_AdVideoComplete (<--)",{data:a}),g("","_s58 q4 (<--)")}function R(a){$("_AdInteraction (<--)",{data:a}),g("","_s70 usr_intrx (<--)")}function S(a){Ja.sendVASTEvent("acceptInvitation","AdUserAcceptInvitation"),Y("video_acceptinv"),$("_AdUserAcceptInvitation (<--)",{data:a}),g("","_s72 usr_accpt (<--)")}function T(a){Ja.sendVASTEvent("collapse","AdUserMinimize"),Y("video_minimized"),$("_AdUserMinimize (<--)",{data:a}),g("","_s74 ad_minmz (<--)")}function U(a){Ja.sendVASTEvent("close","AdUserClose"),Y("video_closed"),$("_AdUserClose (<--)",{data:a}),g("","_s76 usr_close (<--)"),h("adUsrClose")}function V(a){$("_AdLog (<--)",{data:a}),g("","_s82 ad_log (<--)"),h("adLog",{data:a})}function W(a){ra=!0,Ja.sendVASTEvent("error","AdError"),$("_AdError (<--)",{data:a}),g("","_s80 ad_error (<--)"),h("playerror",{segID:e.segmentID,tagname:e.tagName,data:a})}function X(a){sa=!0,oa=Date.now()-na,h("post_passback",{segID:e.segmentID,tagname:e.tagName}),Ja.sendVASTEvent("no_content","AdPassback"),aa.deletePlayer(!1),$("_AdPassback (<--)",{data:a}),g("","_s84 ad_psbk (<--)")}function Y(a){h("vast_tracking",{eventName:a})}function Z(a){var b=new d,c=0,e="",f={_effectiveFormat:Ga,_effectiveBitRate:Ha};c=0,e+="specObject:\n",e+=b.printObj(c,f)+"\n\n\n";var g={_loadTime:na,_passbackTime:oa,_environmentReady:qa,_playerError:ra,_playerPassback:sa,_playerReady:ta,_playerStarted:ua,_videoStarted:va,_playerPlaying:wa,_playerVolumeChanged:xa,_playerSizeChanged:ya,_autosizingEnabled:za,_playPos:Aa,_endPos:Ba,_remainingTime:Ca,_setupVars:ma,_opConfig:ja};return c=0,e+="specObject2:\n",e+=b.printObj(c,g,a)+"\n\n\n"}function $(a,b){h("snapshot",{who:"exec",event:a,data:b})}function _(a){var b=a,c=0,d=-1;return d=a.lastIndexOf("."),-1!==d&&(b=b.substring(0,d)),-1===(d=b.lastIndexOf(":"))?-1:(c+=parseInt(b.substring(d+1)),b=b.substring(0,d),-1===(d=b.lastIndexOf(":"))?c:(c+=60*parseInt(b.substring(d+1)),b=b.substring(0,d),0===b.length?c:c+=60*parseInt(b)*60))}var aa=this,ba=e.master,ca=e.comps,da=e.hostWnd,ea=e.env,fa=(e.domtool,Math.round(999*Math.random()));f();var ga=e.setupVars.adMediaCase.replace(/\//g,"_"),ha=e.setupVars.adSystem.replace(/\//g,"_");aa.fireEvent=function(a,b){ba.fireEvent(a,b)};var ia=new j,ja=e.opConfig,ka=null,la=null,ma={},na=null,oa=null,pa=!1,qa=!1,ra=!1,sa=!1,ta=!1,ua=!1,va=!1,wa=!1,xa=!1,ya=!1,za=!0,Aa=0,Ba=void 0,Ca=void 0,Da=0,Ea=0,Fa=!1,Ga={width:0,height:0,background:"#ffffff"},Ha=300,Ia={comps:e.comps,opConfig:ja,startTime:e.startTime},Ja=new c(Ia),Ka=null,La=[],Ma="INIT",Na=null,Oa=-1,Pa=!1;aa.getDebugReport=function(a){return Z(a)},aa.isPlayerReady=function(){return ta},aa.isPlayerError=function(){return ra},aa.isPlayerPassback=function(){return sa},aa.getPassbackTime=function(){return oa},aa.shouldProgress=function(){return!0},aa.isPlayerStarted=function(){return ua},aa.isVideoStarted=function(){return va},aa.isPlayerPlaying=function(){return wa},aa.onQuit=function(){"close"===ma.quit&&Ka.remainingTime>0&&(Ja.close(),Y("video_closed")),"skip"===ma.quit&&(l({cmd:"skipAd"}),Ka.remainingTime>0&&(Ja.skip(),Y("video_skipped")))},aa.deletePlayer=function(a){!0===a&&("close"===ma.quit&&Ka.remainingTime>0&&Ja.close(),"skip"===ma.quit&&(l({cmd:"skipAd"}),Ja.skip())),f(),pa=!0},aa.resize=function(a,b){Ka.resizeAd(a,b,"normal")},aa.start=function(){l({cmd:"startAd"}),f(),$("start_command"),Da=0,Ea=0},aa.tick=function(a){if(!0!==Pa&&n(),m(a),null!==Ka&&Ka.tick(a),!0===ua&&!(Date.now()-Da<1e3)&&(Da=Date.now(),!0===wa)){Ea++;var b=Ka.get_adDuration();b>0&&(Ba=b),Ca=Ka.get_adRemainingTime(),Aa="number"==typeof Ca?Math.round(Ba-Ca):Ea,Aa>Ba&&(Aa=Ba),f(),Ja.tickPlay(Aa,Ba)}},aa.pause=function(a,b){!1===a?(l({cmd:"resumeAd"}),void 0===_typeof(b)&&Ja.pause(!1),f()):(l({cmd:"pauseAd"}),void 0===_typeof(b)&&Ja.pause(!0),f())},aa.getProgress=function(){return"undefined"===Aa?0:"undefined"===Ba||0===Ba?0:100*Aa/Ba},aa.getProgressAbs=function(){var a={curtime:0,reftime:0}
;return Aa>0&&"undefined"!==Ba&&Ba>0&&(a.curtime=Aa,a.reftime=Ba),a},aa.isMediaEnd=function(){return Ka.isMediaEnd()},aa.rewind=function(a){Ka.set_Position(0),Ja.rewind()},aa.setVolume=function(a){var b=a;Ka.set_adVolume(b/100),f()},aa.trackClick=function(){Ja.click()},aa.trackError=function(){Ja.error()},aa.VPAID_notifyEvent=function(a,b){return y(a,b)},aa.AdClickThru=function(a,b,c){function d(a){0!==a.length&&window.open(a,"_blank")}!0!==Fa&&(Fa=!0,f(),$("ad_click",{target:c}),!0===b&&d(void 0!==c?c:ma.adClickUrl),h("click",{segID:e.segmentID,tagname:e.tagName}),Ja.sendVASTClickEvent(),Y("video_click"))},i(e.setupVars)}}(fb_videop_html,fb_videop_vpaid,fb_videop_tracker,textools),fb_videop_root=function(a,b,c,d,e){return function(f){function g(a){w.logger.writex({msg:a,prefix:"fb_vast_player",inst:A})}function h(a,b,c){w.trackhub.sendEvent("vast_l","/_s20 root_evts"+a,b,c)}function i(a,b,c){function d(a,b,c){var d=this;d.eventName=a,d.callback=b,d.mode=c,d.count=0}var e=new d(a,b,c);H.push(e)}function j(a,b){function c(a,b){var c=null;return H.forEach(function(b){null===c&&b.eventName===a&&(c=b)}),c}var d={when:t(),event:a,data:b};E.push(d);var e=c(a);if(null!==e&&"off"!==e.mode){try{e.callback(b)}catch(a){return}return e.count++,"once"===e.mode?void(e.mode="off"):void 0}}function k(a,b){var c=["adStarted","adImpression","adQ1","adQ2","adQ3","adQ4","mediaEnd"];g(),c.indexOf(a)<0||j("fb_watchdog",{event:a,data:b})}function l(a){switch(N){case"HOME":if(null===I)break;j("ready",{setupTime:0}),L=a,h("","_s00 inst"),g(),N="WAIT_FOR_VASTPROC";case"WAIT_FOR_VASTPROC":if(I&&I.tick(a),!0!==I.isReady())break;var b=I.getResult();if(g(),"error"===b.retObj.status){g(),K="error",I=null,j("adError",{tag:P,message:b.retObj.msg,passIdx:b.passIdx}),h("","_s50 load error"),h("/loop_times/error",a-L,{scl:"shorttimes"}),N="ERROR";break}if("no_ads"===b.retObj.status){g(),K="no_content",I=null,j("fb_no_ads"),j("adError",{tag:P,message:"ad_tag_empty"}),h("","_s10 no_ads"),h("/loop_times/no_ads",a-L,{scl:"shorttimes"}),N="NO_ADS";break}if("no_usable_ads"===b.retObj.status){g(),K="no_usable_ads",I=null,j("fb_no_usable_ads"),j("adError",{tag:P,message:"no_compatible_creatives"}),h("","_s12 no_usable_ads"),h("/loop_times/no_usable_ads",a-L,{scl:"shorttimes"}),N="NO_ADS";break}j("fb_usable_ads",b),h("","_s20 usable_ads"),h("/loop_times/usable_ads",a-L,{scl:"shorttimes"}),M=m(b,S),N="WFPR";case"WFPR":if(!0===M.isPlayerError()){h("","_s52 play error"),N="ERROR";break}if(!0!==M.isPlayerReady())break;j("ad_loaded"),N="WFSC";case"WFSC":if(!0!==G)break;M.start(),h("","_s30 ad loaded"),O=a,N="PLY";case"PLY":if(!0===M.isPlayerError()){h("","_s52 play error"),N="ERROR";break}if(a-O>=1e3){O=a;var c=M.getProgressAbs();j("adTime",{tag:P,position:c.curtime,duration:c.reftime})}if(!0===Q){N="PARK";break}break;case"NO_ADS":N="REMV";break;case"ERROR":r({who:"root",event:"setup_error",data:K}),N="REMV";break;case"REMV":null!==M&&M.deletePlayer(!0),N="PARK";break;case"PARK":w.heartH.unsubscribe(v.tick)}}function m(a,c){T=JSON.parse(JSON.stringify(a)),T.domWidth=c.width,T.domHeight=c.height;var d={master:v,comps:w,hostWnd:x,env:y,startTime:f.startTime,secProt:f.secProt,domtool:f.domtool,vastCaller:J,fireEvent:v.fireEvent,opConfig:b,main_wrapper_id:f.main_wrapper_id,segmName:f.segmName,segmentID:f.segmentID,unitfbxID:f.unitfbxID,tagName:f.tagname,uniqueID:f.uniqueID,containerID:f.containerID,setupVars:T,dummy_item:0};return new e(d)}function n(){j("adPlay",{client:"fb",creativetype:T.adMediaCase,tag:S.advertising.tag,fbData:{segID:f.segmentID,tagname:f.tagname}})}function o(){if(!0!==V){V=!0;var a={adposition:"pre",client:"fb",tagname:B,adsystem:T.adSystem,adtitle:T.adTitle,addesc:T.adDesc,adduration:T.adDuration,addimensions:T.adSizeWidth+"x"+T.adSizeHeight,adfiles:T.adFileList.length,id:T.adId,vastversion:T.passVastCard.version,wrapper:null!==T.wrapper?T.wrapper:"DIRECT",creativetype:T.adMediaCase,apiFramework:T.adApiFramework,mediafile:{tag:S.advertising.tag,file:T.adFileList[0].URI,width:T.adSizeWidth,height:T.adSizeHeight}};j("adImpression",a),U=JSON.parse(JSON.stringify(a));r({who:"root",event:"ad_imp",data:U})}}function p(){var b="";if(null===U)return b+="No Impression Data Available\n\n\n";var c,d=new a;return c=0,b+=d.printObj(c,U)+"\n\n\n"}function q(b){function c(b){var c=100;if(void 0===b)throw{msg:"data_not_defined"};if(void 0===b.data)throw{msg:"excep_data_not_defined"};var d=b.data,e=b.who,f=d.where,g=d.errObj,h=d.otherData,i="";if(i+="-------------- EXCEPTION ---------------\n",i+="Who: "+e+"\n",i+="Where: "+f+"\n",i+="----------------------------------------\n\n",void 0!==g){var j="Message:  ";j+=g+"\n\n",void 0!==g.stack&&(j+="\nStack:\n",j+=g.stack.toString()+"\n\n")}if(i+=j,void 0!==h){var k,l=new a;i+="\n\n------- Context Data -------\n\n",k=0,i+=l.printObj(k,h,c)+"\n\n\n"}return i}var d=c(b);r({when:t(),event:b.event,who:b.who,data:{type:"EXCEPTION",excpText:d}})}function r(a){var b={when:t(),event:a.event,who:a.who,data:a.data};g(),C.push(b)}function s(b){var c=new a,d="";return"object"!==_typeof(b)?"ERROR PRINTING EVENT LIST":b.length<1?"NO DATA AVAILABLE IN EVENT LIST":(b.forEach(function(a){d+="\n"+a.when+"  ------------ "+a.event.toUpperCase()+" ------------",void 0===a.data||void 0===a.data||null===a.data?d+=" (data not available)":d+=c.printObj(0,a.data,D),d+="\n\n"}),d+"\n\n")}function t(){var a=Date.now()-z,b=a,c=Math.floor(b/1e3),d=b-1e3*c;return c=c<10?"0"+c:""+c,d=0===d?"000":d<10?"00"+d:d<100?"0"+d:""+d,c+"."+d}function u(b,c,d,e){function f(b){return(new a).printObj(0,b)}var g="";return void 0!==d&&(g+=d),g+="===============================================================\n",g+="                VAST PLAYER GENERAL REPORT\n",g+="===============================================================\n\n\n",g+="TAGNAME: "+B+"\n\n",g+="EVENT: "+b+"\n\n\n\n",g+="================ DATA OBJECT ================\n",g+=f(c)+"\n\n\n",g+="============== SNAPSHOT REPORT ==============\n",g+=s(C)+"\n\n\n",g+="=============== AD IMP REPORT ===============\n",g+=p()+"\n",null!==J&&(g+="\n---------------- CALLER REPORT -----------------\n\n",g+=J.getDebugReport(e)+"\n\n"),g}var v=this,w=(f.master,f.comps),x=f.hostWnd,y=f.env,z=f.startTime,A=(f.playerWidth,f.playerHeight,Math.round(999*Math.random()));g();var B=f.tagname,C=(f.domtool,[]),D=2e3,E=[],F=[],G=!1,H=[];v.on=function(a,b){i(a,b,"on")},v.off=function(a,b){i(a,b,"off")},v.once=function(a,b){i(a,b,"once")},v.resize=function(a,b){M.resize(a,b)},v.gdr=function(a){return u(a,{},"",100)};var I=null,J=null,K="...",L=0,M=null,N="HOME",O=0,P="---",Q=!1,R=!1,S=null,T=null,U=null,V=!1;v.tick=function(a){l(a),null!==M&&M.tick(a)},v.setVolume=function(a){null!==M&&M.setVolume(a)},v.fireEvent=function(a,b){switch(k(a,b),a){case"adStarted":j("adStarted");break;case"adVideoStart":n();break;case"adImpression":o();break;case"click":j("adClick",{tag:P});break;case"mediaEnd":Q=!0,j("adComplete",{tag:P});break;case"post_passback":j("adError",{tag:P,message:"post_passback"});break;case"playerror":j("adError",{tag:P,message:"error playing creative",data:b});break;case"vast_tracking":j("fb_track",b);break;case"mail":return void j("fb_send_mail",b);case"snapshot":return b.event.indexOf("exception")>=0?void q(b):void r(b)}var c={when:t(),event:a,data:b};F.push(c)},v.setup=function(a){S=JSON.parse(JSON.stringify(a)),P=S.advertising.tag;var e={master:v,comps:w,startTime:f.startTime,secProt:f.secProt,fireEvent:v.fireEvent,tagName:f.tagname,auxUnitID:"",useFlashCaller:!1};J=new d(e);var g={master:v,comps:w,startTime:f.startTime,secProt:f.secProt,vastCaller:J,opConfig:b,tagName:f.tagname,tagSnippet:S.advertising.tag,playerWidth:S.width,playerHeight:S.height,fireEvent:v.fireEvent,dummy_item:0};I=new c(g)},v.start=function(){G=!0},v.pause=function(a){},v.play=function(a){},v.stop=function(){j("idle")},v.remove=function(){j("remove"),R=!0},w.heartH.subscribe(v.tick,"fb_videop")}}(textools,config,fb_videop_proc,fb_videop_caller,fb_videop_exec),fmp_sa_lw_300x250_X=function(a){return function(b){function c(a){try{var b={};b.adWidth=h.adWidth,b.adHeight=h.adHeight,b.artTitle=h.artTitle,b.imgUrl=h.imgUrl,b.rnkText=h.rnkText,b.rankIdx=h.rankIdx,b.imgWidth=b.adWidth,b.imgHeight=b.adHeight,b.txtWidth=b.adWidth,b.txtHeight=.33*b.adHeight;var c=10,d=28;return b.rnkWidth=b.adWidth-2*c,b.rnkHeight=d,b.rnkLeft=c,b.rnkTop=b.adHeight-b.txtHeight-c-d,b.bkgStyle="background-color:white; ",b.txtStyle="font-family:sans-serif; font-weight:bold; font-size:18px; line-height:20px; color:white; padding-top:0px; padding-bottom:3px; padding-left:3px; padding-right:3px;",b.rnkStyle="font-family:sans-serif; font-weight:normal; font-size:14px; padding-top:2px; padding-bottom:2px; color:black; ","unspecified"!==a.bkgstyle&&(b.bkgStyle=f.infuseStyles(b.bkgStyle,a.bkgstyle)),"unspecified"!==a.txtstyle&&(b.txtStyle=f.infuseStyles(b.txtStyle,a.txtstyle)),"unspecified"!==a.rnkstyle&&(b.rnkStyle=f.infuseStyles(b.rnkStyle,a.rnkstyle)),b.effstrg=parseInt(a.effstrg),!0===isNaN(b.effstrg)&&(b.effstrg=0),b.effprob=parseInt(a.effprob),!0===isNaN(b.effprob)&&(b.effprob=100),b}catch(a){}return{}}function d(a){var b=j.getKBMarkUp({imgWidth:a.imgWidth,imgHeight:a.imgHeight,imgUrl:a.imgUrl,strength:a.effstrg,prob:a.effprob}),c="";return c+="<script>",c+="function clickProcess () {",c+="window.parent.postMessage(JSON.stringify({ adId : "+g+' }), "*");',c+="}",c+='window.document.body.addEventListener("click", clickProcess)',c+="<\/script>",c+="<script>",c+="window._fbcmd = function (cmd, data) {",c+='if(cmd === "numOn") {',c+='var rank_numb_sect_elm = document.getElementById("rank_numb_sect");',c+='if(rank_numb_sect_elm !== null) rank_numb_sect_elm.style.visibility = "visible";',c+="}",c+='else if(cmd === "numOff") {',c+='var rank_numb_sect_elm = document.getElementById("rank_numb_sect");',c+='if(rank_numb_sect_elm !== null) rank_numb_sect_elm.style.visibility = "hidden";',c+="}",c+='else if(cmd === "tipOn") {',c+='var rank_text_sect_elm = document.getElementById("rank_text_sect");',c+='if(rank_text_sect_elm !== null) rank_text_sect_elm.style.visibility = "visible";',c+="}",c+='else if(cmd === "tipOff") {',c+='var rank_text_sect_elm = document.getElementById("rank_text_sect");',c+='if(rank_text_sect_elm !== null) rank_text_sect_elm.style.visibility = "hidden";',c+="}",c+='else if(cmd === "secLoad") {',c+='var image_box_elm = document.getElementById("imgBox");',c+='if(image_box_elm !== null) addClass(image_box_elm, "load");',c+="}",c+='else if(cmd === "effOn") {',c+='var image_box_elm = document.getElementById("imgBox");',c+='if(image_box_elm !== null) addClass(image_box_elm, "effect");',c+="}",c+='else if(cmd === "effOff") {',c+='var image_box_elm = document.getElementById("imgBox");',c+='if(image_box_elm !== null) removeClass(image_box_elm, "effect");',c+="}",c+="};",c+="function addClass (elem, newClass) {",c+='var clazz = "" + elem.className;',c+="if(clazz.indexOf(newClass) >= 0) return;",c+='clazz += " " + newClass;',c+='clazz = clazz.replace(/s{2}/gm, " ");',c+="elem.className = clazz;",c+="}",c+="function removeClass (elem, lessClass) {",c+='\tvar clazz = "" + elem.className;',c+="\tif(clazz.indexOf(lessClass) < 0) return;",c+='\tclazz = clazz.replace(lessClass, "");',c+='\tclazz = clazz.replace(/s{2}/gm, " ");',c+="\tif(clazz.length > 0) {",c+='\t\tif(clazz.charAt(clazz.length-1) == " ")',c+="\t\t\tclazz = clazz.substring(0, clazz.length-1);",c+="\t}",c+='\telem.className = "" + clazz;',c+="}",c+="<\/script>",c+='<style type="text/css">\r',c+="body { margin:0; }\r",c+=".wrapper { background-color:#404040; position:absolute; left:0; top:0; margin:0; cursor: pointer;",c+=" width:"+a.adWidth+"px; height:"+a.adHeight+"px; "+a.bkgStyle+" }\r",c+=b.styles,c+=".title_bckg { position:absolute; bottom:0; display:block; margin:0; padding:0; width:"+a.txtWidth+"px; height:"+a.txtHeight+"px; min-height:"+a.txtHeight+"px; max-height:"+a.txtHeight+"px; opacity:0.5; background: #303030; overflow:hidden;  }\r",c+=".title_section { position:absolute; bottom:0; display:table; margin:0; padding:0; width:"+a.txtWidth+"px; height:"+a.txtHeight+"px; min-height:"+a.txtHeight+"px; max-height:"+a.txtHeight+"px; opacity:0.9; background:transparent; color:white; z-index:1; }\r",c+=".title_box { display:table-cell; margin:auto; vertical-align:middle; text-align: left; }\r",c+=".title_frame { "+a.txtStyle+" }\r",c+=".rank_number_section { position:absolute; left:8px; top:8px; width:50px; height:32px; display:table; ",c+=" background-color:white; opacity:0.7; border-radius:6px;  visibility: visible; }\r",c+=".rank_number_box { display:table-cell; margin:auto; vertical-align:middle; text-align:center; }\r",c+=".rank_number_frame { font-family:sans-serif; font-weight:bold; font-size:24px; color:black; opacity:1; padding-top:3px;}\r",c+=".rank_text_section { position:absolute; left:"+a.rnkLeft+"px; top:"+a.rnkTop+"px; width:"+a.rnkWidth+"px;",c+="height:"+a.rnkHeight+"px; display:table; background-color:white; opacity:0.58; border-radius:3px; visibility: hidden; }\r",c+=".rank_text_box { display:table-cell; margin:auto; vertical-align:middle; text-align:center; opacity:1; }\r",c+=".rank_text_frame {"+a.rnkStyle+" }\r",c+=".rank_text_frame span { font-weight:bold; font-size:1.1em; }\r",c+="</style>\r",c+='<div class="wrapper" >',c+='<div class="image_section" >',c+='<div id="imgBox" class="image_box" >',c+="</div>",c+="</div>",c+='<div class="title_bckg" >',c+="</div>",c+='<div class="title_section" >',c+='<div class="title_box">',c+='<div class="title_frame" >',c+=a.artTitle,c+="</div>",c+="</div>",c+="</div>",c+='<div id="rank_numb_sect" class="rank_number_section" >',c+='<div class="rank_number_box" >',c+='<div class="rank_number_frame" >',c+=""+a.rankIdx,c+="</div>",c+="</div>",c+="</div>",c+='<div id="rank_text_sect" class="rank_text_section" >',c+='<div class="rank_text_box" >',c+='<div class="rank_text_frame" >',c+=""+a.rnkText,c+="</div>",c+="</div>",c+="</div>",c+="</div>"}var e=this,f=(b.comps,b.cllBks),g=(b.bootParams,b.lwAdId),h=b.lwad_vars,i=["bkgstyle","txtstyle","filters","rnkstyle","effstrg","effprob"],j=new a({hostWnd:window});j.setWrapperElement(""),e.asmbl=function(a,e,g){return d(c(f.getFmtObj(b.xfmtName,i)))}}}(domtool),fmp_sa_lw_300x250=function(a){return function(b){function c(a){try{var b={};b.adWidth=h.adWidth,b.adHeight=h.adHeight,b.artTitle=h.artTitle,b.imgUrl=h.imgUrl,b.rnkText=h.rnkText,b.rankIdx=h.rankIdx;var c=parseInt(a.imgprc_h);!0===isNaN(c)&&(c=100),b.imgWidth=Math.round(b.adWidth*c/100);var d=parseInt(a.imgprc_v);!0===isNaN(d)&&(d=62),b.imgHeight=Math.round(b.adHeight*d/100),b.txtWidth=b.adWidth,b.txtHeight=b.adHeight-b.imgHeight;var e=10,g=28;return b.rnkWidth=b.adWidth-2*e,b.rnkHeight=g,b.rnkLeft=e,b.rnkTop=b.imgHeight-e-g,b.bkgStyle="background-color:white; ",b.txtStyle="font-family:sans-serif; font-weight:bold; font-size:18px; line-height:21px; color:#000000; padding-top:2px; ",b.rnkStyle="font-family:sans-serif; font-weight:normal; font-size:14px; padding-top:2px; padding-bottom:2px; color:black; ","unspecified"!==a.bkgstyle&&(b.bkgStyle=f.infuseStyles(b.bkgStyle,a.bkgstyle)),"unspecified"!==a.txtstyle&&(b.txtStyle=f.infuseStyles(b.txtStyle,a.txtstyle)),"unspecified"!==a.rnkstyle&&(b.rnkStyle=f.infuseStyles(b.rnkStyle,a.rnkstyle)),b.effstrg=parseInt(a.effstrg),!0===isNaN(b.effstrg)&&(b.effstrg=0),b.effprob=parseInt(a.effprob),!0===isNaN(b.effprob)&&(b.effprob=100),b}catch(a){}return{}}function d(a){var b=j.getKBMarkUp({imgWidth:a.imgWidth,imgHeight:a.imgHeight,imgUrl:a.imgUrl,strength:a.effstrg,prob:a.effprob}),c="";return c+="<script>",c+="function clickProcess () {",c+="window.parent.postMessage(JSON.stringify({ adId : "+g+' }), "*");',c+="}",c+='window.document.body.addEventListener("click", clickProcess)',c+="<\/script>",c+="<script>",c+="window._fbcmd = function (cmd, data) {",c+='if(cmd === "numOn") {',c+='var rank_numb_sect_elm = document.getElementById("rank_numb_sect");',c+='if(rank_numb_sect_elm !== null) rank_numb_sect_elm.style.visibility = "visible";',c+="}",c+='else if(cmd === "numOff") {',c+='var rank_numb_sect_elm = document.getElementById("rank_numb_sect");',c+='if(rank_numb_sect_elm !== null) rank_numb_sect_elm.style.visibility = "hidden";',c+="}",c+='else if(cmd === "tipOn") {',c+='var rank_text_sect_elm = document.getElementById("rank_text_sect");',c+='if(rank_text_sect_elm !== null) rank_text_sect_elm.style.visibility = "visible";',c+="}",c+='else if(cmd === "tipOff") {',c+='var rank_text_sect_elm = document.getElementById("rank_text_sect");',c+='if(rank_text_sect_elm !== null) rank_text_sect_elm.style.visibility = "hidden";',c+="}",c+='else if(cmd === "secLoad") {',c+='var image_box_elm = document.getElementById("imgBox");',c+='if(image_box_elm !== null) addClass(image_box_elm, "load");',c+="}",c+='else if(cmd === "effOn") {',c+='var image_box_elm = document.getElementById("imgBox");',c+='if(image_box_elm !== null) addClass(image_box_elm, "effect");',c+="}",c+='else if(cmd === "effOff") {',c+='var image_box_elm = document.getElementById("imgBox");',c+='if(image_box_elm !== null) removeClass(image_box_elm, "effect");',c+="}",c+="};",c+="function addClass (elem, newClass) {",c+='var clazz = "" + elem.className;',c+="if(clazz.indexOf(newClass) >= 0) return;",c+='clazz += " " + newClass;',c+='clazz = clazz.replace(/s{2}/gm, " ");',c+="elem.className = clazz;",c+="}",c+="function removeClass (elem, lessClass) {",c+='\tvar clazz = "" + elem.className;',c+="\tif(clazz.indexOf(lessClass) < 0) return;",c+='\tclazz = clazz.replace(lessClass, "");',c+='\tclazz = clazz.replace(/s{2}/gm, " ");',c+="\tif(clazz.length > 0) {",c+='\t\tif(clazz.charAt(clazz.length-1) == " ")',c+="\t\t\tclazz = clazz.substring(0, clazz.length-1);",c+="\t}",c+='\telem.className = "" + clazz;',c+="}",c+="<\/script>",c+='<style type="text/css">\r',c+="body { margin:0; }\r",c+=".wrapper { position:absolute; left:0; top:0; margin:0; cursor: pointer;",c+=" width:"+a.adWidth+"px; height:"+a.adHeight+"px; "+a.bkgStyle+" }\r",c+=b.styles,c+=".title_section { display:table; margin:0; padding-top:6px; width:"+a.txtWidth+"px; height:"+a.txtHeight+"px; }\r",c+=".title_box { display:table-cell; margin:auto; vertical-align:top; text-align: left; }\r",c+=".title_frame { "+a.txtStyle+" }\r",c+=".rank_number_section { position:absolute; left:8px; top:8px; width:50px; height:32px; display:table; ",c+=" background-color:white; opacity:0.7; border-radius:6px;  visibility: visible; }\r",c+=".rank_number_box { display:table-cell; margin:auto; vertical-align:middle; text-align:center; }\r",c+=".rank_number_frame { font-family:sans-serif; font-weight:bold; font-size:24px; color:black; opacity:1; padding-top:3px;}\r",c+=".rank_text_section { position:absolute; left:"+a.rnkLeft+"px; top:"+a.rnkTop+"px; width:"+a.rnkWidth+"px;",c+="height:"+a.rnkHeight+"px; display:table; background-color:white; opacity:0.7; border-radius:3px; visibility: hidden; }\r",c+=".rank_text_box { display:table-cell; margin:auto; vertical-align:middle; text-align:center; opacity:1; }\r",c+=".rank_text_frame {"+a.rnkStyle+" }\r",c+=".rank_text_frame span { font-weight:bold; font-size:1.1em; }\r",c+="</style>\r",c+='<div class="wrapper" >',c+='<div class="image_section" >',c+='<div id="imgBox" class="image_box" >',c+="</div>",c+="</div>",c+='<div class="title_section" >',c+='<div class="title_box">',c+='<div class="title_frame" >',c+=a.artTitle,c+="</div>",c+="</div>",c+="</div>",c+='<div id="rank_numb_sect" class="rank_number_section" >',c+='<div class="rank_number_box" >',c+='<div class="rank_number_frame" >',c+=""+a.rankIdx,c+="</div>",c+="</div>",c+="</div>",c+='<div id="rank_text_sect" class="rank_text_section" >',c+='<div class="rank_text_box" >',c+='<div class="rank_text_frame" >',c+=""+a.rnkText,c+="</div>",c+="</div>",c+="</div>",c+="</div>"}var e=this,f=(b.comps,b.cllBks),g=(b.bootParams,b.lwAdId),h=b.lwad_vars,i=["bkgstyle","txtstyle","imgprc_v","imgprc_h","filters","rnkstyle","effstrg","effprob"],j=new a({hostWnd:window});j.setWrapperElement(""),e.asmbl=function(a,e,g){return d(c(f.getFmtObj(b.xfmtName,i)))}}}(domtool),fmp_sa_lw_728x90=function(a){return function(b){function c(a){try{var b={};b.adWidth=h.adWidth,b.adHeight=h.adHeight,b.artTitle=h.artTitle,b.imgUrl=h.imgUrl,b.rnkText=h.rnkText,b.rankIdx=h.rankIdx;var c=parseInt(a.imgprc_h);!0===isNaN(c)&&(c=30),b.imgWidth=Math.round(b.adWidth*c/100);var d=parseInt(a.imgprc_v);!0===isNaN(d)&&(d=100),b.imgHeight=Math.round(b.adHeight*d/100);var e=6,g=18;return b.rnkWidth=b.imgWidth-2*e,b.rnkHeight=g,b.rnkLeft=e,b.rnkTop=b.imgHeight-g-e,b.logoSectWidth=140,b.logoMarg="unspecified"===a.logomrg?8:a.logomrg,b.logoWidth=b.logoSectWidth-2*b.logoMarg,b.logoHeight=b.adHeight,b.logoTop=0,b.logoLeft=b.adWidth-b.logoWidth-2*b.logoMarg,b.logoUrl=a.logourl,b.txtWidth=b.adWidth-b.imgWidth-b.logoSectWidth,b.txtHeight=b.adHeight,b.bkgStyle="background-color:white; ",b.txtStyle="font-family:sans-serif; font-weight:bold; font-size:19px; line-height:21px; color:#000000; padding-left:10px; padding-right:10px; ",b.rnkStyle="font-family:sans-serif; font-weight:normal; font-size:10px; padding-top:2px; padding-bottom:2px; color:black; ",b.logoStyle="","unspecified"!==a.bkgstyle&&(b.bkgStyle=f.infuseStyles(b.bkgStyle,a.bkgstyle)),"unspecified"!==a.txtstyle&&(b.txtStyle=f.infuseStyles(b.txtStyle,a.txtstyle)),"unspecified"!==a.rnkstyle&&(b.rnkStyle=f.infuseStyles(b.rnkStyle,a.rnkstyle)),"unspecified"!==a.logostyle&&(b.logoStyle=f.infuseStyles(b.logoStyle,a.logostyle)),b.effstrg=parseInt(a.effstrg),!0===isNaN(b.effstrg)&&(b.effstrg=0),b.effprob=parseInt(a.effprob),!0===isNaN(b.effprob)&&(b.effprob=100),b}catch(a){}return{}}function d(a){var b=j.getKBMarkUp({imgWidth:a.imgWidth,imgHeight:a.imgHeight,imgUrl:a.imgUrl,strength:a.effstrg,prob:a.effprob}),c="";return c+="<script>",c+="function clickProcess () {",c+="window.parent.postMessage(JSON.stringify({ adId : "+g+' }), "*");',c+="}",c+='window.document.body.addEventListener("click", clickProcess)',c+="<\/script>",c+="<script>",c+="window._fbcmd = function (cmd, data) {",c+='if(cmd === "numOn") {',c+='var rank_numb_sect_elm = document.getElementById("rank_numb_sect");',c+='if(rank_numb_sect_elm !== null) rank_numb_sect_elm.style.visibility = "visible";',c+="}",c+='else if(cmd === "numOff") {',c+='var rank_numb_sect_elm = document.getElementById("rank_numb_sect");',c+='if(rank_numb_sect_elm !== null) rank_numb_sect_elm.style.visibility = "hidden";',c+="}",c+='else if(cmd === "tipOn") {',c+='var rank_text_sect_elm = document.getElementById("rank_text_sect");',c+='if(rank_text_sect_elm !== null) rank_text_sect_elm.style.visibility = "visible";',c+="}",c+='else if(cmd === "tipOff") {',c+='var rank_text_sect_elm = document.getElementById("rank_text_sect");',c+='if(rank_text_sect_elm !== null) rank_text_sect_elm.style.visibility = "hidden";',c+="}",c+='else if(cmd === "secLoad") {',c+='var image_box_elm = document.getElementById("imgBox");',c+='if(image_box_elm !== null) addClass(image_box_elm, "load");',c+="}",c+='else if(cmd === "effOn") {',c+='var image_box_elm = document.getElementById("imgBox");',c+='if(image_box_elm !== null) addClass(image_box_elm, "effect");',c+="}",c+='else if(cmd === "effOff") {',c+='var image_box_elm = document.getElementById("imgBox");',c+='if(image_box_elm !== null) removeClass(image_box_elm, "effect");',c+="}",c+="};",c+="function addClass (elem, newClass) {",c+='var clazz = "" + elem.className;',c+="if(clazz.indexOf(newClass) >= 0) return;",c+='clazz += " " + newClass;',c+='clazz = clazz.replace(/s{2}/gm, " ");',c+="elem.className = clazz;",c+="}",c+="function removeClass (elem, lessClass) {",c+='\tvar clazz = "" + elem.className;',c+="\tif(clazz.indexOf(lessClass) < 0) return;",c+='\tclazz = clazz.replace(lessClass, "");',c+='\tclazz = clazz.replace(/s{2}/gm, " ");',c+="\tif(clazz.length > 0) {",c+='\t\tif(clazz.charAt(clazz.length-1) == " ")',c+="\t\t\tclazz = clazz.substring(0, clazz.length-1);",c+="\t}",c+='\telem.className = "" + clazz;',c+="}",c+="<\/script>",c+='<style type="text/css">\r',c+="body { margin:0; }\r",c+=".wrapper { position:absolute; left:0; top:0; margin:0; cursor: pointer;",c+=" width:"+a.adWidth+"px; height:"+a.adHeight+"px; "+a.bkgStyle+" }\r",c+=b.styles,c+=".title_section {position:absolute;  left:"+a.imgWidth+"px; top:0px; display:table; margin:0; width:"+a.txtWidth+"px; height:"+a.txtHeight+"px; }\r",c+=".title_box { display:table-cell; margin:auto; vertical-align:middle; text-align: left; }\r",c+=".title_frame { "+a.txtStyle+" }\r",c+=".rank_number_section { position:absolute; left:6px; top:6px; width:44px; height:24px; display:table; ",c+=" background-color:white; opacity:0.7; border-radius:6px;  visibility: visible; }\r",c+=".rank_number_box { display:table-cell; margin:auto; vertical-align:middle; text-align:center; }\r",c+=".rank_number_frame { font-family:sans-serif; font-weight:bold; font-size:19px; color:black; opacity:1; padding-top:2px;}\r",c+=".rank_text_section { position:absolute; left:"+a.rnkLeft+"px; top:"+a.rnkTop+"px; width:"+a.rnkWidth+"px;",c+="height:"+a.rnkHeight+"px; display:table; background-color:white; opacity:0.7; border-radius:3px; visibility: hidden; }\r",c+=".rank_text_box { display:table-cell; margin:auto; vertical-align:middle; text-align:center; opacity:1; }\r",c+=".rank_text_frame {"+a.rnkStyle+" }\r",c+=".rank_text_frame span { font-weight:bold; font-size:1.1em; }\r",c+=".logo_section { position:absolute; top:"+a.logoTop+"; left:"+a.logoLeft+"px; display:table; margin:0; width:"+a.logoSectWidth+"px; height:"+a.logoHeight+"px; }\r",c+=".logo_box { display:table-cell; margin:auto; vertical-align:top; text-align: left; }\r",c+=".logo_frame { "+a.logoStyle+" }\r",c+=".logo_frame img { object-fit:contain; }\r",c+="</style>\r",c+='<div class="wrapper" >',c+='<div class="image_section" >',c+='<div id="imgBox" class="image_box" >',c+="</div>",c+="</div>",c+='<div class="title_section" >',c+='<div class="title_box">',c+='<div class="title_frame" >',c+=a.artTitle,c+="</div>",c+="</div>",c+="</div>",c+='<div id="rank_numb_sect" class="rank_number_section" >',c+='<div class="rank_number_box" >',c+='<div class="rank_number_frame" >',c+=""+a.rankIdx,c+="</div>",c+="</div>",c+="</div>",c+='<div id="rank_text_sect" class="rank_text_section" >',c+='<div class="rank_text_box" >',c+='<div class="rank_text_frame" >',c+=""+a.rnkText,c+="</div>",c+="</div>",c+="</div>",c+='<div id="logo_sect" class="logo_section" >',c+='<div class="logo_box" >',c+='<div class="logo_frame" >',c+='<img src="'+a.logoUrl+'" style="width:'+a.logoWidth+"px;height:"+a.logoHeight+'px;" />',c+="</div>",c+="</div>",c+="</div>",c+="</div>"}var e=this,f=(b.comps,b.cllBks),g=(b.bootParams,b.lwAdId),h=b.lwad_vars,i=["bkgstyle","txtstyle","imgprc_v","imgprc_h","filters","rnkstyle","effstrg","effprob","logourl","logomrg","logostyle"],j=new a({hostWnd:window});j.setWrapperElement(""),e.asmbl=function(a,e,g){return d(c(f.getFmtObj(b.xfmtName,i)))}}}(domtool),fmp_sa_lw_160x600=function(a){return function(b){function c(a){try{var b={};b.adWidth=h.adWidth,b.adHeight=h.adHeight,b.artTitle=h.artTitle,b.imgUrl=h.imgUrl,b.rnkText=h.rnkText,b.rankIdx=h.rankIdx;var c=parseInt(a.imgprc_h);!0===isNaN(c)&&(c=100),b.imgWidth=Math.round(b.adWidth*c/100);var d=parseInt(a.imgprc_v);!0===isNaN(d)&&(d=44),b.imgHeight=Math.round(b.adHeight*d/100),b.txtWidth=b.adWidth,b.txtHeight=b.adHeight-b.imgHeight;var e=10,g=28;b.rnkWidth=b.adWidth-2*e,b.rnkHeight=g,b.rnkLeft=e,b.rnkTop=b.imgHeight-e-g;var i="unspecified"===a.logomrg?15:a.logomrg;return b.logoLeft=i,b.logoWidth=b.adWidth-2*i,b.logoHeight=50,b.logoTop=b.adHeight-b.logoHeight-2*i,b.logoUrl=a.logourl,b.bkgStyle="background-color:white; ",b.txtStyle="font-family:sans-serif; font-weight:bold; font-size:19px; line-height:21px; color:#000000; padding:6px; ",b.rnkStyle="font-family:sans-serif; font-weight:normal; font-size:12px; padding-top:2px; min-height:22px; padding-bottom:2px; color:black; ",b.logoStyle="","unspecified"!==a.bkgstyle&&(b.bkgStyle=f.infuseStyles(b.bkgStyle,a.bkgstyle)),"unspecified"!==a.txtstyle&&(b.txtStyle=f.infuseStyles(b.txtStyle,a.txtstyle)),"unspecified"!==a.rnkstyle&&(b.rnkStyle=f.infuseStyles(b.rnkStyle,a.rnkstyle)),"unspecified"!==a.logostyle&&(b.logoStyle=f.infuseStyles(b.logoStyle,a.logostyle)),b.effstrg=parseInt(a.effstrg),!0===isNaN(b.effstrg)&&(b.effstrg=0),b.effprob=parseInt(a.effprob),!0===isNaN(b.effprob)&&(b.effprob=100),b}catch(a){}return{}}function d(a){var b=j.getKBMarkUp({imgWidth:a.imgWidth,imgHeight:a.imgHeight,imgUrl:a.imgUrl,strength:a.effstrg,prob:a.effprob}),c="";return c+="<script>",c+="function clickProcess () {",c+="window.parent.postMessage(JSON.stringify({ adId : "+g+' }), "*");',c+="}",c+='window.document.body.addEventListener("click", clickProcess)',c+="<\/script>",c+="<script>",c+="window._fbcmd = function (cmd, data) {",c+='if(cmd === "numOn") {',c+='var rank_numb_sect_elm = document.getElementById("rank_numb_sect");',c+='if(rank_numb_sect_elm !== null) rank_numb_sect_elm.style.visibility = "visible";',c+="}",c+='else if(cmd === "numOff") {',c+='var rank_numb_sect_elm = document.getElementById("rank_numb_sect");',c+='if(rank_numb_sect_elm !== null) rank_numb_sect_elm.style.visibility = "hidden";',c+="}",c+='else if(cmd === "tipOn") {',c+='var rank_text_sect_elm = document.getElementById("rank_text_sect");',c+='if(rank_text_sect_elm !== null) rank_text_sect_elm.style.visibility = "visible";',c+="}",c+='else if(cmd === "tipOff") {',c+='var rank_text_sect_elm = document.getElementById("rank_text_sect");',c+='if(rank_text_sect_elm !== null) rank_text_sect_elm.style.visibility = "hidden";',c+="}",c+='else if(cmd === "secLoad") {',c+='var image_box_elm = document.getElementById("imgBox");',c+='if(image_box_elm !== null) addClass(image_box_elm, "load");',c+="}",c+='else if(cmd === "effOn") {',c+='var image_box_elm = document.getElementById("imgBox");',c+='if(image_box_elm !== null) addClass(image_box_elm, "effect");',c+="}",c+='else if(cmd === "effOff") {',c+='var image_box_elm = document.getElementById("imgBox");',c+='if(image_box_elm !== null) removeClass(image_box_elm, "effect");',c+="}",c+="};",c+="function addClass (elem, newClass) {",c+='var clazz = "" + elem.className;',c+="if(clazz.indexOf(newClass) >= 0) return;",c+='clazz += " " + newClass;',c+='clazz = clazz.replace(/s{2}/gm, " ");',c+="elem.className = clazz;",c+="}",c+="function removeClass (elem, lessClass) {",c+='\tvar clazz = "" + elem.className;',c+="\tif(clazz.indexOf(lessClass) < 0) return;",c+='\tclazz = clazz.replace(lessClass, "");',c+='\tclazz = clazz.replace(/s{2}/gm, " ");',c+="\tif(clazz.length > 0) {",c+='\t\tif(clazz.charAt(clazz.length-1) == " ")',c+="\t\t\tclazz = clazz.substring(0, clazz.length-1);",c+="\t}",c+='\telem.className = "" + clazz;',c+="}",c+="<\/script>",c+='<style type="text/css">\r',c+="body { margin:0; }\r",c+=".wrapper { position:absolute; left:0; top:0; margin:0; cursor: pointer;",c+=" width:"+a.adWidth+"px; height:"+a.adHeight+"px; "+a.bkgStyle+" }\r",c+=b.styles,c+=".title_section { display:table; margin:0; padding-top:12px; width:"+a.txtWidth+"px; height:"+a.txtHeight+"px; }\r",c+=".title_box { display:table-cell; margin:auto; vertical-align:top; text-align: left; }\r",c+=".title_frame { "+a.txtStyle+" }\r",c+=".rank_number_section { position:absolute; left:8px; top:8px; width:50px; height:32px; display:table; ",c+=" background-color:white; opacity:0.7; border-radius:6px;  visibility: visible; }\r",c+=".rank_number_box { display:table-cell; margin:auto; vertical-align:middle; text-align:center; }\r",c+=".rank_number_frame { font-family:sans-serif; font-weight:bold; font-size:24px; color:black; opacity:1; padding-top:3px;}\r",c+=".rank_text_section { position:absolute; left:"+a.rnkLeft+"px; top:"+a.rnkTop+"px; width:"+a.rnkWidth+"px;",c+="height:"+a.rnkHeight+"px; display:table; background-color:white; opacity:0.7; border-radius:3px; visibility: hidden; }\r",
c+=".rank_text_box { display:table-cell; margin:auto; vertical-align:middle; text-align:center; opacity:1; }\r",c+=".rank_text_frame {"+a.rnkStyle+" }\r",c+=".rank_text_frame span { font-weight:bold; font-size:1.1em; }\r",c+=".logo_section { position:absolute; left:"+a.logoLeft+"px; top:"+a.logoTop+"px; display:table; margin:0; padding-top:6px; width:"+a.logoWidth+"px; height:"+a.logoHeight+"px; }\r",c+=".logo_box { display:table-cell; margin:auto; vertical-align:top; text-align:center; }\r",c+=".logo_frame { "+a.logoStyle+" }\r",c+=".logo_frame img { object-fit:contain; }\r",c+="</style>\r",c+='<div class="wrapper" >',c+='<div class="image_section" >',c+='<div id="imgBox" class="image_box" >',c+="</div>",c+="</div>",c+='<div class="title_section" >',c+='<div class="title_box">',c+='<div class="title_frame" >',c+=a.artTitle,c+="</div>",c+="</div>",c+="</div>",c+='<div id="rank_numb_sect" class="rank_number_section" >',c+='<div class="rank_number_box" >',c+='<div class="rank_number_frame" >',c+=""+a.rankIdx,c+="</div>",c+="</div>",c+="</div>",c+='<div id="rank_text_sect" class="rank_text_section" >',c+='<div class="rank_text_box" >',c+='<div class="rank_text_frame" >',c+=""+a.rnkText,c+="</div>",c+="</div>",c+="</div>",c+='<div id="logo_sect" class="logo_section" >',c+='<div class="logo_box" >',c+='<div class="logo_frame" >',c+='<img src="'+a.logoUrl+'" style="width:'+a.logoWidth+"px;height:"+a.logoHeight+'px;" />',c+="</div>",c+="</div>",c+="</div>",c+="</div>"}var e=this,f=(b.comps,b.cllBks),g=(b.bootParams,b.lwAdId),h=b.lwad_vars,i=["bkgstyle","txtstyle","imgprc_v","imgprc_h","filters","rnkstyle","effstrg","effprob","logourl","logomrg","logostyle"],j=new a({hostWnd:window});j.setWrapperElement(""),e.asmbl=function(a,e){return d(c(f.getFmtObj(b.xfmtName,i)))}}}(domtool),fmp_sa_liveweb=function(a,b,c,d){return function(e){function f(a){p.logger.writex({msg:a,prefix:"fmp_sa_liveweb",inst:s})}function g(a){if(null!==w){try{if(JSON.parse(a.data).adId!==r)return}catch(a){return}n.fireEvent("lwclick"),window.open(w.linkUrl,"_top")}}function h(){window.removeEventListener("message",g),window.removeEventListener("unload",h)}function i(a){switch(t){case"INIT":if(!0!==p.liveWebRoot.isReady())break;if(null===(w=p.liveWebRoot.gac(e.stageAttributes.lw_artmode))){t="PARK";break}l(w),v=!0,t="WFSS";case"WFSS":if(!0!==F)break;A=!0,t="VSB_OFF";case"VSB_OFF":if(!0!==E)break;u=a,t="SHDLY";case"SHDLY":if(a-u<500)break;B=!0,!0===G&&(C=!0),t="VSB_ON";case"VSB_ON":if(!0===G&&(B=!0,C=!0),!0===E)break;t="VSB_OFF"}}function j(a){switch(y){case"INIT":if(!0!==A)break;y="RDY";case"RDY":if(!0===B){n.ssac("numOn",{}),z=a,y="SHWNUM";break}if(!0===C){n.ssac("tipOn",{}),z=a,y="SHWTIP";break}break;case"SHWNUM":if(!0===C){n.ssac("tipOn",{}),z=a,y="SHWBTH";break}if(a-z<o)break;"hold"!==w.rankmode&&n.ssac("numOff",{}),B=!1,y="RDY";break;case"SHWTIP":if(!0===B){n.ssac("numOn",{}),z=a,y="SHWBTH";break}if(a-z<o)break;n.ssac("tipOff",{}),C=!1,y="RDY";break;case"SHWBTH":if(a-z<o)break;"hold"!==w.rankmode&&n.ssac("numOff",{}),B=!1,n.ssac("tipOff",{}),C=!1,y="RDY"}}function k(a){switch(D){case"INIT":D="WFSV";break;case"WFSV":if(!0!==H)break;if(!0!==E)break;n.ssac("effOn",{}),D="WFNV";break;case"WFNV":if(!0===E)break;D="WFYV";break;case"WFYV":if(!0!==E)break;n.ssac("effOn",{}),D="WFNV"}}function l(f){function g(g){var h=null,i={comps:e.comps,cllBks:e.cllBks,bootParams:e.bootParams,xfmtName:e.xfmtName,lwAdId:r,lwad_vars:f};switch(g.templateName){case"lw_300x250_X":h=new b(i);break;case"lw_300x250":h=new a(i);break;case"lw_160x600":h=new c(i);break;case"lw_728x90":h=new d(i);break;default:h=new a(i)}return h}function h(a){return a.replace(/\^\++/g," ")}function i(a,b){var c=""+decodeURIComponent(a);if(c=c.replace(/\&+/g,"&amp;"),c=c.replace(/\"+/g,"&quot;"),c=c.replace(/\"+/g,"&quot;"),c=c.replace(/<br>+/g," "),c=c.replace(/<span>+/g," "),void 0!==b&&"unspecified"!==b){b.replace(/\^\++/g," ").split("|").forEach(function(a){c=c.replace(a,"")})}return c}function j(a){var b=""+decodeURIComponent(a);return b=b.replace(/\/+/g,"|"),b=b.replace(/\&+/g,""),b=b.replace(/\"+/g,""),b=b.replace(/\"+/g,""),b=b.replace(/<br>+/g," "),b=b.replace(/<span>+/g," "),b.length>30?b.substring(0,30)+"...":b}var k=["template","filters","rankmode","ranktxt"],l=q.getFmtObj(e.xfmtName,k);l.template;f.rnkText=h(l.ranktxt),f.artTitle=i(f.titleStr,l.filters),f.ecCaption=j(f.titleStr),f.adWidth=e.width,f.adHeight=e.height,f.rankmode=l.rankmode,null!==(x=g({templateName:l.template,lwad_vars:f}))&&(f.adMarkup=x.asmbl(f.width,f.height))}var m=this,n=e.master,o=2500,p=e.comps,q=e.cllBks,r=(e.bootParams,Math.round(999999999*Math.random())),s=Math.round(999*Math.random());f();var t="INIT",u=0,v=null,w=null,x=null,y="INIT",z=0,A=null,B=!1,C=!1,D="INIT",E=!1,F=!1,G=!1,H=!1;m.isReady=function(){return v},m.getAM=function(){return!0!==v?"NA":w.adMarkup},m.isVarSize=function(){return!0},m.notif=function(a,b){if(null!==w)switch(p.liveWebRoot.lwadev(a,w.ecCaption,w.linkUrl),a){case"start":F=!0;break;case"onshow":H=!0,B=!0;break;case"secLoad":n.ssac("secLoad");break;case"visibOn":E=!0;break;case"visibOff":E=!1;break;case"hoverOn":G=!0;break;case"hoverOff":G=!1}},m.tick=function(a){i(a),j(a),k(a)},window.addEventListener("message",g),window.addEventListener("unload",h)}}(fmp_sa_lw_300x250,fmp_sa_lw_300x250_X,fmp_sa_lw_160x600,fmp_sa_lw_728x90),fmp_sa_abfx_ck_prst={flash_out:{in:{enabled:!0,cellwidth:"/1",cellheight:"/1",padx:2,pady:2,density:100,color:"ffffff",opacity:.9,shadow:0,time:.8,direction:"ctr",sequence:"none",radius:0,rotate:0},out:{opacity:0}},random_squares:{in:{enabled:!0,cellwidth:40,cellheight:40,padx:0,pady:0,density:100,color:"ffffff",opacity:.7,shadow:0,time:.6,direction:"none",sequence:"none",radius:0,rotate:0},out:{opacity:0}},large_vanishing_bricks:{in:{enabled:!0,cellwidth:"/4",cellheight:"/4",padx:2,pady:2,density:100,color:"ffffff",opacity:.6,shadow:1,time:.8,direction:"rand",sequence:"rand",radius:0,rotate:0},out:{opacity:0}},small_vanishing_bricks:{in:{enabled:!0,cellwidth:"/10",cellheight:"/10",padx:2,pady:2,density:100,color:"ffffff",opacity:.6,shadow:1,time:.8,direction:"rand",sequence:"rand",radius:0,rotate:0},out:{opacity:0}},large_falling_bricks:{in:{enabled:!0,cellwidth:"/4",cellheight:"/4",padx:2,pady:2,density:100,color:"ffffff",opacity:.6,shadow:1,time:.8,direction:"none",sequence:"random",radius:0,rotate:0},out:{opacity:0,yoff:800}},small_falling_bricks:{in:{enabled:!0,cellwidth:"/12",cellheight:"/12",padx:2,pady:2,density:100,color:"ffffff",opacity:.6,shadow:1,time:.8,direction:"none",sequence:"random",radius:0,rotate:0},out:{opacity:0,yoff:800}},crazy_blocks:{in:{enabled:!0,cellwidth:"/8",cellheight:"/8",padx:2,pady:2,density:100,color:"ffffff",opacity:.6,shadow:0,time:.8,direction:"none",sequence:"random",radius:0,rotate:0},out:{opacity:0,xoff:"rand*600",yoff:"rand*600"}},rotary_unveil:{in:{enabled:!0,cellwidth:"/1",cellheight:"/1",padx:0,pady:0,density:100,color:"ffffff",opacity:1,shadow:1,time:.6,direction:"ctr",sequence:"",radius:0,rotate:0},out:{opacity:.5,rotate:"rand*360"}},centered_unveil:{in:{enabled:!0,cellwidth:"/1",cellheight:"/1",padx:0,pady:0,density:100,color:"ffffff",opacity:1,shadow:1,time:.6,direction:"ctr",sequence:"",radius:0,rotate:0},out:{opacity:.5}},extra_large_window_crash:{in:{enabled:!0,cellwidth:"/3",cellheight:"/3",padx:2,pady:2,density:100,color:"ffffff",opacity:1,shadow:1,time:.6,direction:"none",sequence:"random",radius:0,rotate:0},out:{opacity:0,xoff:"rand*600",yoff:"rand*600",rotate:"rand*180"}},large_window_crash:{in:{enabled:!0,cellwidth:"80",cellheight:"80",padx:2,pady:2,density:100,color:"ffffff",opacity:1,shadow:1,time:.6,direction:"none",sequence:"random",radius:0,rotate:0},out:{opacity:0,xoff:"rand*600",yoff:"rand*600",rotate:"rand*180"}},small_window_crash:{in:{enabled:!0,cellwidth:"50",cellheight:"50",padx:2,pady:2,density:100,color:"ffffff",opacity:1,shadow:1,time:.8,direction:"none",sequence:"random",radius:0,rotate:0},out:{opacity:0,xoff:"rand*600",yoff:"rand*600",rotate:"rand*180"}},extra_large_square_rubik:{in:{enabled:!0,cellwidth:"/3",cellheight:"/3",padx:2,pady:2,density:100,color:"ffffff",opacity:.6,shadow:1,time:.6,direction:"none",sequence:"rand",radius:0,rotate:0},out:{opacity:0}},large_square_rubik:{in:{enabled:!0,cellwidth:"80",cellheight:"80",padx:2,pady:2,density:100,color:"ffffff",opacity:1,shadow:1,time:.6,direction:"none",sequence:"random",radius:0,rotate:0},out:{opacity:0}},small_square_rubik:{in:{enabled:!0,cellwidth:"40",cellheight:"40",padx:2,pady:2,density:100,color:"ffffff",opacity:1,shadow:1,time:.6,direction:"none",sequence:"random",radius:0,rotate:0},out:{opacity:0}},large_random_rubik:{in:{enabled:!0,cellwidth:"rand*80",cellheight:"rand*80",padx:3,pady:3,density:100,color:"ffffff",opacity:.7,shadow:1,time:.6,direction:"rand",sequence:"asone",radius:10,rotate:0},out:{opacity:.2}},small_random_rubik:{in:{enabled:!0,cellwidth:"rand*40",cellheight:"rand*40",padx:3,pady:3,density:100,color:"ffffff",opacity:.7,shadow:1,time:.6,direction:"rand",sequence:"asone",radius:10,rotate:0},out:{opacity:.2}},crazy_bees:{in:{enabled:!0,cellwidth:"/16",cellheight:"/16",padx:5,pady:5,density:20,color:"ffffff",opacity:.5,shadow:2,time:.6,direction:"ctr",sequence:"random",radius:10,rotate:0},out:{xoff:"rand*600",yoff:"rand*600"}},small_dominos:{in:{enabled:!0,cellwidth:"rand*12",cellheight:"/16",padx:2,pady:2,density:100,color:"ffffff",opacity:.6,shadow:1,time:.6,direction:"ctr",sequence:"up",radius:0,rotate:0},out:{rotate:180,shadow:5,opacity:0}},large_dominos:{in:{enabled:!0,cellwidth:"rand*30",cellheight:"/8",padx:2,pady:2,density:100,color:"ffffff",opacity:.5,shadow:1,time:.6,direction:"ctr",sequence:"down",radius:0,rotate:0},out:{rotate:-180,shadow:5,opacity:0}},random_vert_blinds:{in:{enabled:!0,cellwidth:"rand*30",cellheight:"/1",padx:1,pady:0,density:100,color:"ffffff",opacity:.5,shadow:0,time:.6,direction:"hctr",sequence:"random",radius:0,rotate:0},out:{opacity:.1}},vert_curtain_up:{in:{enabled:!0,cellwidth:"50",cellheight:"/1",padx:1,pady:0,density:100,color:"ffffff",opacity:.5,shadow:0,time:.6,direction:"up",sequence:"asone",radius:0,rotate:0},out:{opacity:.1}},vert_curtain_down:{in:{enabled:!0,cellwidth:"50",cellheight:"/1",padx:1,pady:0,density:100,color:"ffffff",opacity:.5,shadow:0,time:.6,direction:"down",sequence:"asone",radius:0,rotate:0},out:{opacity:.1}},vert_blinds:{in:{enabled:!0,cellwidth:"50",cellheight:"/1",padx:1,pady:0,density:100,color:"ffffff",opacity:.5,shadow:0,time:.6,direction:"hctr",sequence:"asone",radius:0,rotate:0},out:{opacity:.1}},large_circular_shots:{in:{enabled:!0,cellwidth:"50",cellheight:"50",padx:"rand*20",pady:"equal",density:20,color:"ffffff",opacity:.6,shadow:1,time:.7,direction:"ctr",sequence:"random",radius:50,rotate:0},out:{padx:10,pady:10,xoff:0,opacity:.1}},small_circular_shots:{in:{enabled:!0,cellwidth:"20",cellheight:"20",padx:"rand*5",pady:"equal",density:10,color:"ffffff",opacity:.6,shadow:1,time:.7,direction:"ctr",sequence:"random",radius:10,rotate:0},out:{padx:10,pady:10,xoff:0,opacity:.1}},large_square_shots:{in:{enabled:!0,cellwidth:50,cellheight:50,padx:"rand*20",pady:"equal",density:25,color:"ffffff",opacity:.7,shadow:1,time:.7,direction:"ctr",sequence:"random",radius:0,rotate:0},out:{padx:10,pady:10,xoff:0,opacity:.1}},small_square_shots:{in:{enabled:!0,cellwidth:20,cellheight:20,padx:"rand*7",pady:"equal",density:10,color:"ffffff",opacity:.7,shadow:1,time:.7,direction:"ctr",sequence:"random",radius:0,rotate:0},out:{padx:10,pady:10,xoff:0,opacity:.1}},small_bubbles:{in:{enabled:!0,cellwidth:"20",cellheight:"20",padx:"rand*8",pady:"equal",density:15,color:"ffffff",opacity:.6,shadow:1,time:.7,direction:"ctr",sequence:"random",radius:20,rotate:0},out:{yoff:-400,opacity:.1}},large_bubbles:{in:{enabled:!0,cellwidth:"50",cellheight:"50",padx:"rand*20",pady:"equal",density:20,color:"ffffff",opacity:.6,shadow:1,time:.6,direction:"ctr",sequence:"random",radius:50,rotate:0},out:{yoff:-600,opacity:.1}},white_snow:{in:{enabled:!0,cellwidth:"30",cellheight:"30",padx:12,pady:12,density:30,color:"ffffff",opacity:.9,shadow:1,time:.6,direction:"ctr",sequence:"random",radius:0,rotate:45},out:{}},small_diamonds:{in:{enabled:!0,cellwidth:"/8",cellheight:"/10",padx:0,pady:0,density:100,color:"ffffff",opacity:.8,shadow:0,time:1,direction:"ctr",sequence:"asone",radius:0,rotate:0},out:{}},big_diamonds:{in:{enabled:!0,cellwidth:"/8",cellheight:"/10",padx:0,pady:0,density:100,color:"ffffff",opacity:.8,shadow:0,time:1,direction:"ctr",sequence:"asone",radius:0,rotate:0},out:{}},rotating_lines:{in:{enabled:!0,cellwidth:"rand*10",cellheight:"/1",padx:8,pady:0,density:20,color:"ffffff",opacity:.6,shadow:1,time:.6,direction:"ctr",sequence:"random",radius:5,rotate:45},out:{rotate:-45}}},fmp_sa_abfx_ck=function(a,b){return function(c){function d(a){n.logger.writex({msg:a,prefix:"fmp_sa_abfx_ck",inst:t})}function e(a){function c(a){function c(){var a=[];for(var c in b)a.push(c);return a[Math.floor(Math.random()*a.length)]}return"rand"!==a?a:c()}var d=g();if(w=d,x=d,void 0!==s&&void 0!==s[a]){var e=s[a].fx_ck;if(void 0!==e){var f=c(e),h=b[f];if(void 0!==h){if(void 0!==h.in){var i=Object.assign({},h.in),j=s[a].fx_ck_color;void 0!==j&&(i.color=j);var k=s[a].fx_ck_opac;void 0!==k&&(i.opacity=parseFloat(k)),w=u.objxt(d,i)}if(void 0!==h.out){var l=Object.assign({},h.out);x=u.objxt(d,l)}}}}}function f(){return!0!==w.enabled?"":(v=h(),i("inb"))}function g(){return{enabled:!1,cellwidth:80,cellheight:80,density:100,color:"ffffff",opacity:1,radius:0,shadow:0,padx:0,pady:0,rotate:0,sequence:"random",direction:"",time:1,xoff:0,yoff:0}}function h(){function a(a){if("number"==typeof a)return a;if("string"!=typeof a)return a;var b=parseInt(a.replace("rand*",""));return!0===isNaN(b)?a:(Math.random()>.5?1:-1)*Math.round(Math.random()*b)}function b(a){if("rand"!==a)return a;var b=["up","down","left","right","hctr","vctr","ctr"];return b[Math.floor(Math.random()*b.length)]}function c(a){if("rand"!==a)return a;var b=["asone","right","down","left","up","in","out","random"];return b[Math.floor(Math.random()*b.length)]}function d(a){return Math.round(1e3*a)/1e3}function e(a,b){var c="rand*",d=null;if("w"===b)var e=""+w.cellwidth;else var e=""+w.cellheight;var f=a/10;if(0===e.indexOf(c)){var g=parseInt(e.replace(c,""));!1===isNaN(g)&&(d=g)}else if(0===e.indexOf("/")){var h=parseInt(e.substring(1));!1===isNaN(h)&&(f=a/h)}else{var i=parseInt(e);!1===isNaN(i)&&(f=i)}for(var j,k=[],l=0,m=.8,n=0;n<1e3&&(k.push(l),null!==d&&(j=Math.random()>.5?1:-1,f=d*(1+j*m*Math.random())),!((l+=f)>=a));n++);return k}function f(a,b,c){function d(a,b){for(var c=[],d=0;d<a;d++)c.push(0);return c}function e(a,b,c){var d=[],e=c/b;if(!0===a)for(var f=0,g=0;g<b;g++)d.push(f),f+=e;else for(var f=c,g=0;g<b;g++)d.push(f),f-=e;return d}function f(a,b,c){var d=[],e=c/b;if(!0!==a)for(var f=0,g=!1,h=0;h<b;h++)!0===g?(d.push(f),g=!1):(d.unshift(f),g=!0),f+=e;else for(var f=c,h=0;h<b;h++)!0===g?(d.push(f),g=!1):(d.unshift(f),g=!0),f-=e;return d}function g(a,b){for(var c=[],d=[],e=b/a,f=0,g=0;g<a;g++)d.push({taken:!1,value:f}),f+=e;for(var h=1e3;h>0;){h--;var i=Math.floor(d.length*Math.random()),j=d[i];if(!0!==j.taken&&(j.taken=!0,c.push(j.value),c.length>=a))break}return c}var h=""+a;if("rand"===a){var i=["asone","right","down","left","up","in","out","random"];h=i[Math.floor(Math.random()*i.length)]}switch(h){case"asone":return d(b);case"right":case"down":return e(!0,b,c);case"left":case"up":return e(!1,b,c);case"in":case"out":return f("in"===h,b,c);default:return g(b,c)}}var g=e(q,"w"),h=e(r,"y"),i=g.length*h.length,j=w.time,k=c(w.sequence),l=w.direction,m=f(k,i,j),n=w.density/100;return checkArray=[],h.forEach(function(c,e){g.forEach(function(c,f){if(!(Math.random()>n)){var i,k,o,p;i=g[f],o=f<g.length-1?g[f+1]-g[f]:q-i,k=h[e],p=e<h.length-1?h[e+1]-h[e]:r-k;var s=checkArray.length,t=m[s],v=a(w.padx),y=a(w.pady);"equal"===w.pady&&(y=v);var z={idx:s,base:{left:d(i),top:d(k),width:d(o),height:d(p)},inb:{opacity:w.opacity,color:w.color,radius:w.radius,rotate:w.rotate,shadow:w.shadow,left:d(i+v),top:d(k+y),width:d(o-2*v),height:d(p-2*y),xoff:w.xoff,yoff:w.yoff,delay:t,time:j}};z.inb.left+=z.inb.xoff,z.inb.top+=z.inb.yoff;var A=u.objxt(z.inb,{opacity:0});switch(A=u.objxt(A,x),A.rotate=a(A.rotate),b(l)){case"up":A.height=0;break;case"down":A.top=z.inb.top+p,A.height=0;break;case"left":A.width=0;break;case"right":A.left=z.inb.left+o,A.width=0;break;case"hctr":A.left=z.base.left+o/2,A.width=0;break;case"vctr":A.top=z.base.top+p/2,A.height=0;break;case"ctr":A.left=z.base.left+o/2,A.top=z.base.top+p/2,A.width=0,A.height=0}A.left+=a(A.xoff),A.top+=a(A.yoff),z.outb=A,checkArray.push(z)}})}),checkArray}function i(a){function b(a,b){return'<div style="'+k(a)+'"></div>'}var c="";return v.forEach(function(d,e){c+=b(d[a],e)}),c}function j(a){var b=[];return v.forEach(function(c,d){var e=c[a],f=k(e);b.push(f)}),b}function k(a){function b(a){return Math.round(1e3*a)/1e3}function c(a){var b="";for(var c in a)void 0!==a[c]&&(b+=c+":"+a[c]+"; ");return b}function d(a){var b=""+a;return 0!==b.indexOf("#")&&(b="#"+a),b}var e={position:"absolute","background-color":d(a.color),"border-radius":a.radius+"px",opacity:a.opacity,left:b(a.left)+"px",top:b(a.top)+"px",width:b(a.width)+"px",height:b(a.height)+"px",transform:0!==a.rotate?"rotate("+a.rotate+"deg)":"none",transition:"all "+b(a.time)+"s","transition-delay":b(a.delay)+"s"};return a.shadow>0&&(e["box-shadow"]="0 0 "+a.shadow+"px "+a.shadow+"px "+d(a.color)),c(e)}function l(a){switch(z){case"INIT":if(!0!==p.onshow)break;if(!0!==p.visible)break;if(D=a,e("start"),!0!==w.enabled){z="RDY";break}A=a-1e4,z="ST_EFF_OUT";break;case"ST_EFF_OUT":if(a-A<w.time+2e3)break;var b=j("outb");o("ckOut",{stylesArray:b}),A=a,z="ST_WFNV";break;case"ST_WFNV":if(a-A<w.time+2e3)break;o("ckDestroy",{}),z="RDY";break;case"RDY":if(!0===p.hovering||!0===E){if(e(!0===p.hovering?"hover":"period"),_chkMarkUp=f(),""===_chkMarkUp)break;o("ckNew",{html:_chkMarkUp}),A=a,z="HV_EFF_OUT";break}break;case"HV_EFF_OUT":if(a-A<w.time)break;var b=j("outb");o("ckOut",{stylesArray:b}),A=a,z="HV_WFNV";break;case"HV_WFNV":if(a-A<w.time+2e3)break;o("ckDestroy",{}),D=a,A=a,z="HV_WFHO";break;case"HV_WFHO":if(!0===p.hovering||!0===E)break;D=a,A=a,z="RDY"}}var m=this,n=c.comps,o=(c.bootParams,c.sendSpecAdCmd),p=c.unitStatus,q=c.adWidth,r=c.adHeight,s=c.effects,t=Math.round(999*Math.random());d();var u=new a,v=[],w=g(),x=g();e("start");var y=f(),z="INIT",A=0,B=c.inTime,C=c.outTime,D=Date.now(),E=!1;m.genStartUpCheckers=function(){return y},m.updCntDims=function(a,b){q=a,r=b},m.tick=function(a){!0===E?a-D>B&&(E=!1,D=a):a-D>C&&(E=!0,D=a),l(a)}}}(textools,fmp_sa_abfx_ck_prst),fmp_sa_adbox_img=function(Config,TexTools,Abfx_Ck){return function(args){function _deltalog(a){_comps.logger.writex({msg:a,prefix:"fmp_sa_adbox_img",inst:_instnum})}function _mainProc(a){switch(_state_main){case"INIT":_state_main="PLAY";break;case"PLAY":if(!0!==_swipeCmd)break;_anchor_play=a,_state_main="SWIPE";break;case"SWIPE":if(a-_anchor_play<300)break;_master.fireEvent("adbxswipe"),_state_main="PLAY"}}function _genAdBoxVars(snippet){function myEval(argStr){try{return eval(argStr)}catch(a){return 0}}function getImgUrl(a,b){return"string"!=typeof a?null:"undefined"===a?null:"unspecified"===a?null:""===a?null:"none"===a?null:0===a.indexOf("http")?a:""+_protocolString+b+"/"+a}function createImageElement(a,b,c){var d=new Image(b,c);return d.setAttribute("id","imgElm"),d.onload=afterImgLoad,null!==a&&(d.src=a),d}function afterImgLoad(){var a=_genDisplayVars(_adbox_vars,args.width,args.height);_master.ssac("imgInfo",{displVars:a}),_adReady=!0}var effSnippet=""+snippet;effSnippet=effSnippet.replace("$fsadbox{data:",""),effSnippet=effSnippet.replace("}","");var adboxParams=_texTools.parseEncJSONData(effSnippet);if(null===adboxParams)return null;var image_path=Config.resourceLocations.flxSrvCrtvPath+"/imgs";"unspecified"!==adboxParams.imgpath&&""!==adboxParams.imgpath&&void 0!==adboxParams.imgpath&&(image_path=adboxParams.imgpath);var imgUrl=getImgUrl(adboxParams.url,image_path),imgElm=createImageElement(imgUrl,args.width,args.height),x_from=myEval(adboxParams.x_from);!0===isNaN(x_from)&&(x_from=0);var y_from=myEval(adboxParams.y_from);!0===isNaN(y_from)&&(y_from=0);var x_to=myEval(adboxParams.x_to);!0===isNaN(x_to)&&(x_to=0);var y_to=myEval(adboxParams.y_to);!0===isNaN(y_to)&&(y_to=0);var imgmode=adboxParams.imgmode;return{effects:adboxParams.effects,imgElm:imgElm,imgmode:imgmode,x_from:x_from,y_from:y_from,x_to:x_to,y_to:y_to}}function _genDisplayVars(a,b,c){var d=50,e=a.imgElm,f=e.naturalWidth,g=e.naturalHeight,h=b,i=c,j=a.x_from,k=a.y_from,l=a.x_to,m=a.y_to;0===l&&(l=f),0===m&&(m=g),j<0&&(j=0),k<0&&(k=0),l>f&&(l=f),m>g&&(m=g),l<j+d&&(l=j+d),m<k+d&&(m=k+d);var n=l-j,o=m-k,p=1,q=h/n,r=i/o;switch(a.imgmode){case"contain":p=q<r?q:r;break;case"cover":p=q>r?q:r}var s=-j*p-(n*p-h)/2,t=-k*p-(o*p-i)/2,u=f*p,v=g*p,w=u,x=v;return{imgElm:e,imgDivLeft:s,imgDivTop:t,imgDivWidth:w,imgDivHeight:x,imgWidth:u,imgHeight:v}}function _extractPeriodicTimes(a){return{inTime:_texTools.deepAccess(a,"effects.period.in.time",1e3),outTime:_texTools.deepAccess(a,"effects.period.out.time",4e3)}}function _instEffect_CK(a){return new Abfx_Ck({comps:args.comps,cllBks:args.cllBks,bootParams:args.bootParams,sendSpecAdCmd:_master.ssac,unitStatus:_unitStatus,inTime:a.inTime,outTime:a.outTime,adWidth:args.width,adHeight:args.height,effects:_adbox_vars.effects})}function _winMsgFunc(a){if(null!==_adbox_vars)try{var b=JSON.parse(a.data);if("click"===b.cmd){if(b.adId!==_lwAdId)return;return void _master.fireEvent("adbxclick")}if("swipe"===b.cmd){if(b.adId!==_lwAdId)return;return void(_swipeCmd=!0)}}catch(a){return}}function _unloadFunc(){window.removeEventListener("message",_winMsgFunc),window.removeEventListener("unload",_unloadFunc)}function _buildAd(){var a=_fx_Checker.genStartUpCheckers(),b="";return b+="<script>",b+="function clickProcess () {",b+='window.parent.postMessage(JSON.stringify({ cmd : "click", adId : '+_lwAdId+' }), "*");',b+="}",b+='window.document.body.addEventListener("click", clickProcess);',b+="var moving = null;",b+="var firstX = 0;",b+="var orgCoords = null;",b+="var curCoords = null;",!0===_swipeClose&&(b+='window.document.body.addEventListener("touchstart", touchStartProcess);',b+='window.document.body.addEventListener("touchmove", touchMoveProcess);',b+='window.document.body.addEventListener("touchend", touchEndProcess);'),b+="function touchStartProcess (event) {",b+='console.log("WQAWQA touch start");',b+="moving = event.target;",b+="moving.style.height = moving.clientHeight;",b+="moving.style.width = moving.clientWidth;",b+='moving.style.position = "fixed";',b+="firstX = event.changedTouches[0].clientX;",b+="}",b+="function touchMoveProcess (event) {",b+='console.log("WQAWQA touch move");',b+="var newLeft = event.changedTouches[0].clientX - firstX;","right"===_swipeMode&&(b+="if(newLeft < 0) newLeft = 0;"),"left"===_swipeMode&&(b+="if(newLeft > 0) newLeft = 0;"),b+="moving.style.left = newLeft;",b+="moving.style.top = 0;",b+="if(orgCoords === null) {",b+="orgCoords = { pageX : newLeft };",b+='console.log("WQAWQA ORIGINAL pageX: " + orgCoords.pageX);',b+="}",b+="else {",b+="curCoords = { pageX : newLeft };",b+='console.log("WQAWQA CURRENT pageX: " + curCoords.pageX);',b+="}",b+="}",b+="function touchEndProcess (event) {",b+='console.log("WQAWQA touch end");',b+="if(Math.abs(curCoords.pageX - orgCoords.pageX) > 10) {",b+='console.log("WQAWQA WIPE DETECTED");',b+='moving.style["transition-duration"] = "0.3s";',b+="if(curCoords.pageX > orgCoords.pageX) {",b+="moving.style.left = document.body.clientWidth;",b+="}",b+="else {",b+="moving.style.left = -document.body.clientWidth;",b+="}",b+='window.parent.postMessage(JSON.stringify({ cmd : "swipe", adId : '+_lwAdId+' }), "*");',b+="}",b+="else {",b+="moving.style.left = 0;",b+="moving.style.top = 0;",b+='moving.style.position = "absolute";',b+="}",b+="orgCoords = null;",b+="}",b+="window._fbcmd = function (cmd, data) {",b+='if(cmd === "imgInfo") {',b+="buildImgHTML(data); ",b+="setSize(data)",b+="}",b+='else if(cmd === "ckNew") {',b+='var contElm = document.getElementById("'+_checkerWrapper+'");',b+="if(contElm === null) return;",b+="fillContainer(contElm, data.html);",b+="}",b+='else if(cmd === "ckOut") {',b+="setChkStyles(data.stylesArray);",b+="}",b+='else if(cmd === "ckDestroy") {',b+='var contElm = document.getElementById("'+_checkerWrapper+'");',b+="if(contElm === null) return;",b+="emptyContainer(contElm);",b+="}",b+='else if(cmd === "setImgStyle") {',b+="setKbStyles(data.styleString);",b+="}",b+='else if(cmd === "newSize") {',b+="setSize(data)",b+="}",b+="};",b+="function outConsole (msg) {",b+="return;",b+='console.log("KBEKBE " + msg);',b+="}",b+="function addClass (elem, newClass) {",b+='var clazz = "" + elem.className;',b+="if(clazz.indexOf(newClass) >= 0) return;",b+='clazz += " " + newClass;',b+='clazz = clazz.replace(/s{2}/gm, " ");',b+="elem.className = clazz;",b+="}",b+="function removeClass (elem, lessClass) {",b+='\tvar clazz = "" + elem.className;',b+="\tif(clazz.indexOf(lessClass) < 0) return;",b+='\tclazz = clazz.replace(lessClass, "");',b+='\tclazz = clazz.replace(/s{2}/gm, " ");',b+="\tif(clazz.length > 0) {",b+='\t\tif(clazz.charAt(clazz.length-1) == " ")',b+="\t\t\tclazz = clazz.substring(0, clazz.length-1);",b+="\t}",b+='\telem.className = "" + clazz;',b+="}",b+="function setKbStyles (styleString) {",b+='\tvar contElm = document.getElementById("imgBox");',b+="\tif(contElm === null) return;",b+="\tcontElm.style.cssText = styleString;",b+="}",b+="function setChkStyles (stylesArray) {",b+='\tvar contElm = document.getElementById("'+_checkerWrapper+'");',b+="\tif(contElm === null) return;",b+="\tfor(var i = 0 ; i < contElm.childNodes.length ; i++) {",b+="\t\tvar auxNode = contElm.childNodes[i];",b+="\t\tvar chkStyleString = stylesArray[i];",b+='\t\tif(typeof chkStyleString === "undefined") continue;',b+="\t\tauxNode.style.cssText = chkStyleString;",b+="\t}",b+="}",b+="function fillContainer (targetElm, html) {",b+='\tvar auxElm = document.createElement("div");',b+="\tauxElm.innerHTML = html;",b+="\tvar loopCount = 0;",b+="\twhile(loopCount < 1000) {",b+="\t\tloopCount++;",b+="\t\tvar auxChild = auxElm.firstChild;",b+="\t\ttargetElm.appendChild(auxChild);",b+="\t\tif(auxElm.children.length <= 0) break;",b+="\t}",b+="}",b+="function emptyContainer (target_element) {",b+="\tvar loopCount = 0;",b+="\twhile(target_element.firstChild && loopCount < 10000) {",b+="\t\tloopCount++;",b+="\t\ttarget_element.removeChild(target_element.firstChild);",b+="\t}",b+="}",b+="var htmlBuilt = false;",b+="function buildImgHTML (data) {",b+="if(htmlBuilt !== false) return; ",b+="var displVars = data.displVars; ",b+='var wrapperElm = document.getElementById("imgWrp"); ',b+="if(wrapperElm === null) return; ",b+='var imgDivElm = document.createElement("div"); ',b+='imgDivElm.setAttribute("id", "imgDiv"); ',b+="imgDivElm.appendChild(displVars.imgElm); ",b+="wrapperElm.insertBefore(imgDivElm, wrapperElm.firstChild); ",b+='var checkerElm = document.createElement("div"); ',b+='checkerElm.setAttribute("id", "'+_checkerWrapper+'"); ',b+="checkerElm.innerHTML = '"+a+"'; ",b+="wrapperElm.appendChild(checkerElm); ",b+="htmlBuilt = true; ",b+="}",b+="function setSize (data) {",b+="var displVars = data.displVars;",b+='\tvar imgDivElm = document.getElementById("imgDiv");',b+="\tif(imgDivElm === null) return;",b+='\tvar checkerElm = document.getElementById("'+_checkerWrapper+'");',b+="\tif(checkerElm === null) return;",b+='\tvar imgElm = document.getElementById("imgElm");',b+="\tif(imgElm === null) return;",b+="\tvar imgDivCssObj = {",b+='\t\tposition : "absolute", ',b+='\t\toverflow : "hidden", ',b+='\t\tleft : displVars.imgDivLeft + "px", ',b+='\t\ttop : displVars.imgDivTop + "px", ',b+='\t\twidth : displVars.imgDivWidth + "px", ',b+='\t\theight : displVars.imgDivHeight + "px", ',b+="\t};",b+="\timgDivElm.style.cssText = generateStyleString(imgDivCssObj); ",b+="\tvar checkerElmCssObj = {",b+='\t\tposition : "absolute", ',b+='\t\toverflow : "hidden", ',b+='\t\t"pointer-events" : "none", ',b+="\t\tleft : 0, ",b+="\t\ttop : 0, ",b+='\t\twidth : "100%", ',b+='\t\theight : "100%", ',b+="\t};",b+="\tcheckerElm.style.cssText = generateStyleString(checkerElmCssObj); ",b+='\timgElm.setAttribute("width", displVars.imgWidth); ',b+='\timgElm.setAttribute("height", displVars.imgHeight); ',b+="}",b+="function generateStyleString (stylesObj) {",b+='\tvar cssString = "", auxStr;',b+="\tfor(var key in stylesObj) {",b+='\t\tif(typeof stylesObj[key] === "undefined") continue;',b+='\t\tauxStr = key + ":" + stylesObj[key] + "; ";',b+="\t\tcssString += auxStr;",b+="\t}",b+="\treturn cssString; ",b+="}",b+="<\/script>",b+='<style type="text/css">\r',b+="body { margin:0; }\r",b+=".wrapper { background: transparent; position:absolute; left:0; top:0; margin:0; cursor: pointer;",b+=" width:100%; height:100%; "+_adbox_vars.bkgStyle+" }\r",b+="."+_checkerWrapper+" { position:absolute; left:0; top:0; right:0; bottom:0; overflow:hidden; }\r",b+="</style>\r",b+="<a href='"+_protocolString+_link+"' target='_blank' style='position:absolute; width:100%; height:100%;'>",b+='<div id="imgWrp" class="wrapper" >',b+="</div>",b+="</a>"}var that=this,_master=args.master,_checkerWrapper="checker_wrapper",_comps=args.comps,_cllBks=args.cllBks,_bootParams=args.bootParams,_instnum=Math.round(999*Math.random());_deltalog();var _lwAdId=Math.round(999999999*Math.random()),_texTools=new TexTools,_adWidth=args.width,_adHeight=args.height,_unitName=args.unitName,_link=args.unitAttributes.link,_protocolString="http://";!0===_bootParams.secProt&&(_protocolString="https://");var _swipeClose=args.unitAttributes.swipe_close,_swipeMode=args.unitAttributes.swipe_mode,_swipeCmd=!1,_lwad_viewReported=!1,_lwad_clickReported=!1,_lwad_errorReported=!1,_state_main="INIT",_anchor_play=0,_playOn=!1,_imgLoaded=!1,_unitStatus={started:!1,visible:!1,onshow:!1,hovering:!1,timeout:!1},_adReady=null,_adbox_vars=_genAdBoxVars(args.snippet);if(_deltalog("PLMPLM - debug - "+JSON.stringify({_unitName:_unitName,_adWidth:_adWidth,_adHeight:_adHeight,_lwAdId:_lwAdId,_adbox_vars:_adbox_vars})),null!==_adbox_vars){console.log("QPLQPL _unitName: "+_unitName+" - _adbox_vars: "+JSON.stringify(_adbox_vars));var _periodTimes=_extractPeriodicTimes(_adbox_vars),_fx_Checker=_instEffect_CK(_periodTimes),_adMarkup=_buildAd();that.isReady=function(){return _adReady},that.getAM=function(){return!0!==_adReady?"NA":_adMarkup},that.isVarSize=function(){return!0},that.getDims=function(){return null===_adbox_vars?{}:{width:args.width,height:args.height}},that.notif=function(a,b){if(null!==_adbox_vars){switch(a){case"start":_unitStatus.started=!0;break;case"onshow":_unitStatus.onshow=!0;break;case"secLoad":_master.ssac("secLoad");break;case"visibOn":_unitStatus.visible=!0,_playOn=!0;break;case"visibOff":_unitStatus.visible=!1;break;case"hoverOn":_unitStatus.hovering=!0;break;case"hoverOff":_unitStatus.hovering=!1}_deltalog()}},that.updCntDims=function(a,b){_adWidth=a,_adHeight=b,null!==_fx_Checker&&_fx_Checker.updCntDims(a,b);var c=_genDisplayVars(_adbox_vars,a,b);_master.ssac("newSize",{displVars:c}),_deltalog()},that.tick=function(a){null!==_fx_Checker&&_fx_Checker.tick(a),_mainProc(a)},window.addEventListener("message",_winMsgFunc),window.addEventListener("unload",_unloadFunc)}}}(config,textools,fmp_sa_abfx_ck),fmp_sa_direct=function(a,b){return function(c){function d(a){n.logger.writex({msg:a,prefix:"fmp_sa_direct",inst:p})}function e(){var a=g(c.snippet);return"yes"!==a.check?null:(t=a.parsedObj,f())}function f(){var b="http://";(t.secure||o.secProt)&&(b="https://");var c=a.resourceLocations.fbDirectImgPath;"unspecified"!==t.imgpath&&""!==t.imgpath&&(c=t.imgpath);var d=(t.imgfile,""+b+c+"/"+t.imgfile),e="";return e+='<style type="text/css">',e+="img {  }",e+=".img_box { position:absolute; left:0; top:0; right:0; bottom:0; cursor:pointer; }",
e+='.img_box.show { background: url("'+d+'"); background-size:cover;  background-position:center; background-origin:padding-box; background-repeat:no-repeat; }',e+="</style>",e+="<script>",e+="window._fbcmd = function (cmd, data) {",e+='if(cmd === "visibOn") {',e+='var image_box_elm = document.getElementById("img_box");',e+='if(image_box_elm !== null) addClass(image_box_elm, "show");',e+="}",e+="};",e+="function addClass (elem, newClass) {",e+='var clazz = "" + elem.className;',e+="if(clazz.indexOf(newClass) >= 0) return;",e+='clazz += " " + newClass;',e+='clazz = clazz.replace(/s{2}/gm, " ");',e+="elem.className = clazz;",e+="}",e+="function removeClass (elem, lessClass) {",e+='\tvar clazz = "" + elem.className;',e+="\tif(clazz.indexOf(lessClass) < 0) return;",e+='\tclazz = clazz.replace(lessClass, "");',e+='\tclazz = clazz.replace(/s{2}/gm, " ");',e+="\tif(clazz.length > 0) {",e+='\t\tif(clazz.charAt(clazz.length-1) == " ")',e+="\t\t\tclazz = clazz.substring(0, clazz.length-1);",e+="\t}",e+='\telem.className = "" + clazz;',e+="}",e+="<\/script>","unspecified"!==t.link?(e+="<a href='"+b+t.link+"' target='_blank' >",e+="<div id='img_box' class='img_box' >",e+="</div>",e+="</a>"):(e+="<div id='img_box' class='img_box' >",e+="</div>"),e}function g(a){var c={check:"no",parsedObj:{}},d="$fbdirect",e={type:{type:"string",defvalue:"img"},imgpath:{type:"string"},imgfile:{type:"string",req:!0},link:{type:"string"},secure:{type:"boolean",defvalue:!1}};if(a.indexOf(d)<0)return c;var f=""+a;f=f.replace(d,"");var g=f.indexOf("{");if(g<0)return c;f=f.substring(g+1);var h=f.indexOf("}");if(h<0)return c;f=f.substring(0,h);var i=new b,j=i.parse(f,e);return"ok"!==j.stat?c:(c.check="yes",c.parsedObj=j.parsedObj,c)}function h(a,b){switch(a){case"visibOn":m.ssac("visibOn");break;case"imp":i();break;case"click":j();break;case"error":k()}}function i(){if(!0!==q){q=!0;var a="${"+o.placementId+"|*AllPlcms*}$",b=n.trackhub.sendEvent;b("fbdir_view",a+"/"+t.link+"/*AllFiles*","_s10 view "),b("fbdir_view",a+"/"+t.link+"/"+t.imgfile,"_s10 view "),b("fbdir_view",a+"/*AllTargets*/*AllFiles*","_s10 view ")}}function j(){if(!0!==r){r=!0;var a="${"+o.placementId+"|*AllPlcms*}$",b=n.trackhub.sendEvent;b("fbdir_click",a+"/"+t.link+"/*AllFiles*","_s20 click "),b("fbdir_click",a+"/"+t.link+"/"+t.imgfile,"_s20 click "),b("fbdir_click",a+"/*AllTargets*/*AllFiles*","_s20 click ")}}function k(a){if(!0!==s){s=!0;var b="${"+o.placementId+"|*AllPlcms*}$",c=n.trackhub.sendEvent;c("fbdir_error",b+"/"+t.link+"/*AllFiles*","_s30 error "+a),c("fbdir_error",b+"/"+t.link+"/"+t.imgfile,"_s30 error "+a),c("fbdir_error",b+"/*AllTargets*/*AllFiles*","_s30 error "+a)}}var l=this,m=c.master,n=c.comps,o=(c.cllBks,c.bootParams),p=Math.round(999*Math.random());d();var q=!1,r=!1,s=!1,t={},u=null;l.isReady=function(){return!0},l.getAM=function(){return u},l.isVarSize=function(){return!1},l.notif=function(a,b){return h(a,b)},l.tick=function(a){},l.getParams=function(){return t},u=e()}}(config,textools),fmp_mediadrv_vast=function(a,b,c,d,e){return function(c){function f(a){V.logger.writex({msg:a,prefix:"fmp_mediadrv_vast",inst:Z})}function g(a,b){V.logger.debugAlert(a,b)}function h(a,b){c.master.fireEvent(a,b)}function i(a){function b(a){var b=a-_,c=Math.floor(b/1e3),d=b-1e3*c;return c=c<10?"0"+c:""+c,d=0===d?"000":d<10?"00"+d:d<100?"0"+d:""+d,c+"."+d}var c=b(Date.now());$.push(c+" - "+a)}function j(a,b,c){V.trackhub.sendEvent("vast_l","/_s10 shell_evts"+a,b,c)}function k(a,b,d){j(a,b,d),j("/zz_by_tag/"+c.tagName+a,b,d)}function l(a){Ia=!0,Ja=Date.now(),f(),i("event: 'player ready'"),k("","_s12  <-- setup_ok")}function m(a){Ha=!0,f(),i("event: 'player setup error'"),k("","_s30  <-- error: setup"),h("playerror",{segID:ea,tagname:ga,msg:"setup_error"}),S("setup_error","setup_error"),Q("setup_error",sa)}function n(a){Ca=!0,f(),i("event: 'player removed'")}function o(a){f(),i("event: 'before play'")}function p(a){f(),i("event: 'player play'")}function q(a){Na=!0,h("mediaEnd",{segID:ea,tagname:ga}),f(),i("event: 'media complete'")}function r(a){Ba=!0,f(),i("event: 'player idle'")}function s(a){f(),i("event: 'buffer'")}function t(a){f(),i("event: 'first frame'")}function u(a){f(),i("event: 'error'")}function v(a){f(),i("event: 'Ad Started'"),k("","_s20  <-- ad_started",{res:"hi"})}function w(a){function b(){La=!0,ta=Date.now()-va,f(),i("event: 'procPassback'"),h("post_passback",{segID:ea,tagname:ga,delay:ta,msg:l})}function c(a,b,c){Ha=!0,h("playerror",{segID:ea,tagname:ga,msg:a}),k("","_s34  <-- error: ad_exec"),k("/ad_error_msgs",a+" ["+b+"]"),void 0!==c.passIdx&&c.passIdx>0?(S(a,"error_ad_exec_ind"),Q("ad_exec_ind",{execdata:sa,msg:a,xmsg:b,params:c})):(S(a,"error_ad_exec_dir"),Q("ad_exec_dir",{execdata:sa,msg:a,xmsg:b,params:c}))}function d(a){ua.push(a)}function e(a){var b=!0;return ua.forEach(function(c){c==a&&(b=!1)}),b}var g=(a.tag,a.data),j="NA";void 0!==g&&void 0!==g.data&&(j=""+g.data),f(),i("event: 'adError' - msg: "+j);try{var l=a.message.toLowerCase()}catch(a){var l=""}var l=l.replace(/\s+/g,"_");if(f(),i("event: 'adError' - msg (int): "+l),!0===Ga&&h("adImprEnd",{}),!0===e(l)){switch(d(l),l){case"ad_tag_empty":La=!0,ta=Date.now()-va,f(),i("event: '"+l+"'"),h("no_content",{segID:ea,tagname:ga,delay:ta,msg:l}),k("","_s40  <-- notif: ad_tag_empty");break;case"post_passback":k("","_s44  <-- notif: post_pb"),b();break;case"no_compatible_creatives":k("","_s42  <-- notif: no_comp_crtvs");var m=""+a.creativetype;m=m.replace(/([\/])/g,"_"),k("/no_comp_crtvs_det",m),b();break;case"error_loading_ad_tag":case"invalid_ad_tag":case"error_playing_creative":c(l,j,a);break;default:c(l,"other_msg",a)}k("/ad_bounce__times",(Date.now()-va)/1e3,{scl:"longtimes"})}}function x(a){Na=!0,h("mediaEnd",{segID:ea,tagname:ga}),f(),i("event: 'ad complete'"),!0===Ga&&h("adImprEnd",{}),S("ad_complete","ad_complete"),Q("ad_complete",{execdata:sa})}function y(a){if(!0!==Ga){Ga=!0,h("adShown");var b=Date.now(),d=b-wa;gb={unitfbxID:c.unitfbxID,segID:ea,tagname:ga,impdata:{impDelay:d,adsystem:a.adsystem,adtitle:a.adtitle,id:a.id,client:a.client,creativetype:a.creativetype,adfile:a.mediafile.file,vastversion:a.vastversion}},h("adImpression",gb),f(),i("player started"),k("","_s22  <-- ad_imp",{res:"hi"});var e="/ad_imp_data";k(e+"/adsys_title",a.adsystem+" - "+a.adtitle,{res:"hi"}),k(e+"/creat_type",a.creativetype,{res:"hi"}),k(e+"/files",a.mediafile.file,{res:"hi"}),k(e+"/tags",a.mediafile.tag,{res:"hi"}),k(e+"/vast_ver",a.vastversion,{res:"hi"}),k(e+"/wrapper",""!==a.wrapper?a.wrapper:"NA",{res:"hi"}),S("ad_impression","ad_impression"),Q("ad_impression",{execdata:sa,_impressionData:gb,params:a})}}function z(a){!0!==Fa&&(Fa=!0,wa=Date.now(),cb=0,db=!1,xa.pause(!0),hb={segID:ea,tagname:ga,plydata:{client:a.client,creativetype:a.creativetype,id:a.id,tag:a.tag}},h("adPlaying",hb),f(),i("event: 'Ad Play'"),k("","_s23  <-- ad_play (all formats)",{res:"hi"}))}function A(a){function b(){var a=null;switch(Qa){case"IDLE":if(!0!==Ga)break;a="video_impression",Qa="WF_05";break;case"WF_05":if(Oa/Pa<.05)break;a="video_start",h("adProg",{pos:0}),Qa="WF_25";break;case"WF_25":if(Oa/Pa<.25)break;a="video_firstQuartile",h("adProg",{pos:25}),Qa="WF_50",k("","_s52  <-- q1",{res:"hi"});break;case"WF_50":if(Oa/Pa<.5)break;a="video_midpoint",h("adProg",{pos:50}),Qa="WF_75",k("","_s54  <-- q2",{res:"hi"});break;case"WF_75":if(Oa/Pa<.75)break;a="video_thirdQuartile",h("adProg",{pos:75}),Qa="WF_95",k("","_s56  <-- q3",{res:"hi"});break;case"WF_95":if(Oa/Pa<.95)break;a="video_complete",h("adProg",{pos:100}),Qa="PARK",k("","_s58  <-- q4",{res:"hi"})}null!==a&&h("vast_tracking",{eventName:a,tagname:ga})}if(f(),Oa=a.position,Pa=a.duration,b(),!0!==Ea){Ea=!0,f(),i("ad playing"),k("","_s50  <-- playing",{res:"hi"});k("/ad_start__times",(Date.now()-va)/1e3,{scl:"longtimes"})}}function B(a){h("click",{segID:ea,tagname:ga}),f(),i("event: 'ad click'"),k("","_s60  <-- notif: ad click",{res:"hi"})}function C(a){f(),h("vast_tracking",a)}function D(a){f(),V.mailmaster.sendObj(a)}function E(a){f(),k("","_s14  <-- ussable_ads");try{var b=a.adMediaCase}catch(a){var b="NA"}k("","_s15  <-- media_case: "+b)}function F(a){f(),k("","_s16  <-- ad_loaded",{res:"hi"}),h("adLoaded",a)}function G(a){f(),k("","_s17  <-- no_ads")}function H(a){f(),k("","_s19  <-- no_usable_ads")}function I(a){f(),h("vp_wdog",{event:a.event,data:a.data})}function J(a){!0!==eb&&null!==wa&&(a-wa<1e3||!0===Fa&&(cb++,wa=a,null!==sa&&cb>=sa.maxtime&&(db=!0)))}function K(a){if("jw"===Ra&&!0!==Ka&&!0!==Fa&&null!==wa&&!(a-wa<b.media.impressionTO)){Ha=!0,Ka=!0,h("playerror",{segID:ea,tagname:ga,msg:"play_timeout"});var c="play_timeout";f(),i("event: '"+c+"'"),k("","_s32  <-- error: ad_start"),S(c,"error_watchdog"),Q("watchdog",{execdata:sa,message:c}),g("Media Driver Vast: ERROR","msg:"+c)}}function L(a){if(!(a-bb<100))switch(bb=a,_a){case"INIT":if(!0!==Ga)break;Xa=Ta,M(Xa),Wa=!0,_a="READY";break;case"READY":if(!0!==Va)break;_a=!0===Wa?"GOINGUP":"GOINGDOWN";break;case"GOINGUP":if(!0!==Va){_a="READY";break}if(!0!==Wa){_a="GOINGDOWN";break}if(Xa<$a&&(!0===Ua?Xa=$a:(Xa+=Ya)>$a&&(Xa=$a),M(Xa)),Xa===$a){Va=!1,_a="READY";break}break;case"GOINGDOWN":if(!0!==Va){_a="READY";break}if(!0===Wa){_a="GOINGUP";break}if(Xa>0&&(!0===Ua?Xa=0:(Xa-=Za)<0&&(Xa=0),M(Xa)),0===Xa){Va=!1,_a="READY";break}}}function M(a){if(null!==xa){var b=a;b>=100&&(b=100),b<=0&&(b=0);var c=b;"jw"===Ra&&"GOINGUP"===_a&&c<=3||(xa.setVolume(c),f())}}function N(a){switch(ya){case"INIT":if(!0!==za)break;f(),xa.remove(),ya="WAIT_REMOVED";case"WAIT_REMOVED":if(!0!==Ca)break;Da.push(xa),ib.empty(oa),sa=null,Aa=!0,f(),ya="PARK"}}function O(a){function b(a){function b(a){function b(a,b){if(""===b)return!1;if("*"===b)return!0;var c=!1,d=a.toLowerCase();return b.toLowerCase().split("|").forEach(function(a){!0!==c&&d.indexOf(a)>=0&&(c=!0)}),c}function c(a,b,c){if(null===a)return c;var d=a[b];return void 0!==d&&"unspecified"!==d?d:c}if(null===a)return{mail:{filter:"NA",reduc:1,send:!1},event:{filter:"NA",reduc:1,send:!1}};var d=new e,f=parseInt(c(a,"videoMailReduc",0)),g=c(a,"videoMailFiltr","unspecified"),h=!1,i=!1;!0===isNaN(f)&&(f=0),"dev"===W.env&&(f=1),f>=1&&!0===d.whirliGig(100/f)&&(h=!0),!0===h&&(i=b(ga,g));var j=h&&i,k=parseInt(c(a,"videoEvntReduc",0)),l=c(a,"videoEvntFiltr","unspecified"),m=!1,n=!1;return!0===isNaN(k)&&(k=0),"dev"===W.env&&(k=1),k>=1&&!0===d.whirliGig(100/k)&&(m=!0),!0===m&&(n=b(ga,l)),{mail:{filter:g,reduc:f,send:j},event:{filter:l,reduc:k,send:m&&n}}}function c(a,b,c){V.trackhub.sendEvent("vast_l","/***debug***/_s10 debug_prm"+a,b,c)}var d=b(a);return c("/_s10 mail/_s10 filtr",""+d.mail.filter),c("/_s10 mail/_s20 reduc","r="+d.mail.reduc),c("/_s10 mail/_s30 send",""+d.mail.send),c("/_s20 evnt/_s10 filtr",d.event.filter),c("/_s20 evnt/_s20 reduc","r="+d.event.reduc),c("/_s20 evnt/_s30 send",""+d.event.send),d}null===da&&!0===V.quickVars.isReady()&&(da=b(V.quickVars.getAllParams()))}function P(a){switch(ca){case"INIT":if(null===da)break;ca="MLP";case"MLP":aa.length>0&&T(aa.shift()),ba.length>0&&R(ba.shift())}}function Q(a,b){ba.push({event:a,dataObj:b})}function R(a){if(!0===da.event.send){f();var b={dataObj:a.dataObj};V.trackhub.sendEvent("vast_x","/***debug***/_s20 events/"+ga,a.event,{att:b})}}function S(a,b){aa.push({event:a,group:b})}function T(a){function b(a){return"fb"!==Ra?"DEBUG DATA NOT PROVIDED":xa.gdr(a)}if(!0===da.mail.send){var c=a.event,d=a.group,f="";void 0!==d&&(f=d);var g,h=new e;i("sending debug email...");var j="VIDEO DRIVER REPORT - ";j+=" - [filter: "+da.mail.filter,j+=" - valve_rd: "+da.mail.reduc+"]\n\n",j+="'msg': "+c+"\n",j+="'group': "+d+"\n\n",g=0,j+="impression data:\n",j+=h.printObj(g,gb,ra)+"\n\n\n",g=0,j+="play data:\n",j+=h.printObj(g,hb,ra)+"\n\n\n",g=0,j+="execdata:\n",j+=h.printObj(g,sa,ra)+"\n\n\n",g=0,j+="effective format:\n",j+=h.printObj(g,qa,ra)+"\n\n\n",j+="playPos: "+Oa+"\n",j+="endPos: "+Pa+"\n\n",j+="effSnippet:   "+U.effSnippet+"\n\n\n",j+="other data:\n\n",j+="playerError:  "+Ha+"\n",j+="playerReady:  "+Ia+"\n",j+="passbackDetected:  "+La+"\n",j+="wrapperDivID:  "+ja+"\n\n\n\n",j+=b(c);var k=c.replace(/\s+/g,"_"),l=ga+"  ("+k+" - "+f+")",m={debugStrings:$,from:"VIDEO_DRV",subject:l,text:j,sreduc:da.mail.reduc};V.mailmaster.sendObj(m)}}var U=this,V=(c.master,c.comps),W=c.bootParams,X=(c.unitDomElm,c.hostWnd),Y=(c.useLowRes,W.secProt),Z=Math.round(999*Math.random());f(),U.fireEvent=function(a,b){return h(a,b)};var $=[],_=Date.now(),aa=[],ba=[],ca="INIT",da=null;V.parcels.subscribe("audio",function(a){"btnact"===a.evt&&U.audio(a.status,!1)}),i("init");var ea=c.segmentID,fa=c.segmName,ga=c.tagName,ha=c.uniqueID,ia=c.unitfbxID,ja="fbvid_"+ha,ka=null,la=null,ma=null,na=c.main_wrapper_id,oa=c.containerClass,pa=c.vastCaller,qa={width:0,height:0},ra=2e3,sa=null,ta=null,ua=[],va=0,wa=null,xa=null,ya="INIT",za=!1,Aa=!1,Ba=!1,Ca=!1,Da=[],Ea=!1,Fa=!1,Ga=!1,Ha=!1,Ia=!1,Ja=null,Ka=!1,La=!1,Ma=!1,Na=!1,Oa=0,Pa=void 0,Qa="IDLE",Ra=c.vastDevice,Sa=(c.hasFlash,c.primaryMethod),Ta=0,Ua=!1,Va=!1,Wa=!0,Xa=0,Ya=b.media.audioSpeedUp,Za=b.media.audioSpeedDown,$a=b.media.audioMaxVol,_a="INIT",ab=!1,bb=0,cb=0,db=!1,eb=!1,fb=!0,gb=null,hb=null,ib=new a({hostWnd:X}),jb=null;k("","_s10  --\x3e inst"),U.tick=function(a){!0===ab&&(L(a),N(a),J(a),K(a),O(a),P(a))},U.openStat=function(){return null!==jb||null!==(jb=ib.setWrapperElement(na))},U.setupPlayer=function(a){va=Date.now(),sa=a,la=sa.ssname,ma=sa.shtagname,qa.width=a.width,qa.height=a.height,"unspecified"!==a.initvol&&(Ta=parseInt(a.initvol)),f();var b={playerWidth:qa.width,playerHeight:qa.height};if(U.effSnippet=V.macroproc.expand(sa.snippet,b),!0===Y&&(U.effSnippet=U.effSnippet.replace(/\bhttp:\/\//g,"https://")),""!==sa.width&&ib.width(oa,parseInt(sa.width)),""!==sa.height&&ib.height(oa,parseInt(sa.height)),ka=ib.insertWrapperDiv(oa,"forebase_vid_wrapper",c.segmName,ja,ea,ga),f(),"fb"===Ra){var e={comps:V,hostWnd:X,main_wrapper_id:na,domtool:ib,containerID:ja,playerWidth:qa.width,playerHeight:qa.height,startTime:c.startTime,secProt:Y,master:U,vastCaller:pa,uniqueID:ha,segmentID:ea,segmName:fa,tagname:ga,containerClass:oa,unitfbxID:ia,d:0};xa=new d(e),f(),i("using fb player")}else xa=X.jwplayer(ja),f(),i("using 3P player");var g="http://";!0===Y&&(g="https://");var h=g+W.dataRoot+"/adserve/resources/dummy.mp4",j=(W.dataRoot,{aspectratio:"16:9",mute:!1,controls:!1,repeat:!1,file:h,primary:Sa,width:qa.width,height:qa.height,advertising:{client:"vast",tag:U.effSnippet}});xa.setup(j),xa.setVolume(Ta),xa.on("ready",l),xa.on("setupError",m),xa.on("remove",n),xa.on("beforePlay",o),xa.on("play",p),xa.on("complete",q),xa.on("idle",r),xa.on("buffer",s),xa.on("firstFrame",t),xa.on("error",u),xa.on("adStarted",v),xa.on("adError",w),xa.on("adComplete",x),xa.on("adImpression",y),xa.on("adPlay",z),xa.on("adTime",A),xa.on("adClick",B),xa.on("fb_track",C),xa.on("fb_send_mail",D),xa.on("fb_usable_ads",E),xa.on("ad_loaded",F),xa.on("fb_no_ads",G),xa.on("fb_no_usable_ads",H),xa.on("fb_watchdog",I),ab=!0,f(),i("vast player set up ok")},U.clicknotif=function(a,b,c){!0===Ia&&!0!==Ma&&(Ma=!0,f(),h("click",{tagname:ga}))},U.isPlayerReady=function(){return Ia},U.isPlayerError=function(){return Ha},U.isPlayerPassback=function(){return La},U.getPassbackTime=function(){return ta},U.getUniqueID=function(){return ha},U.shouldProgress=function(){return null!==sa&&sa.mintime>0},U.isMediaEnd=function(){return Na},U.isPlayerPlaying=function(){return Fa},U.start=function(){xa.start(),k("","_s13  --\x3e start_cmd",{res:"hi"})},U.pause=function(a){"fb"===Ra&&(eb=a,xa.pause(a),!0===a?console.log("video paused"):console.log("video unpaused"))},U.rewind=function(a){},U.mute=function(a){fb=a},U.getProgress=function(){return"undefined"===Oa?0:"undefined"===Pa||0===Pa?0:100*Oa/Pa},U.getProgressAbs=function(){var a={curtime:0,reftime:0};return Oa>0&&"undefined"!==Pa&&Pa>0&&(a.curtime=Oa,a.reftime=Pa),a},U.isEnd=function(){return!1},U.getEstTimeToUnload=function(){return"undefined"===Oa?-1:"undefined"===Pa||0===Pa?-1:Oa-Pa},U.deletePlayer=function(){za=!0},U.checkDeleted=function(){return!0!==za||Aa},U.updCntDims=function(a,b,c){f(),null!==xa&&xa.resize(a,b)},U.audio=function(a,b){Ua=void 0!==_typeof(b)&&b,!0===a?(f(),Va=!0,Wa=!0,f()):(f(),Va=!0,Wa=!1,f())}}}(domtool,config,0,fb_videop_root,textools),fmp_mediadrv_custom=function(a,b,c){return function(a){function c(a){j.logger.writex({msg:a,prefix:"fmp_mediadrv_custom",inst:q})}function d(a,b,c,d){var e="stgexec_ll";!0===a&&(e="stgexec");var f=d||{};!0===m&&void 0===f.res&&(f.res="lo"),j.trackhub.sendEvent(e,"drv_cstm/${"+t+"|*AllLocs*}$/"+b,c,f)}function e(b,c){a.master.fireEvent(b,c)}function f(a){if(!0===O&&!0!==Q){j.msghub.unRegCst(f),Q=!0,K=Date.now()-J;e("passback",{wrapper:I,segID:u,tagname:w,delay:K,ver:"NA",path:"NA"}),c()}}function g(){function a(a){function b(a){null!==a.nodeName&&"SCRIPT"===a.nodeName.toUpperCase()&&(a.type&&"text/javascript"!==a.type||(a.innerHTML.length>0?e.push(a.innerHTML):a.src.length>0?c.push(a.src):d.push(a.dataset)))}var c=[],d=[],e=[],f=document.createElement("div");f.innerHTML=a;var g=document.createElement("div");g.setAttribute("data-segm",v),g.setAttribute("data-tag",w),o.appendChild(g);for(var h=0;h<100;){h++;var i=f.firstChild;if(b(g.appendChild(i)),f.children.length<=0)break}var j="\x3c!-- <<<<<< ";j+=g.innerHTML,j+=" >>>>>> --\x3e",g.innerHTML=j,d.forEach(function(a){function b(a,b){for(var c in b)a.setAttribute("data-"+c,b[c])}var c=document.createElement("script");c.setAttribute("type","text/javascript"),b(c,a),document.body.appendChild(c)}),e.forEach(function(a){eval.call(window,a)}),c.forEach(function(a){var b=document.createElement("script");b.setAttribute("type","text/javascript"),b.src=a,document.head.appendChild(b)})}j.msghub.regCst(p,f),a(H)}function h(a,b){var c="<script>";c+="",c+="<\/script>";var d={target_element:A,divClass:C,segmName:v,divID:B,segmentID:u,tagname:w,preScript:c,snippet:H,width:a,height:b},e=U.insertFIF(d);return e.style.display="table",e}var i=this,j=(a.master,a.comps),k=a.bootParams,l=(a.unitDomElm,a.hostWnd),m=a.useLowRes,n=(k.env,k.secProt),o=a.adPostContElm,p=a.packId,q=Math.round(999*Math.random());c();var r=[];r.push("init");var s=!1,t=k.placementId+"/"+a.tagName,u=a.segmentID,v=a.segmName,w=a.tagName,x=(a.adpName,a.unitName,a.unitfbxID,null),y=null,z=a.main_wrapper_id,A=a.containerClass,B=null,C="fb_cst_wrapper",D=null,E=null,F="",G=!1,H="",I=null,J=null,K=null,L=null,M=null,N=!1,O=!1,P=!1,Q=!1,R=!1,S=0,T=!1,U=new b({hostWnd:l}),V=null;i.openStat=function(){return null!==V||null!==(V=U.setWrapperElement(z))},i.setupPlayer=function(a){N=!1,O=!1,Q=!1,J=Date.now(),c(),E=a,I=E.uniqueID,x=E.ssname,y=E.shtagname,F=E.log,G=E.active,H=E.snippet;var b={playerWidth:E.width,playerHeight:E.height};if(H=j.macroproc.expand(H,b),!0===n&&(H=H.replace(/\bhttp:\/\//g,"https://")),""!==E.width&&U.width(A,parseInt(E.width)),""!==E.height&&U.height(A,parseInt(E.height)),B=I,"infif"===E.insmod)D=h(E.width,E.height);else{if("inpage"!==E.insmod)return c(),d(!0,"errors","_s30 unknown insertion mode ["+E.insmod+"]"),void(N=!0);g()}O=!0,c()},i.isPlayerReady=function(){return O},i.isPlayerError=function(){return N},i.isPlayerPassback=function(){return Q},i.getPassbackTime=function(){return K},i.getUniqueID=function(){return I},i.shouldProgress=function(){return null!==E&&E.mintime>0},i.isMediaEnd=function(){return!1},i.isPlayerPlaying=function(){return P},i.start=function(){d(!1,"errors","_s10 drv_start (ref)"),L=Date.now(),M=L,S=0,T=!1,P=!0},i.tick=function(a){!0===P&&(Date.now()-M<1e3||(S++,M=a,null!==E&&S>=E.maxtime&&(T=!0)))},i.pause=function(a){},i.rewind=function(a){},i.mute=function(a){},i.audio=function(a){},i.getProgress=function(){return 0},i.getProgressAbs=function(){return{curtime:0,reftime:0}},i.isEnd=function(){return!1},i.getEstTimeToUnload=function(){return-1},i.deletePlayer=function(){null!==D&&(U.remove(D),D=null),U.empty(A),P=!1,O=!1,E=null,c(),R=!0},i.checkDeleted=function(){return!0},i.sendDebugMail_Ext=function(a,b){function c(a){if(null===a)return"{null}";if(void 0===a)return"undefined";var b="";for(var c in a){var d=a[c];d=null===d?"null":void 0===d?"undefined":d.toString(),b+=c+" = "+d+"\n"}return b}if(!0!==s){s=!0,r.push("sending debug email...");var d="DISPAD DRIVER REPORT\n\n",d="Message:  ";d+=a+"\n\n",d+="Debug msg:  "+b+"\n\n",void 0!==a.stack&&(d+="\nStack:\n",d+=a.stack.toString()+"\n\n"),d+="execdata:\n\n",d+=c(E)+"\n\n",d+="effectiveFormat:\n\n",d+=c({width:E.width,height:E.height})+"\n\n",d+="effSnippet:   "+H+"\n\n\n",d+="other data:\n\n",d+="playerError:  "+N+"\n",d+="playerReady:  "+O+"\n",d+="passbackDetected:  "+Q+"\n",d+="wrapperDivID:  "+B+"\n",d+="wrapperDivElm:  "+i.wrapperDivElm+"\n\n";var e={debugStrings:r,from:"DRV_DISPAD",subject:"dispad_driver_error",text:d};j.mailmaster.sendObj(e)}}}}(0,domtool),fmp_mediadrv_dispadx=function(a,b,c){return function(c){function d(a){s.logger.writex({msg:a,prefix:"fmp_mdrv_dispadx",inst:z})}function e(a,b,c,d){var e="stgexec_ll";!0===a&&(e="stgexec");var f=d||{};!0===v&&void 0===f.res&&(f.res="lo"),s.trackhub.sendEvent(e,"drv_disp/${"+C+"|*AllLocs*}$/"+b,c,f)}function f(a,b){c.master.fireEvent(a,b)}function g(a){if(0!==sa.length&&null!==U){var b=U.contentWindow;if(null!==b&&"function"==typeof b._fbcmd){var c=sa.shift();b._fbcmd(c.cmd,c.data)}}}function h(a){u.document.activeElement!==V&&(V=u.document.activeElement)===U&&j()}function i(a){if(!0!==da&&!0!==ea&&!0!==ha){var b=aa;if(aa=!0,!0!==b)return ca=0,void(ba<Y&&++ba>=Y&&(f("actsenscont",{count:Y}),da=!0));ca++,!0!==_&&ca>$&&(_=!0,e(!0,"errors","_s20 act_sense_sign"),f("send_event",{subpath:"/drvr_msgs",evdata:"act_sense_signaled",hires:!0})),"wf"===M&&1==N&&ca>Z&&(ha=!0,f("playerror",{segID:D,tagname:F,msg:"error_active_sense"}),d(),e(!0,"errors","_s20 act_sense_error"),f("send_event",{subpath:"/drvr_msgs",evdata:"act_sense_error",hires:!0}))}}function j(){!0!==la&&(la=!0,d(),f("click",{tagname:F}))}function k(a,b){if(!0===ia&&!0!==ka){ka=!0,R=Date.now()-Q;var c="dir";"frm"===b?c="frm":"sbx"===b&&(c="sbx");f("passback",{wrapper:P,segID:D,tagname:F,delay:R,ver:a,path:c}),d()}}function l(a,b,c){!0!==q(99,4e3)&&(aa=!1)}function m(a,b){!1===ea&&(f("confmsg",{}),ea=!0)}function n(){var a="_fb_pbfld";void 0===window[a]&&(window[a]={}),window[a][J]=k;var b="_fb_asfld";void 0===window[b]&&(window[b]={}),window[b][J]=l;var c="_fb_cnfld";void 0===window[c]&&(window[c]={}),window[c][J]=m;var d="<script>";d+="window._forebase_pb_installed = true;",d+="window.fbPbClbck = function (ver, src) {",d+="var done = false;",d+="try {",d+="window.top."+a+"["+J+"](ver, src);",d+="done = true;",d+="}",d+="catch (e) {}",d+="if(done === true) return;",d+="try {",d+="window.parent."+a+"["+J+"](ver, src);",d+="}",d+="catch (e) {}",d+="};",d+="window.fbAsClbck = function (count, fbxID, frmSbx) {",d+="var done = false;",d+="try {",d+="window.top."+b+"["+J+"](count, fbxID, frmSbx);",d+="done = true;",d+="}",d+="catch (e) {}",d+="if(done === true) return;",d+="try {",d+="window.parent."+b+"["+J+"](count, fbxID, frmSbx);",d+="}",d+="catch (e) {}",d+="};",d+="window.fbCnfClbck = function (ver, src) {",d+="var done = false;",d+="try {",d+="window.top."+c+"["+J+"](ver, src);",d+="done = true;",d+="}",d+="catch (e) {}",d+="if(done === true) return;",d+="try {",d+="window.parent."+c+"["+J+"](ver, src);",d+="}",d+="catch (e) {}",d+="};",d+="var _asLoopCnt = 0;",d+="function actSens () {",d+='window.fbAsClbck(_asLoopCnt, "'+G+'", false);',d+="_asLoopCnt++;",d+="window.setTimeout(actSens, "+X+");",d+="}",d+="window.setTimeout(actSens, 1);",d+="function _msgCptr (wmsg) {",d+="try {",d+="var dto = JSON.parse(wmsg.data);",d+="if(dto.type === 'adcontrol') {",d+="if(dto.mode === 'psb') {",d+="window.fbPbClbck(dto.ver, 'frm');",d+="}",d+="else if(dto.mode === 'cnf') {",d+="window.fbCnfClbck(dto.ver, 'frm');",d+="}",d+="}",d+="}",d+="catch (e) {}",d+="}",d+="function _unload () {",d+="\twindow.removeEventListener('message', _msgCptr);",d+="\twindow.removeEventListener('unload', _unload);",d+="}",d+="window.addEventListener('message', _msgCptr);",d+="window.addEventListener('unload', _unload);",d+="<\/script>";var e={target_element:I,divClass:K,segmName:E,divID:J,segmentID:D,tagname:F,preScript:d,snippet:O,width:na.width,height:na.height},f=ta.insertFIF(e);return f.style.display="table",f}function o(){function a(){var a="";return a+=!0===y?"https:":"http:","dev"===x?(a+="//localhost:3001",a+="/adserve/fbsbx_dev.html"):(a+="//mkt.forebase.com/plugin",a+="/adserve/fbsbx_380.html"),a+="#id="+J,a+="&mrk="+encodeURIComponent(O),a+="&width="+na.width,a+="&height="+na.height,a+="&fbxid="+G,a+="&asper="+X}s.msghub.regSbx(J,p);var b={target_element:I,divClass:K,divID:J,segmName:E,segmentID:D,tagname:F,width:na.width,height:na.height};b.sbxUrl=a();var c=ta.insertSBF(b);return c.style.display="table",c}function p(a,b){switch(a.mode){case"psb":return k(a.ver,"sbx");case"asn":return l(a.cnt,a.fbxID,!0);case"cnf":return m(a.ver,"sbx")}}function q(a,b){return!1}var r=this,s=(c.master,c.comps),t=c.bootParams,u=(c.unitDomElm,c.hostWnd),v=c.useLowRes,x=t.env,y=t.secProt,z=Math.round(999*Math.random());d();var A=[];A.push("init");var B=!1,C=t.placementId+"/"+c.tagName,D=c.segmentID,E=c.segmName,F=c.tagName,G=(c.adpName,c.unitName,c.unitfbxID),H=c.main_wrapper_id,I=c.containerClass,J=null,K="fb_dsp_wrapper",L=null,M="",N=!1,O="",P=null,Q=null,R=null,S=null,T=null,U=null,V=null,W=!1,X=a.media.actSensCheckPer,Y=a.media.actSensContTh,Z=a.media.actSensWatchTh,$=a.media.actSensSignTh,_=!1,aa=!1,ba=0,ca=0,da=!1,ea=!1,fa=null,ga=null,ha=!1,ia=!1,ja=!1,ka=!1,la=!1,ma=!1,na=null,oa=0,pa=!1,qa=!1,ra=!0,sa=[],ta=new b({hostWnd:u}),ua=null;r.ssac=function(a,b){sa.push({cmd:a,data:b})},r.openStat=function(){return null!==ua||null!==(ua=ta.setWrapperElement(H))},r.setupPlayer=function(b){ha=!1,ia=!1,ka=!1,Q=Date.now(),d(),L=b,P=L.uniqueID,S=L.ssname,T=L.shtagname,M=L.log,N=L.active,na={width:b.width,height:b.height},"bd"!==M&&!0===N||(X=a.media.actSensCheckPerBD,Y=a.media.actSensContThBD),O=L.snippet;var c={playerWidth:na.width,playerHeight:na.height};O=s.macroproc.expand(O,c),!0===y&&(O=O.replace(/\bhttp:\/\//g,"https://")),""!==L.width&&ta.width(I,parseInt(L.width)),""!==L.height&&ta.height(I,parseInt(L.height)),J=P,U=!1!==L.insbx?o():n(),ia=!0,d()},r.isPlayerReady=function(){return ia},r.isPlayerError=function(){return ha},r.isPlayerPassback=function(){return ka},r.getPassbackTime=function(){return R},r.getUniqueID=function(){return P},r.shouldProgress=function(){return null!==L&&L.mintime>0},r.isMediaEnd=function(){return!1},r.isPlayerPlaying=function(){return ja},r.start=function(){ba=0,ca=0,_=!1,aa=!0,e(!1,"errors","_s10 drv_start (ref)"),fa=Date.now(),ga=fa,oa=0,pa=!1,ja=!0},r.tick=function(a){if(g(a),null!==L&&!0!==L.specAd&&h(a),!0===ja&&!0!==qa&&!(Date.now()-ga<1e3)){if(!0!==W&&(U.style.display="inline",W=!0),!0===q(30,8e3)){d();w}oa++,ga=a,null!==L&&oa>=L.maxtime&&(pa=!0),i(a)}},r.pause=function(a){qa=a},r.rewind=function(a){},r.mute=function(a){ra=a},r.audio=function(a){},r.getProgress=function(){return null===L?0:0===L.mintime?0:oa<L.mintime?100*oa/L.mintime:100},r.getProgressAbs=function(){var a={curtime:0,reftime:0};return null===L?a:(oa<L.mintime?(a.curtime=oa,a.reftime=L.mintime):(a.curtime=L.mintime,a.reftime=L.mintime),a)},r.isEnd=function(){return!1},r.getEstTimeToUnload=function(){return-1},r.deletePlayer=function(){null!==U&&(ta.remove(U),U=null),ta.empty(I),ja=!1,ia=!1,L=null,d(),ma=!0},r.checkDeleted=function(){return!0!==ta.findText(I,K)},r.updCntDims=function(a,b,c){d(),null!==U&&(r.ssac("reSize",{width:a,height:b}),ta.adjustElmDims(U,a,b))},r.sendDebugMail_Ext=function(a,b){function c(a){if(null===a)return"{null}";if(void 0===a)return"undefined";var b="";for(var c in a){var d=a[c];d=null===d?"null":void 0===d?"undefined":d.toString(),b+=c+" = "+d+"\n"}return b}if(!0!==B){B=!0,A.push("sending debug email...");var d="DISPAD DRIVER REPORT\n\n",d="Message:  ";d+=a+"\n\n",d+="Debug msg:  "+b+"\n\n",void 0!==a.stack&&(d+="\nStack:\n",d+=a.stack.toString()+"\n\n"),d+="execdata:\n\n",d+=c(L)+"\n\n",d+="effectiveFormat:\n\n",d+=c(na)+"\n\n",d+="effSnippet:   "+O+"\n\n\n",d+="other data:\n\n",d+="playerError:  "+ha+"\n",d+="playerReady:  "+ia+"\n",d+="passbackDetected:  "+ka+"\n",d+="wrapperDivID:  "+J+"\n",d+="wrapperDivElm:  "+r.wrapperDivElm+"\n\n";var e={debugStrings:A,from:"DRV_DISPAD",subject:"dispad_driver_error",text:d};s.mailmaster.sendObj(e)}}}}(config,domtool),fmp_textstorage=function(){return{templates:'forebase_template(popup_overlay) {{{\x3c!-- template popup_overlay --\x3e<div id="pow" class="pop_overlay_wrap"> <div class="pop_overlay_wait"> </div> <div id="pop_overlay_shadeid" class="pop_overlay_shade"></div><div id="pop_overlay_container_id" class="pop_overlay_container"><div class="pop_overlay_frame"><div class="pop_overlay_box"><div id="popad" class="pop_overlay_pad"><div class="pop_overlay_pad_frame"><div class="pop_overlay_pad_box"><div id="pop_media_wrapper" class="pop_media_wrapper"><div id="media_container" class="media_container"><div id="media_frame" class="media_frame"><div id="media_box" class="media_box idle"><div class="media_playbox">\x3c!-- ad element or video wrapper here --\x3e</div></div></div></div>\t \t</div></div></div><div id="pop_bottom_frameid" class="pop_bottom_frame"><div id="pop_title_box" class="pop_overlay_pad_title_box"><div id="pop_title" class="pop_overlay_pad_title">${link_brand}</div></div><div id="pop_pb" class="progress_bar_box"><div class="progress_bar_frame"><div class="progress_bar"></div></div></div><div id="pop_quit_box" class="pop_overlay_pad_quitbox"><div id="pop_quit_icon" class="pop_overlay_pad_quiticon"></div><div id="pop_quit_text" class="pop_overlay_pad_quittext"></div></div></div></div></div></div></div></div>}}} forebase_template(fb_video_fix) {{{\x3c!-- template fb_video_wrap --\x3e<div id="media_container" class="media_container"><div id="media_frame" class="media_frame"><div id="media_box" class="media_box idle"><div class="media_playbox"><div id="fbvw" class="fb_video_wrapper"><div class="fb_video_box"><div class="fb_video_frame"><div id="fbvc" class="fb_video_container">\x3c!-- video element here --\x3e</div></div></div><div id="fbvctrl" class="fb_video_controller"><div class="tape_controls"><div id="btn_play" class="play_btn" title=\'${fbv_btn_play}\'></div><div id="btn_pause" class="pause_btn" title=\'${fbv_btn_pause}\'></div></div><div class="progress_num_box"><div class="progress_num_frame"><div id="main_pb" class="progress_num"></div></div></div><div class="audio_controls"><div id="btn_minus" class="minus_btn" title=\'${fbv_btn_minus}\'></div><div id="btn_audOff" class="audio_btn" title=\'${fbv_btn_audioOn}\'></div><div id="btn_audOn" class="mute_btn" title=\'${fbv_btn_audioOff}\'></div><div id="btn_plus" class="plus_btn" title=\'${fbv_btn_plus}\'></div></div></div></div></div></div></div></div>}}}',
styles:".pop_overlay_wrap { visibility: hidden; position: absolute; top: 0; left: 0; right: 0; bottom: 0; } .pop_overlay_wrap.show { visibility: visible; } .pop_overlay_wait { visibility: hidden; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background:transparent; } .pop_overlay_wait.show { visibility: visible; opacity:0.4;  background-image:url(data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%C8%00%00%00%24%08%06%00%00%00%CC%DEug%00%00%00%19tEXtSoftware%00Adobe%20ImageReadyq%C9e%3C%00%00%03%22iTXtXML%3Acom.adobe.xmp%00%00%00%00%00%3C%3Fxpacket%20begin%3D%22%EF%BB%BF%22%20id%3D%22W5M0MpCehiHzreSzNTczkc9d%22%3F%3E%20%3Cx%3Axmpmeta%20xmlns%3Ax%3D%22adobe%3Ans%3Ameta%2F%22%20x%3Axmptk%3D%22Adobe%20XMP%20Core%205.5-c014%2079.151481%2C%202013%2F03%2F13-12%3A09%3A15%20%20%20%20%20%20%20%20%22%3E%20%3Crdf%3ARDF%20xmlns%3Ardf%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%22%3E%20%3Crdf%3ADescription%20rdf%3Aabout%3D%22%22%20xmlns%3AxmpMM%3D%22http%3A%2F%2Fns.adobe.com%2Fxap%2F1.0%2Fmm%2F%22%20xmlns%3AstRef%3D%22http%3A%2F%2Fns.adobe.com%2Fxap%2F1.0%2FsType%2FResourceRef%23%22%20xmlns%3Axmp%3D%22http%3A%2F%2Fns.adobe.com%2Fxap%2F1.0%2F%22%20xmpMM%3ADocumentID%3D%22xmp.did%3ADE6A97D95E8711E38C6D8631AD63C769%22%20xmpMM%3AInstanceID%3D%22xmp.iid%3ADE6A97D85E8711E38C6D8631AD63C769%22%20xmp%3ACreatorTool%3D%22Adobe%20Photoshop%20CS6%20%28Windows%29%22%3E%20%3CxmpMM%3ADerivedFrom%20stRef%3AinstanceID%3D%22xmp.iid%3AE96E8A19451711E29178C2958B9F1AD4%22%20stRef%3AdocumentID%3D%22xmp.did%3AE96E8A1A451711E29178C2958B9F1AD4%22%2F%3E%20%3C%2Frdf%3ADescription%3E%20%3C%2Frdf%3ARDF%3E%20%3C%2Fx%3Axmpmeta%3E%20%3C%3Fxpacket%20end%3D%22r%22%3F%3E%11%E4%CA%E5%00%00%0F%0FIDATx%DA%EC%9C%09%90V%C5%11%C7%E7%DB%5D%F6%E6%16%144%5C%02%8A%8A%07KTD%83%12c%94%A8%84XQQ%89W%A9%18%8DV%0E%A3%89%11%01%93%28%1E%89bT%E2%1D%8D%82%07%24%11%0FL%8C%C6x%A1%B0%F1%8A%86%A0%A0%207%EC%C1%B1%B0%E7%F7e%BA%F8M%ED8%BC%7B%B7j%2B%D4%EB%AA.%96%DD%F9%DE%9B%D7%D3%FF%EE%7F%F7%CC%FB2%8B%17%2FV%A9%A4%D2N%B2%8F%D6YZ%BF%E5%F3%F7MZ%FBk%DD%DEN%F7%FB%B6%D6%3F%05%FC%FD%07Z%7F%AF%B5%C9o%40EEE%E0%0D%F2%D25M%A5%9D%24%A3u%A8%D6%C3%02%C6%EC%A1%F5%3C%C6%B6U%F6%E2ZAr%8A%D6%D2%B6%DC%24%05H%2A%ED%25%7D%B4%FEHk%DF%90q%3F%D7%BAw%1B%EFU%40%96%1A%1F2%EE%04%AD%DFk%8B%9F%A7%00I%A5%3D%24_%EB%89Z%C7E%18%2B%E0%B8%06%27O%2Ar%8D%1FF%1C%7B9%B4%AE%5D%01R%A8%B5%8B%D6%EEhW%AD%9D%B5%16c%8CTRqk%8FKbP%A7%B3%B4%1E%9E%F0%5EEZ%2F%D0z%60%C4%F1B%FB%26%B7%25U%D9%F2%15%AD%FBj%3DX%EB%00%40%21%D2%A8u%AB%D6%0DZ7%F2%EFf%AD%2B%B4%AE%DD%0D%16x%3F%F8%F1v%9EsEPa%97%CA%97%A4%84Z%20%8E%C3K%D0%FD%29%F4gK%CC%FB%1D%AA%F5%C2%98%9F%B9R%EB%D3Z%17%25%05H%27%AD%27i%BDT%EB%282%86%9F%88%E3%EC%E0%B3Wk%FD%DDn%B0%C8%17%F2%EC%B2X_h%BD%5B%EB%1C%02C%2A%E1%CE%FE%FD%04%9F%1BO%16x%2Bf%23%E0%94%045L%11Y%241%40%24e%FD%26b%C5%DF%09%15%E7%F9x7Y%E4rK%A5%C8%1C%A8%F5%1FZW%A6%FE%1F%2A%92u%DF%C6q%E3%88%F8%CE%AA%04%F7%FB%88%00%5D%12%F3s%EF%24%A5X%13%B5%5E%E7%03%8E%1A%AD%B5Z%1B%18%5BB%7D%22Y%E4I%AD%2F%EF%26%8B%DC%E2%FC%BF%B7%D6n%29%40%22%89%F8%C7%AF%A1X%7B%C6%B0%F7%ADdk%11i%D9%9EA%DD%DB%60%D529%D6%E1%05%AD%AF%F1%FF%E7%F8%FFwb%CCQ%FC%F4A%AB%A1%20%CD%84%23%A5L%A8%AC%AC%CC8%C1_%9E%E7%FE%8A%8A%8Az%03%90%198%84-%C2%C3%1Fg%22%B5d%8B%02%8At%03%90%7F%ED%E6%0B%DF5%F5%FD%C8%F2%9E%D6%87%A1%DCQ%E4uj%02%E3%83R%B4%DF%16B%C7%8E%A5%FE%DD%02%B8%C6%02%9E0%D9%A6u%BAUS%1EHY%D0%CFg%7CVk%95%06%CE%1C%0D%92%5C%01%85%B9%2B%9Fh%BDI%EB%E7%FF%A7%0BV%04%98%25%E2%D4yd%88%28R%BC%9B%3As%21l%21%0B%3Djn%87kJ%B4%7DL%EB%04%BAFA%22%F4%E8%06%82%B0b%FC%95%21%9F9%80%3Ag%1A%FF%97Z%E2%11%ADWD%98%DB%1C%AB%CE%915%BD8%00%1C%22%D2%D9%9D%AA%F5%EFZ7%F8%F5%A2%A5CU%15%D3H%92%B2%06%93%26%F3%AD%82w%91e%8C%20%D9%13t%0F%22%A3%15%E3%E8%F9%A4%5Ds%BD%25%F0%D0%06%E7%F3%F29%D9%3C%1AB%E1X%02%40%24%82%AC%D3%FA%1F%AD%7F%E1%D9%A2%888%D1pto%E6S%C7%B5%DE%E5zA2%90%85%E8m%CD%C7p%F6%8D%3C%C7%92%88s%E9%A9u%04%F5Qg%A2n%3D%CE%26%EB%F4%19A%CD%AF%A90%40%EB%A9jg%87R%E6R%06%40%C46k%B4~%8Am%AA%DB%00%12%A9%29%EED%83D%8E%86%BCb%81%F5%8A%10%87%B5%3BQ%B3%B5.%25%E0%3D%40f%09%DA%E3XGf2v%F9%AA%D6s%22%DCK%40%2B%FB%27S%0A%02%E8%C5%C1%DC%A0%14%27%5D%CB%C2f%9D%B1%17%C3%07%07%91%F2%8A%E0%90%A65%BC%1A%83%FC%D6c%012%2C%FC%8Fq%EC%1E%2C%A0%B9%A7%CD%0F%1BY%D0j%0A%AE%2B%A9%91%F2%E9P%5C%82%23%94%AB%5D%FB%F1-%8C%9D%A4%F5%0E%AD%CFF0%D2%14%1C%B1%0F%0EU%40%9A6%0E.Q%E9F%AD%CB%1CP%C9%06%D6h%9C%BA%27%F3%29%B2%1A%22%A6%0BX%8Dc%CA%D9%A5%17%7D%E60%98%EB%8D%24%80%94%C3%93%F3x%A6f%AE%25v%5E%A0v%EEd%BB%D1%F0%22%A2%EF%C0%00%DBH%D08_%EB%EDZ%E7%B5%A1%8E%13%BB%1E%A7%F5h%00%9Cs%EA%DD%1A%A2s%96y%8C%8E%E8%B0%A6%5B%26T%E9L%AE%2B%80%FC%25%BFkv%FC%D2%F8%CE%9D%04%0E%F3%BBi1%A8%F3dM%B3%1E%2F%08Hi%8F%B2%98%F9%18Z%8Cw%1F%0B%A2%88f%B30F%F7%80%C8%27N%5BAa%24%D1%E2%0D%E7A%86%D3%28%08%93%12%B4%97%D6%3F%02%96b%1C%E8%EA%90%07%97%FB%C8%3E%C7%F1%CC%27%9F%88%19%24%23%7C%E8I%19s%D8%9F%A0p%B9%D5%CDk%C0%11O%8A%B0%D8b%BF%83%28n%A7b%5B%DB%B1%8F%84%D7%0FR%D16gk%3D%BA%8D%97%01%F4%EE%21%B6%91%C0t%0C%99R%1CknB%90%AC%C4%1E%DD%3Dhm%06%7FZf%D9%F2%17%D83%AA%9C%8A%3E%03%28%1E%C3%9Fr%0E%18M%10Xc%01G%808%26%C6%BDd%8D%2F%29%08%E0%DF%03%9D%DF5X%7C%B5%3B%DC%EEh%15m%F7%B4%18%87%7B%0A%E7y%DFq%86%A0%A8%D4L%04%B6S%F9%ED%18%7B%2C%00q%C1%B1%16%87%C9%27%7D%17%7BD%E5%0F%A0%26I%25%0F%83%9F%8F%83%9BZg%BE%DA%B9%01%D6%C9%19%9F%F3%B1%95%00%E5fZ%A5%1F2%AE%84g%1C%E2%D3Vm%B2%EA%2C%FB%FA.%E5%9D%EAa%1B%D9%E4%DD%C4%5C%86%A8%2Fo%16%0B%18%7FB%11%BD%3E%81M%B2%D8~m%04%DB%9DC%E1%1DGJ%00%FD%7C%9EwG%04%AAk%82%C5t%15%FFh%D5%99Q%CF%C3%2C%A3%CDf%3A%01%B7%91%1E%ED%05o%22%C5%FE%13%A7%3E%94%D6%5D%B95F%E8%CA%BDj%E7fd%D6gaE%96%13Q%FF%CB%B8%AE%00%F60%E8%C86%A2%DED%90n%2F%D0Li%D3A%83%F2%E1%9D3%88%F8F%0Eaq%82%00%F2W%BA3%DBY%88%5E%16%95%B4%17%FA%2C%82E%25%BF%7B%0D~%5C%40%93%A3%8A%FA%A9%05%87%1E%C9gzX%D7%11jz%AE%DA%B9%BB%9C%85W%8F%F0%B0%C9%3D%D4%3F9%22%EF%1E%00%FE%EB%00%D4%88%D4%29%DF%F5%00%C7%3D%D8u%15%F3%3B%98%8E%CE%60k%CC~d%FB%87%126GF%93%19%1B%3D%28V-Q%3F%87m%B2%09%9Cv%8Bu%DD%5E%F8X%D6%C9X%05%FC%EEE%D6%B8%05%D0%F6%8By%AFM~%00YK%B4_%03%3F%AD%84%2F%2B%1C%7F%82%F3%60%3BpL%BB%9D%26%D7%5EH7%AC%A75v%24%0F5%3B%60bK%F9%FB%2A%2Be%E6%11%09Z%AC%A2%DE%3DZ%FD%0A%BCs%B9%F5%BB%F9%14%CA%F79%B5%C2%A0%10%E3%DC%0A%D8s%D6%1C%16%D0%3D%E9%EB%80%BE%BF%05%90%1A%D5z%90.k-%9E%C9%20%B3%99%DFt%27x%8C%B2%02N7%0FZ%25A%EA%0F%00%DF%D8%23%C3%B8%99N%A0%90%E7u7%EE%9Eg-V%3A%EB%3C%9Dg%B2%C1%3A2%21%40%A4%B8%BD%3B%A0p%CE%E1%E0%F3%C9%98%8F%92%81%A3%8A%00%ECZ~%EEB%86%BC%20%60%FC%5C%FE%DE%C8%9A%BC%19%F3y%1E%C9%0B%C8%18%92%F6o%21%E2%2F%B6%3A%01%13%9D%85U%80g%9A%95%FEM%21%FA%20%E9%DAM%AF%93%22%A4%C4%1C%8EehV%23Q%B2%1E%C7%E8%EF%11%11%D6%13Y%25%22%0E%A3%96%EAc9%AB%1Da%F6%08%E1%F6%9D%A0%95%8Dh%03%80%7F%D2%83%5B%0F%B2%28U%8E9%D6%F3%B9B%A2%F2%28%EA%8D%9Et%F6V8%D7%E9%C2%B5rV%D4%B3e%2C%00%9Dlq%FCf%E6%B5%9E%CE%9E%912%0F%27%DD%C4%EF%87%60%9Ba%FC%BC%D9%E3yz%27%00G%17%E66%94L%E9%A5%25%D4D%9D%60%01%BF%8A%D9-%BD%8B%A2%3B%033%B8%20%E0%5E%C5%F8%EA7%19_%09x%A3%8A%04%E9Yy%01Ho%B1%22%A0%9D%2A%0Fs%1C%AB%09d%EE%F0%E1%A4%AFz%B4y%FB%07%D0%AB%A8%FC%BF%AB%07P%CF%A2%B6%F8%84Z%E5%23%BAh%F7%3At0%C3%22%05%01%C4%AB%5E%A8s%1C%D1H%0F%0B%20%19%1A%01%D73%B6%0E%9E%FC%26%00%5B%83M%0E%08%B8_-4%CD%ED%CC%8C%80%26%AD%A5%5D%3A%8E%88%9Fql%D9%C3c%FE%93%B0%C9R%FE5%3F%FF%D9%278%C4%11%B9%D7Q8dXM%3A%92%0Ed%86%B6%FD%0D%11%FD%609%80%CA%F1%7CW%AB%F0%BD%AA%3C%3A%7B%DD%08Vw%D2%99%0D%93%1C%01%BF.%C9%FB%20%EE%91%94%E6%90%82n%83G%7F%BE%93j%DD%C8K%22%19%A7u%1Ae%BCW%7B3%C9%FD%1B%7D%BA%5By%E8%C9%14%DBS%1D%10d%AD%8C%98%09q%24%096W%A9%9D%A7%19%B6yd%13%B9%9F%BCn%FA%1C%3C%7B%9Ce%8B%8C%F2%3E6%94%89%11%08%E2JO%DA%FD%DD%23%8E%97%96%FC%BE%D8%F2i%EA%B6%20i%A6%3E3%87dO%D3%FA%8D%88%F7%3A%96z%CC0%A3%19%2A%7C%E3X%EA%CFy%15%15%15%D9%24%2F%AD4y%B4%09%BB%86%A4%DE%02%0F%E7lh%C3%E2%E4%AC%220%E38%D6%96%80%8E%91%89%2A%8Dd%96%24G%DA%BD%A2k%03%F7%3E%10%EE%5E%EE%2C%AED-%D9%14%ACfn%FDh%14%94%86%14%A3%93p%FEs%28~%CD%26%9F%1D%D8%0E%87%D3%9F%8E%B3%E5%7C%B2y%1D%60%0B%0B%24J%C5%3BA%21k%7B%22uiT%19L%3B%F8%2A%D6%E1%0E%28_%BEG%D0%929%FD%0Dz%29%22%EF%9E%5C%1As%CD%A6%D1%40Z%03E%1E%C7%D6C%CE%87%F5%5C%C7%9A%26z%ABK%D2%F2%D7%2Cc%16%C2%07%8B%D4%AE%BB%DB%19%DA%8D.%15%AAbr%F9m%00H-%FC%B9%9BS%A4_%8Bs%15%06%7C%B6%99b%3A%EC%1E%5E%CE0%C0%E3%F7%1B%01%FDx%27Xd%E1%BE%97A%FDL%169%02%20%0D%8B%F0%AC%CF%A3Ci%AB%8F%E7%F3v%0D%95%81%DB%3F%03%F8%AB%3D%3AD%2F%91%D5%B6%86P%A8%26%15%FD%B4%81i%F9_%9B%60%0D%27%D3tx%17%E7%1D%8B%ED%9A%9C5%28gL%1D%CF9%91FQ%1C%D9%8B%22%FD%2A%E8%E9%85%D4%8D%DB%9D%40Z%80%EF%2C%91sXI%012%8F%3E%BF%CD%FFd%A1%CF%A4%85g%9F%ED9%86%16%A4%0B%84%17%DA%98%D2%B3tcV9%00%19%407%E7S%27Z%E6Y%9A%8F%83%84e%0F%AF3J%87%28%EF%D7JM%C1%DD%D7%01%96%5C%E3%0D%AB%C3e%A4%9A%22%3E%88%3B%F7%01x%8DV%60ZJ%E3C6%CBfY%0D%08%E3%A8%83%A9-%B6b%1F%1B%CCCp%94eNM%E8e%9B%B8%E7%B3%1A%12%ACa%95%B5%06%F2%8C%FF%8E%F89C9%E3%06%D7%26%0Bt_%A0%A1%DFj%92%04%20%2F%D2%D5%3A%DAY%9C%5B%88%00%8Bp%60Y%2C%D9%29u_n%11%BA%F1p%3B%F0%5E%B9%CE%FB%F4%DC%8D%08%E7%7FB%ED%DC%25%FF%14%C3%17%91M%8AP%E9%A4%C8%3E%C1%CB%14%C2~u%C8%28%A8%8A%89%C4r%A8%F3%5C%B5%EB%FED%95%05%90%8D%1E%F6%3D%82%0C%BB%CEr%F6%7DC%E8Ug%80%F02%E0%DAH%04m%B0%B2B%93O%E00s%12Zr%91c%9B%D9D%EB%25V%87%AD%C8%B2Q%29%94x%21%B4%27%D2%5E%01%EB%3CG%C5%DB%15%9Fe%81%A2%0B%CD%9F2%0Fp%96%A8%D6M%DD%1C4r%22%EB%13%87%F5%DCd%05%84a%ACA%7Dee%A5%5B.%08%00%17j%E04%25%05%88%22U%CDs%22X%2F%8C%BA%85%E8%E8%D5%2A%AC%87%DF%ADn%07%80%D4%02%86qNq%28%3F%9F%171%EA%3D%10%F0%F7%29%A4%E5%3A%16%C9%AF%00%9D%A3Z%F7%88%16%F2%8C%9D%AC%C5%18M%D1%F7%16%C6%CF%C1%A3%F7%09%A9sN%40st%C1%AA%F9%7C%11%CE%D4%CD%A35oj%87%CD%80a%02T%CCH7%15%ED%ECS%E7%18%00%C9%D1%95%9B%17%A1%7DoD%00z%9Fe%A3%93i%E1v%B5%DA%F8%E6%DA%25%D4Xg%93%F9%84%22%DD%0A%5B%89r%E2%BA%99%8E%A2y%B5%B7%1F%5D%CD%A3%08%80%5E%EF%83%9C%C63%05~iCP%87k%21%CE%F3%91OQ%EE%05%0Ey0y%B1%E6~%A7F%C9%F7%C9la%05%7C%16%C7%9B%AE%92%BD%99f%D7%20%C5%01%AD%E4%BE%01%E0x%1Bc%1B%E3%9B%AC%E4R%0Eq%CC%93%E8%A6%9C%CE%E2%94%85t%07m%1B%1D%40%C6%96b%F88%0Fp%AC%C4%A1m%DA%F6%065%C7%17%09%E9O%1C%D9%8A%1D6Dt%D8%9B%ADv%EB%DEV%2B6%03%20%EC%7D%13%91S%E8%DA%19Y%40%5D%16E%5E%02%60%06%00%13%B1%BFr%EEe%BE%90D%3ArStf%E9l%1Cq%B5G%F4Z%17%81%87%3E%01%B5%B8%98N%CAP%9F%E2%EF3R%A4%20%FE%29%8F%E8S%8F%81%F3%B8g%19Q%3B%1B1%0B%DC%81%83L%80%D6%F5Q%AD%A7%5E%9B%18SG%04%AE%C1%99W%A9%D6%F3%3C%0A%CA8%8ChkN%14%FBe%D7%ED%3C%93%9C%28%9E%C9%B3%D9%F3%B9%8E%60%20%D1%7F%3Fx%BF%DF%B5%CC%BC%AA%98C%CE%A2O%EFC%03%CA%7D%3E%DBB%C6%F8%10P%3E%EB%D1%8E%BE%07%DB%9Cn%D9%A6L%B5%BE%F4flS%8Bmj%98%FB%82%04%A0Z%04-%BC%26d%DC%EBd%5DCi%CE%A6%A3%14%26%D7%03%8A%2A%7Cf%A6%0A%7FiJ2%EE%8D%AA%F5%18%CE%10%15%ED%1BN%C6%92E%1E%CE%2C%5E%BC%F8d%0F%80l%60%C1%A2%14_%85%A4%FC%11%D0%86R%22A%3D%D7%F9%00%1E%5D%E3%13%1D%07ACl%80%AC%A07%5E%17c%81%CAH%9F%FD0Z%A1%D5~%DD%C2%5Cj%2C%0A%98u%3E%2B%99bO%1C%BA7ZF%941m%E9-%B4%0A%3F%A6%B3%12d%1F%99%C7p%0A%E5%9E%5C%C7%9ChmR%ADG%F7%D7%13%90VSk%98%EE%9El%A8%EDO%84%ED%A2Z76%9B%99%FFZ2%F8%7Bj%D7%93%BC%CA%83%C7%F7%B7lS%04%80%B6%F3L%9B%B0%CDf%AB%EEJ%22%C3%A9%2FG%28%EF%B3X%DB%E8%C2%BD%8A-%0E%A2V%8A%FA%AA%AE%D4%11%3F%E3%E7%22%40s%8Dj%DD_%B2k%09%F1%27%F9%DA%D1%2B%AC%60%FFPD%FA-%22%9B%CDc2%E9w%F3%86J%BE%DA%F54A%2A%FE%B5%D3%21%04%BD%26%C7f%F9%80%CF%A6Fq%1C%D6t%FF%8E%278%29%82%D8%18%D5z%EA%C3%ED%CC-%B4%E8%F7%18%1ALEqj%ED%14%20%A9t%84d%28%CC%9FT%F1_m%96%CF%9C%91%20%C8%BD%A3%BC%DF%F1%09%CC%22%E9W%8F%A6%D2QR%AA%92%BD%F7%BFWB%40%269%80Y%9A%02%24%95%8E%10%A1%5E%AF%A8%D6w%D3%A3J%93j%DD%CF%88%23-%11%9A%07%5E27%05H%2A%1D%25%D24%99%12%B3%210%97%A2%3E%09%20%9FQ%FE%EF%FE%FB%D5%3B3S%80%A4%D2%91%22%1D%B8Y%11%C7J%81%2F%3B%F6I%BF%A6%C8%B4%7C%A3%02R%8E%C6%7F%9E%02%24%95%8E%14qZi%C5%AE%880V6%84%97%B7%91%D6%C9v%C3%5DQ%8As%ADwWTT%B4%A4%00I%A5%A3%E5%E3%08u%85%9C%0AxP%B5%BD%D5.%80%94%CD%D3%0FB%C6%C9%CE%BE%EC%0D%A9%FF%090%00%2C%B7%FD1-%60%14r%00%00%00%00IEND%AEB%60%82); background-position: center; background-repeat:no-repeat; background-size: auto, auto, contain; } .pop_overlay_shade { position:absolute; width:100%; height: 100%; background: transparent; pointer-events: none; } .pop_overlay_container { position:absolute; width:100%; height: 100%; background: transparent; pointer-events: all; } .pop_overlay_frame { position:relative; width:100%; height: 100%; overflow: hidden; display:table; table-layout: fixed; background: transparent; } .pop_overlay_box { position:relative; overflow: hidden; vertical-align: middle; display: table-cell; text-align: center; background: transparent; } .pop_overlay_pad { display:block; position:relative; width:200px; height:18px; overflow: hidden; margin: 0 auto; background: transparent; opacity:0; filter:alpha(opacity=0); } .pop_overlay_pad.framed { background: #ffffff; -moz-border-radius: 3px; -webkit-border-radius: 3px; -ie-border-radius: 3px; -o-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 2px 2px 12px 0px rgba(160, 160, 160, 0.25); -moz-box-shadow: 2px 2px 12px 0px rgba(160, 160, 160, 0.25); box-shadow: 2px 2px 12px 0px rgba(160, 160, 160, 0.25); } .pop_overlay_pad.darkb { background: #000000; } .pop_overlay_pad.size { transition: width 0.5s, height 0.2s;/* Firefox 4 */-moz-transition:width 0.5s, height 0.2s;/* Safari and Chrome */-webkit-transition:width 0.5s, height 0.2s;/* Opera */-o-transition:width 0.5s, height 0.2s; } .pop_overlay_pad.fade { transition: opacity 1s ease-in-out; -moz-transition: opacity 1s  ease-in-out; -webkit-transition: opacity 1s ease-in-out; -o-transition: opacity 1s ease-in-out; } .pop_overlay_pad.disp { display:block; } .pop_overlay_pad.opak { opacity:1; filter:alpha(opacity=100); } \t .pop_overlay_wrap .pop_overlay_pad.grey { background: #383838; } .pop_overlay_wrap .pop_overlay_pad.sharp { -moz-border-radius: 0; -webkit-border-radius: 0; -ie-border-radius: 0; -o-border-radius: 0; border-radius: 0; } .pop_bottom_frame { width:100%; height:10px; display:none; } .pop_bottom_frame.include { display:block; } .pop_overlay_pad .pop_overlay_pad_title_box { position:absolute; bottom: 0px; left: 8px; height: 18px; padding:0 20px 0 0; margin:0; cursor: pointer; } .pop_overlay_pad .pop_overlay_pad_title_box .pop_overlay_pad_title { position:relative; left:0; height:17px; padding-top:1px; text-align: left; background: transparent; color: #c0c0c0; font-size: 11px; font-weight: normal; font-family: Verdana, sans-serif; visibility:hidden; } .pop_overlay_pad .pop_overlay_pad_title_box .pop_overlay_pad_title.show { visibility:visible; } .pop_overlay_pad .pop_overlay_pad_title_box .pop_overlay_pad_title:hover { color: #4565a5; } /* quit box */ .pop_overlay_pad .pop_overlay_pad_quitbox { display: none; position:absolute; right: 6px; bottom: -2px; height:22px; background: transparent; cursor: pointer; border: 0; opacity:1; filter:alpha(opacity=100); } .pop_overlay_pad .pop_overlay_pad_quitbox.show { display: block; } .pop_overlay_pad .pop_overlay_pad_quitbox .pop_overlay_pad_quittext { position:relative; float: right; padding: 3px 8px 4px 14px; text-align: right; background: transparent; color: #c0c0c0; font-size: 12px; font-weight: b; font-family: Arial, sans-serif; } .pop_overlay_pad .pop_overlay_pad_quitbox:hover .pop_overlay_pad_quittext { color: #4565a5; }   .pop_overlay_pad .pop_overlay_pad_quitbox .pop_overlay_pad_quiticon { position:relative; float: right; overflow: hidden; width:16px; height: 16px; top: 4px; right: 2px; background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAAAOCAYAAAA7UaIRAAAALHRFWHRDcmVhdGlvbiBUaW1lAFRodSAxNSBKYW4gMjAxNSAxMTowNDowMCArMDEwMJoaeGMAAAAHdElNRQffAxkLHxXp32MLAAAACXBIWXMAAB7BAAAewQHDaVRTAAAABGdBTUEAALGPC/xhBQAAAhZJREFUeNrtlz1qw0AQhdMJnMKkMDmDWwmBY6IuV8kVJC2WsRvXOkVKgwzudQ4Flb6CUOm8hVHzYNEPo1Qa+Aq9WXbgPZZBLy9LLbXUgNputysQOHo+eJ1j7tf3zwoEjp4PVOc+Ho8VCBw9H0yad71eVyBw9Hww7F4YvQEFeIIz9U6i3+w5TWNg9AYU4AnO1DuJfrPnNObB6A0owBOcqXcS/WbPjbkXRm9AAZ7gTL2T6Dd7rvcymLwXwzsuosekfyiHsRfDOy6ix6SrzIXJezG84yJ6TPqoeTB5L4Z3XESPSe+/FyZ7ICPja/rO7TnlMDyQkfE1fef2nFIYHsjI+Jq+c3tuZBgeyMj4mr5ze27wpRJISyG03UuZqySQlkJou5eiXRJISyG03UuZWhJISyG03UsZXTC+ojB+5zCEC8ZXFMasc2F8RWGozIPxFYUx7V4Yb0BDYTT/8DIMaCiMZsaXYUBDYTQKL8OAhsJoRr0M2RlJz85IZ9oZSc/OSJV3RtKzM9KJOyPp2RnpoJ0Bk3dkvBH9SPqnchg7Mt6IfiRdZS5M3pHxRvQj6aPmweQdGW9EP5Lef6/8Z9zF8AP1jOgleFcOw/5n3MXwA/WM6CVQmSv/GXcx/EA9I3oJRs2T/4y7GH6gnhG9BMPuhdFrEDl6IXjTMIQLRq9B5OiFQHUujF6DyNELwaR5MHoNIkcvBLP4t5Ry/QES3wwq5P3QjAAAAABJRU5ErkJggg==); background-position: -82px -2px; background-repeat:no-repeat; } .pop_overlay_pad .pop_overlay_pad_quitbox:hover .pop_overlay_pad_quiticon { background-position: -32px -2px; } .pop_overlay_pad .pop_overlay_pad_quitbox .pop_overlay_pad_quiticon.skip { background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAASCAYAAACtmXuIAAAALHRFWHRDcmVhdGlvbiBUaW1lAFRodSAxNSBKYW4gMjAxNSAxMTowNDowMCArMDEwMJoaeGMAAAAHdElNRQffAxkLHwCEAofgAAAACXBIWXMAAB7BAAAewQHDaVRTAAAABGdBTUEAALGPC/xhBQAABKtJREFUeNrtV+9PW1UYBhEYNZsM21KhP1iR0NJhmnVjaMacDioz/oojMavFSWS7GzHxg5+URJjEGAgQApZLESgwBrbxS/8KMn6kI4sfG0b4JR/K/GD0E1yfU85hxzvGbq/l232TJ7d9n+Tce54n533fk5GhhRZaaKGFFmmM4uJih8Vi0cnzOTk5utLSUkc63nHqrM9e81nAdBDnvvKdw/PBHV2qa6YSkUjEEY1Gn3pHfX29bm5uTtUeq6urDQMDA68dxDU0NNh7e3tNqa6Z4XQ6mwCpoqIiaDKZMlm+qKgoG7kQ4YDr/0eMS9dH3HU3Z6Q6Ifzw/NVOI8/V3pxuqr1xj3BB1ztfZ6p9x2Gxvr7eBEhAEMjk8tlAiHBra2sp7XFsbOwVIDY6OioB52Wcm+THx8cfdnR0GBUv6nK5KqngO9SUIZiSRblGyu2Sp8PhaFYriPdWJEFEJ8DvhXMf/2hO5oVwYe2NaZLfSXJCeKiy7pusdJoBoQsBIvgOfQ4BWZRrpLldYsrKyoriPULwCWoGwd/A2xyXYNzk5ORCW1ubWdGiZrNZBxN+4YUHJghXUlJiA7dIc0mUl5e3qBHlcvPUbZwEiTMl5vnwzglqygjN7+6dlF8n0mxINjDChKfPCcrZgEWakzY3N6V4PK5ojxC7BnjMmfIXcJFyLVyemBJrbW19WfFHQ/hBXngYNUxN0YN7wBkiGQyGz9UIg5Pg3xce5rz5ad8C47y3woPMLIIz738/nE5TqPiDTHiKYZrXAw9IbmNjQ1peXpa6u7sV7RFiv06NYOJvA27K+WluFyVM6uzsnEM/Vm4KBJ9hwsMECU0+SPJ2u92A3CPeML1ef1WdKfcEJjpOglTjF39nHP7PPOHC0tmPfhg6AlNmZKYEad4APGKmkJPS1dWlaI/EACI6Z8o/wCnKCSwfCoUkURT/UPyxVqs1RIxgojNDjEZjXllZWTwdhpTXCD4iNjPkgu/nfUNQwkJPuCMzJPQMQ/KAuEpD7MCOzBA75XyqDMHYG+DNsNlsyeOM50mckBjj0NglGKSqZDnfavERE1jJunBtYLHi0lfJicd95dsA+gotWdMwo+MoSlbgGSXrJBAjOdrYpf7+fqUlyyUrWY+5kuXjSxbK4Dz0O7xkoUfkQehBKjhr6iLhYIQF+ft8GUMN/EKNGJe/nGxGn9jvEe/e/m32VWd98k6AcVjcN2rPEDHNRrwIiLKmLlLOAtxnJm1tbUnz8/OK9gih3+CnKeBPoIpyzXxTn5qamvV6vS89d9Hc3FyXbOztY1xBQYGfNwruXlMrCnpFgtxD6IQ1W/XJT/kk/0L2CaNs7O1T+45DDDHIxt4+jvPzY+/q6qriPULocdmEdY7j+LF3tr29PV/xB0NsgZoR4PPoE8eQu0sNU20GiYuNwaravYvhEi6G/zm2KF8C7RsBtes/LyC2QEtSQJY/BtylpqS0R5ShQgi+REQnF0EZV0Uvhku4GCqfrEhA+ExcAj0YdY/LOTT2fHBn0iEKRD+NJm49iEMJ87jfaz2e6pqpxPb2ticSiTz1jmg0mp9IJFTtEX3BAuErD+KQP93T02NNdU0ttNCCj38B5oHKC/vnSbgAAAAASUVORK5CYII=); background-position: -82px -4px; background-repeat:no-repeat; } .pop_overlay_pad .pop_overlay_pad_quitbox:hover .pop_overlay_pad_quiticon.skip { background-position: -29px -4px; } .pop_overlay_wrap .pop_overlay_pad_frame { position:relative; width:100%; overflow: hidden; display:table; table-layout: fixed; background: transparent; } .pop_overlay_wrap .pop_overlay_pad_box { position:relative; overflow: hidden; vertical-align: middle; display: table-cell; text-align: center; background: transparent; } .pop_media_wrapper { position:relative; background: transparent; } .media_container { display:block; margin:0 auto; position:relative; background:none; } .media_container.marg { margin-top:9px; } .media_frame { position:absolute; top:0; left:0; right:0; bottom:0; background:none; } .media_box { position:absolute; top:0; bottom:0; left:0; right:0; background:none; overflow: hidden; } .media_box.play { background-image:none; } .media_box.wait { background-image: url(data:image/gif;base64,R0lGODlhIAAfANU8AKGhoSkpKaKiounp6aampuXl5bW1tcDAwMvLy6ysrN/f362trdTU1MnJycrKyt7e3tXV1Tc3Ny0tLbe3t8zMzMHBwba2tr+/vywsLOTk5N3d3efn5+bm5tbW1tzc3DU1NV5eXkpKSnx8fJSUlEdHR0hISLS0tJmZmbCwsGFhYZiYmGNjY35+fnp6epWVlUVFRa+vr11dXXh4eNra2tvb20ZGRpaWlrGxsTY2Nnl5eXt7e19fX+rq6gAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wUmlnaHRzPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvcmlnaHRzLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcFJpZ2h0czpNYXJrZWQ9IkZhbHNlIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InV1aWQ6OTgzNjY3OTJCQUE4RTExMTk4QzBEOUU5MUVEQUQwREYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QjNGNjA3RjEwMTk1MTFFMkJCM0JDNDk5QzQ4Q0EyOTMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QjNGNjA3RjAwMTk1MTFFMkJCM0JDNDk5QzQ4Q0EyOTMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyQ0IxMTM5QTkzMDFFMjExQTkwQ0ZBMUIyOEEwQjk4RCIgc3RSZWY6ZG9jdW1lbnRJRD0idXVpZDo5ODM2Njc5MkJBQThFMTExOThDMEQ5RTkxRURBRDBERiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAUSADwALAAAAAAgAB8AAAboQJ4QFigaiyahcsls8jiv47G0cVqZI6lUde3OPtpjxNO1ysJSUbnZwKCPEsp6GXtLU3MlyH5c5YVtfAFxf0ItgixLEACMjYwMSx5gbxEPSgMLjo4JA0sudidLCJqaDkscJGghVUIFBKSOBBlLKGgGSwewmheFPAoCuo4CGoUWwZq3fxPHjsk8DLodSr/MAAKWPAMJugudQhXVB0oOxwhKrscEBa2vwepKo8GmQrnMFZeZsJxCD8DMAgqUdNAFQYmBaowmFDqI0EIhDf6OAex1IVwvHhna6Xp3sUG5i0K0cfMGEhqsgheDAAAh+QQFEgA8ACwAAAAAIAAXAAAGp0CekAEoGosQoXLJbPIGieNxMXBamQ2pFHHtZgjaI6HQtV7C0kO5qRGgjwLFeml4Sy1zZd1unOSFD258cX9CB3wAFUsmAY2OjShLBWBvY0obJY+PNRxLDnZcSiqamiNLUGhUSh4RpI8fNEtEYR1LIq6aOYU8FBK4jxgNhSm/miCFK8WPO4W9ygEYDrsszzq7PA+tvzge1zwnxTbePBshuCSd4wa4N0pBACH5BAUSADwALAAACQAgABYAAAamQJ5wSCwSIYCkMskwOp+DxXKZGDyvQ8R06sBeC4TtkpDxOg/i6cVcVAjSS4GGPbTApwa6cHJf5oUoAYKDgn88bn0AAg9CHCSEhCEbQxWJB0MukJAnQ2B3BAVCHh+ahBGMQlpwXUItpZAsQ1FpVUINGK+EEhRDHWkQQyC5kCt6PDHDhCnGt8kBu8Y8Ms4i0TwzpLkRHtY8I8Mq3TwcL68lk+IwrybdQQA7); background-position: center center; background-repeat: no-repeat; } .media_box.idle { background:none; } .media_box .media_playbox { display:table; overflow:hidden; cursor:pointer; margin:auto; }  .media_box iframe { overflow:hidden; }  .progress_bar_box { visibility: hidden; display: table; position:relative; margin-top:7px; top:auto; transition: none; background: transparent; overflow: hidden; table-layout: fixed; width:100%; height:6px; pointer-events: none; } .progress_bar_box.show { visibility: visible; } .progress_bar_frame { height:6px; width:61px; vertical-align: middle; display: table-cell; text-align:center; } .progress_bar_frame .progress_bar { position:relative; height:6px; width:45px; text-align: center; display: block; margin: 0 auto; background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAyCAYAAADbTRIgAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2lpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxMDAyN2UwOC00ZWE2LTU0NDEtYWI3MS01Y2RlZDJjZjQ2MWMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QTE3MUQxQzE1ODVCMTFFNDhGNzFFRTA5NzYxRDVCMDQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTE3MUQxQzA1ODVCMTFFNDhGNzFFRTA5NzYxRDVCMDQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkIwMkE2RUE0RUQ4OTExRTNBMUZGOTI5ODk3ODk2Q0JBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkIwMkE2RUE1RUQ4OTExRTNBMUZGOTI5ODk3ODk2Q0JBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Q5BsVQAAAIxJREFUeNrs1LEJgDAQheGcuI9TOIq1OIk4hAMJt49pLEKMpMpxkf9VgTSP4/GJqt7hHUne5v9DcBhKdV1qzEYXKqM0+fd5qe24ih/7OrGpfFPgiVPgCZ7JpYr5QtUCV/AET0qBZ7d41tISV/AET0qB52/xbIkreIInpcDT+6VkXk42BZ44RaknUYABAP/jLl2KR+fiAAAAAElFTkSuQmCC); background-position:0px 0px; background-repeat:no-repeat; } .progress_bar_box.P-0 .progress_bar { background-position:4px 0px; } .progress_bar_box.P-1 .progress_bar { background-position:4px -9px; } .progress_bar_box.P-2 .progress_bar { background-position:4px -18px; } .progress_bar_box.P-3 .progress_bar { background-position:4px -27px; } .progress_bar_box.P-4 .progress_bar { background-position:4px -36px; } .progress_bar_box.P-5 .progress_bar { background-position:4px -45px; }  .fb_video_wrapper { display:none; margin: 0px; width:100%; height:250px; } .fb_video_wrapper.show { display:block; } .fb_video_wrapper .fb_video_box { overflow: hidden; table-layout: fixed; display: table; width:100%; top:0; bottom:0;  } .fb_video_wrapper .fb_video_frame { text-align: center; vertical-align: middle; display: table-cell; } .fb_video_wrapper .fb_video_container { display: block; margin:auto; width:300px; height:225px; padding:0px; } .fb_video_wrapper .fb_video_container img { max-width:100%; max-height:100%; background:white; } .fb_video_wrapper .fb_video_container iframe { max-width:100%; max-height:100%; } .fb_video_wrapper .fb_video_controller { position:relative; left:0; right:0; height:25px; line-height:38px; background-color:#F5f5f5; padding:4px 6px 0 4px; } .fb_video_wrapper .fb_video_controller .tape_controls { position:relative; width:30px; float:left; height:25px; } .fb_video_wrapper .fb_video_controller .tape_controls .pause_btn { display:none; } .fb_video_wrapper .fb_video_controller .tape_controls .play_btn { display:block; } .fb_video_wrapper .fb_video_controller.playing .tape_controls .pause_btn { display:block; } .fb_video_wrapper .fb_video_controller.playing .tape_controls .play_btn { display:none; } .fb_video_wrapper .fb_video_controller .audio_controls { position:relative; width:90px; float:right; height:25px; } .fb_video_wrapper .fb_video_controller .audio_controls .mute_btn { display:none; } .fb_video_wrapper .fb_video_controller .audio_controls .audio_btn { display:block; } .fb_video_wrapper .fb_video_controller.mute .audio_controls .mute_btn { display:block; } .fb_video_wrapper .fb_video_controller.mute .audio_controls .audio_btn { display:none; } .fb_video_wrapper .fb_video_controller .tape_controls .play_btn, .fb_video_wrapper .fb_video_controller .tape_controls .pause_btn, .fb_video_wrapper .fb_video_controller .audio_controls .minus_btn, .fb_video_wrapper .fb_video_controller .audio_controls .plus_btn, .fb_video_wrapper .fb_video_controller .audio_controls .mute_btn, .fb_video_wrapper .fb_video_controller .audio_controls .audio_btn {width:30px; height:30px; float:left; text-indent:-9999px; background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGEAAAB7CAYAAABkS+5eAAAAB3RJTUUH3wMZFRAfmCoYoAAAAAlwSFlzAAAewQAAHsEBw2lUUwAAAARnQU1BAACxjwv8YQUAAAmbSURBVHja7Z1JaBRZGMdHE8UYUTNEUcEoqCQRxH30oILYhwE9ibjhEnEBI0hOJrnIeBE8DGhgxIEJehlQMLgdPHgIouDSKhFtGFFwoRUXNG5DcO35f/S/2qLTXV1dVa/zJvkKftTrl6Kp/n6p96re+173Tz/ppptuuummm2666eaxpVKpgsS2/z0SnAVHPI6p8PNeYeno6BgJzoIjHscYP5dkMjkSnAVHPI7JnEcoCQjuJHAHpMDpPMcsATfAMMMCJoE7IAVO5zlmCbgBjJ0LgjsJ3AEpcDrPMUvADTAslAQEdSF4QQE5JaCukvvj4HeDAhaCFxSQUwLqKrk/DoycC4K6ELyggJwSUFfJ/XHwe2AJCOha0OMS0EsCXq8AnaAMjAfdoMaAgLWgxyWglwS8XgE6QRkYD7pBpOeCgK4FPS4BvSTg9QrQCcrAeNANaoqSgCAOAnuzgt9LAspDwWBwCTSwrg38FmHwB4G9WcHvJQHloWAwuAQaWNcGIjkXBHEQ2JsV/F4SUB4KBoNLoIF1beA3TwkIWis4BnYzkM15BGQkYL/R6aSxXwriLC8DV0MEvRUcA7v5ujmPgIwE7Dc6nTT2S0Gc5WUg0LkgaK3gGNjN1815BGQkYL/R6aSxXwriLC8DVwtJyA7wQR8SRoO33EtT9B6MAFXgVQgJ2QE+6EPCaPCWe2mK3oMRoAoEOpccAT7oQ8Jo8JZ7aYregxGgCryKXAKPuwbmsnwPTGH5Sykl8LhrYC7L98AUlgOdSxAJPO4amMvyPTCF5S8mrgTpC56ByXz9HIyVW1Twb4mvBOkLnoHJfP0cjJVbVBDoXAJeCdIXPAOT+fo5GCu3qOBfExI2gCssTwNJlmeAf0osYQO4wvI0kGR5Bgh0LgElbABXWJ6WlD+myzPAP4UkrJY7GrklZSC3+5AwBkxl+RA4wPIe8FcICavljkZuSfl6uw8JY8BUlg+BAyzvAYHOBUFbLXc0ckvK19t9SBgDprJ8CBxgeQ/4q+jnBLnlBJ+9+gQeJ0/KT0E1GAIeSF0Ut4UuMQ3gs1efwOPkSfkpqAZDwAOpi+o85JYTfPbqE3icPCk/BdVgCHggdUEf1uR2810BCaPAPJab5MEtSgGuAMvt5rsCEkaBeSw3yYNb1OfB2813BSSMAvNYbpIHNykHksDATgePvYYteNwc8NJpogyJmA4eew1b8Lg54KXTRBkQMR089hq24HFzwEuniQosgQEeB24WkDAc/GJKgCvA48DNAhKGA6PngsCOAzcLSBgOMucRSoIryKe8hrJLBYN8ymsouxQwyKe8hrLdhJaghEclWIBKsACVYAEqwQJUggWoBAtQCRagEixAJViASrAAlWABKsECVIIFhJbAbLv94IxM3ACpc/5WxuyLTJ1JmG23H5yRiRsgdc7fyph9kakzBbPt9oMzMnEDpM75WxmzLzJ1oSQwlaWNkzpdoM4JOGfemphxYVwCU1naOKnTBeqcgHPmrYkZF0YlMJWljZM6XaDOCThn3pqYcRFeAoJaz/9+Z3ozDmoZ8HrOuEn23QLTEhDUev73O9ObcVDLgNdzxk2y7xaYlICg1vO/35nejINaBryeM26SfbcgtAQEdBG4njXRL1l3NVyzcBd8ANuYaWFMAgK6CFzPmuiXrLsarlm4Cz6Abcy0MCIBAV0ErmdN9EvWXQ3XLNwFH8A2Zlr4l8AgOu16BVgFHuZIeZEM7HXgNq+ALVEHn0F02vUKsAo8zJHyIhnY68BtXgFbogw+g+i06xVgFXiYI+VFMrDXgdu8Ara4g++rY0YAN4F9YA1FxJjsmyv565GkOTIVZrMBAZvAPrCGImJM9s2V/PVI0hyZCrM5YgGbwD6whiJiTPbNlfz1SNIcmQqzOZcAPxI+McCdvAtq9MjAE5K8GiJvfhDETwxwJ++CGj0y8IQkr4ZImx8E8RMD3Mm7oEaPDDwhyashpwA/Er6Ab+AEm6WtHgJeg/Wm2n/JogbfwAk2S1s9BLwG6020/5JFDb6BE2yWtnoIeA3WewnwK+E7OOlDgnTUEw1L+A5O+pAgHfVEgxK+g5M+JEhHPTGshK8M8Hk2RzsLSKg1KOErA3yezdHOAhJqDUn4ygCfZ3O0s4CE2rASJJP6KNjBjnk5eJNHQtz9sGZAgmRSHwU72DEvB2/ySIi7H9YiliCZ1EfBDnbMy8GbPBLi7oe1oBLKmdhbweBWSnp7H0koZ2JvBYNbKentfSChnIm9FQxupaS3G5OQfTCCu5Lp7k9i6dU4JZOQQ8pKprs/6UivximJhBxSVjLd/UkyvRrHnASuwJG1yPfBfLA49mM1f0klcAWOrEW+D+aDxR0/VvOXTAJX4Mha5PtgPlic/LGaPzoJHAmVFTofQYICnEG6WeACJdwyLYEjobJC5yNIUIAzSDcLXKCEWyYlcCRUVuh8BAkKcAbpZoELlHArij5BFo/PBhfBOTAzO8goT+BAXhdHTk31CbJ4fDa4CM6BmdlBRnkCB/K6OHJqok+QxeOzwUVwDszMDjLKEziQ18WR09BXQhWDW50vwLH01ybUuTpwU1dCFYNbnS/AHemvTahzdeAmroQqBrc6X4CT6a9NqHN14OH7BMUcKsECVIIFqAQLUAkWoBIsQCVYgEqwAJVgASrBAlSCBagEC1AJFqASLEAlWIBKsACVYAEqwQJUggWoBAvw3FypLb7o6w/zf0UlWECxElqY6NUctYT29vYWkALNfR0U2yUcpoTDBiQcpoTDfR0UlaASVIKNEqQP+NNFghISWfUtxUpgH/CniwQlJLLqW0x8cH6GHh8kAv5Tyefo8UGikIRUERR7kim/DHQJ/fZKsAntEyxAJViASrCAYiW0UkKLAQmtlNDv+4CwEnTsqNQS+vrkBgoqwQJUggWoBAtQCRagEixAJViASrAAlWABKsECVIIFqAQLUAkWoBIsQCVYgEqwAJVgAb4kxNJf0zzdxAm0t7efB0be+/+CXwkyryxfXv6HfDFhxBJkXvkL+ANE+t5exNI/uiGf67Kf+iDwxzTkK0Ive9UXI8HhVSz9OwrlEUpweAUaQSTvXUBC5jP5qQ8oIfOtxV71QSQ4SBberxFLSLmy8EK/90CQ4BCqvyiQh2qsv+hvEtz9xc8RS3D3F0W/90CTELi/KCI7O9L+oj9LKLq/KCZFPsr+QiWoBKMS5PcVdhlqjrrBLm2OCnfM1cWeaBEdc9HvPZAk6C1qH0rQh7U+lNBtcNiiW4ctvCUEbvd9SDDS7vc3CTqUbRDddNNNNwu3/wBnaMr2k3oT8AAAAABJRU5ErkJggg==); background-repeat:no-repeat; cursor:pointer; } .fb_video_wrapper .fb_video_controller .tape_controls .play_btn { background-position:-20px -102px; } .fb_video_wrapper .fb_video_controller .tape_controls .play_btn:hover { background-position:3px -102px; }   .fb_video_wrapper .fb_video_controller .tape_controls .pause_btn { background-position:-73px -102px; } .fb_video_wrapper .fb_video_controller .tape_controls .pause_btn:hover { background-position:-48px -102px; } .fb_video_wrapper .fb_video_controller .audio_controls .plus_btn { background-position: -17px -70px; } .fb_video_wrapper .fb_video_controller .audio_controls .plus_btn:hover { background-position: 6px -70px; } .fb_video_wrapper .fb_video_controller .audio_controls .minus_btn { background-position:-74px -70px; } .fb_video_wrapper .fb_video_controller .audio_controls .minus_btn:hover { background-position: -50px -70px; } .fb_video_wrapper .fb_video_controller .audio_controls .audio_btn { background-position: -31px -4px; } .fb_video_wrapper .fb_video_controller .audio_controls .audio_btn:hover { background-position: 4px -4px; } .fb_video_wrapper .fb_video_controller .audio_controls .mute_btn {background-position:-31px -34px; } .fb_video_wrapper .fb_video_controller .audio_controls .mute_btn:hover {background-position: 4px -34px; }   .fb_video_wrapper .progress_num_box { display:block; position: relative; float: left; margin-top: 0px; overflow: hidden; table-layout: fixed; width:33%; height:20px; } .fb_video_wrapper .progress_num_box .progress_num_frame { height:20px; width:90px; vertical-align: middle; display: table-cell; text-align:center; } .fb_video_wrapper .progress_num_box .progress_num_frame .progress_num { position:relative; top:-8px; height:20px; width:90px; text-align: center; display: block; margin: 0 auto; font-family: Arial, Helvetica, sans-serif; font-size: 10px; font-weight: normal; color: #646464; } .fb_video_wrapper .progress_num_box .progress_num_frame .progress_num span { margin-left:6px; margin-right:6px; }  .pop_video_wrapper { } .pop_video_container { } ",
captions:{english:{but_close:"Close",but_skip:"Skip",link_brand:"Forebase Ads",fbv_btn_play:"Play",fbv_btn_pause:"Pause",fbv_btn_plus:"Increase volume",fbv_btn_minus:"Decrease volume",fbv_btn_audioOn:"Audio On",fbv_btn_audioOff:"Audio Off"},italian:{but_close:"Chiudi",but_skip:"Skip",link_brand:"Forebase Ads",fbv_btn_play:"Play",fbv_btn_pause:"Pausa",fbv_btn_plus:"Alzare il volume",fbv_btn_minus:"Abbassare il volume",fbv_btn_audioOn:"Audio Si",fbv_btn_audioOff:"Audio No"},other:""},dummyItem:"---------"}}(),fmp_container_pop=function(a,b,c){return function(d){function e(a){r.logger.writex({msg:a,prefix:"fmp_cont_pop-"+d.adPostContID,inst:x})}function f(a,b,c){r.trackhub.sendEvent("stgexec","media_cont/${"+C+"|*AllLocs*}$/"+a,b,c)}function g(a,b){!0===u&&(void 0===q.shoeLx&&(q.shoeLx={}),q.shoeLx[a]=b)}function h(a,b){!0===u&&(void 0===q.shoeLx&&(q.shoeLx={}),void 0===q.shoeLx[a]&&(q.shoeLx[a]=[]),q.shoeLx[a][q.shoeLx[a].length-1]!==b&&q.shoeLx[a].push(b))}function i(a){function b(){return B=!0!==B,r.parcels.sendp("audio",{evt:"btnact",status:B}),B}var c="spk_frame",d="spk_box",e=D.insertSpeaker({hostWnd:v,contElm:a,frame_classID:c,box_classID:d,clickCB:b}),f=e.getElmHndls();t.applyStyleSnippet(f.frameElm,ca,c),t.applyStyleSnippet(f.boxElm,ca,d)}function j(a){function b(){q.fireEvent("quit_btn")}var c="clsbtn_base",d="clsbtn_crss",e=D.insertCloseButton({hostWnd:v,contElm:a,base_classID:c,crss_classID:d,clickCB:b,btnText:"&times;"}),f=e.getElmHndls();t.applyStyleSnippet(f.baseElm,ca,c),t.applyStyleSnippet(f.crssElm,ca,d)}function k(a){D.insertArrowButtons({hostWnd:window,contElm:I,leftClbk:function(){q.fireEvent("scrL")},rightClbk:function(){q.fireEvent("scrR")}})}function l(){if(g("bC","_autoSizeDetector"),!0!==pa){var a=D.width(F);a!==R&&(R=a,T=!0);var b=D.height(F);b!==S&&(S=b,U=!0)}}function m(a){function b(a){g("bC","showFrame"),t.applyStyleSnippet(N,ca,"adbox_frame"),!0===a?D.addClass(M,"show"):D.removeClass(M,"show")}function f(a){return null!==D.getElmHandle(a)}function i(a){function b(){H=D.getElmHandle("media_container"),I=D.getElmHandle("media_playbox"),J=D.getElmHandle("pop_overlay_pad"),K=D.getElmHandle("pop_overlay_container"),L=D.getElmHandle("pop_overlay_pad_title"),M=D.getElmHandle("pop_overlay_wrap"),N=D.getElmHandle("pop_overlay_shade"),O=D.getElmHandle("pop_overlay_wait"),P=D.getElmHandle("pop_overlay_pad_title_box"),Q=D.getElmHandle("progress_bar_box")}function c(a){function b(a){!0===a?q.fireEvent("hoverOn"):q.fireEvent("hoverOff")}function c(){}g("bC","bindTargets");var d="media_frame",f=I;if(!0!==a)return D.bind(P,"click",null),D.bind(d,"mouseenter",null),D.bind(d,"mouseleave",null),D.bind(f,"click",null),void D.bind(f,"touchend",null);D.bind(d,"mouseenter",function(){e(),b(!0)}),D.bind(d,"mouseleave",function(){e(),b(!1)}),D.bind(f,"click",function(){e(),c()}),D.bind(f,"touchend",function(){e(),c()})}g("bC","renderCont"),!0===a?(e(),D.insertTemplate(aa.popup_overlay,ba,G),b(),c(!0)):(c(!1),e(),D.empty(G))}function j(a){h("fxin",a),g("bC","fxContainer"),e(),!0===a?(D.cursor(I,"pointer"),la=!0):(D.cursor(I,"auto"),la=!1)}switch(g("bC","_procMaster"),h("stateMaster",na),na){case"INIT":sa=a,na="WEL";case"WEL":if(a-sa>c.stage.contTimeout){e(),r.trackhub.sendEvent("alerts","fmp_container/"+d.adpName,"error_excont_timeout"),na="STDN";break}if(!0!==E)break;if(!1!==xa)break;if(!0!==f(G))break;i(!0),sa=a,na="WSB";case"WSB":if(a-sa>c.stage.contTimeout){e(),r.trackhub.sendEvent("alerts","fmp_container/"+d.adpName,"error_incont_timeout"),na="STDN";break}if(!0!==f(I))break;A=!0,na="WEX";case"WEX":if(!0===pa){q.fireEvent("cont_clsd_befx"),na="WHS";break}if(!0!==oa)break;b(!0),j(!0),na="WSD";case"WSD":if(!0===ua)break;q.fireEvent("cont_expd"),na="RNN";case"RNN":if(!0!==pa)break;q.fireEvent("cont_clsd_aftx"),na="DCM";case"DCM":j(!1),na="WHS";case"WHS":if(!0===ua)break;na="STDN";case"STDN":e(),b(!1),i(!1),va=null,ta=!1,qa=!0,na="PARK"}}function n(a){var b=a,c="setFxType - type:"+b;switch(!0===ma&&(b="size",c+=" (forced)"),e(),h("FxType",a),b){case"none":D.removeClass(J,"size"),D.removeClass(J,"fade"),ea=0,fa=0,ga=0,ha=0,ia=0;break;case"size":D.addClass(J,"size"),D.removeClass(J,"fade"),ea=800,fa=100,ga=200,ha=1e3,ia=1e3;break;case"fade":D.removeClass(J,"size"),D.addClass(J,"fade"),ea=800,fa=100,ga=200,ha=1e3,ia=1e3}}function o(a){function b(a){g("bC","opakContainer"),e(),!0===a?(!0===wa.blackframe?D.addClass(J,"darkb"):D.removeClass(J,"darkb"),"unspecified"!==wa.framecolor&&D.background(M,wa.framecolor),wa.radius>0&&(D.radius(M,wa.radius),D.overflow(M,"hidden")),D.addClass(J,"opak")):("unspecified"!==wa.framecolor&&D.background(M,"transparent"),wa.radius>0&&D.overflow(M,"visible"),D.removeClass(J,"opak"))}function c(a){g("bC","expandPlaybox");var b=wa.background,c=wa.width,d=wa.height;D.background(I,b),!0===a?(D.width(I,c),D.height(I,d),e()):(D.width(I,0),D.height(I,0),e())}function f(a){g("bC","positionOuterFrame");var b,c,d,e,f,h,i=wa.xoff,j=wa.yoff;if(!0===a){switch(b=wa.width,c=wa.height,d=b,e=c,D.width(K,d),D.height(K,e),wa.xalign){case"left":f=0+i+W;break;case"right":f=R-d+i+W;break;default:f=(R-d)/2+i+W}switch(wa.yalign){case"top":h=0+j;break;case"bottom":h=S-e+j;break;default:h=(S-e)/2+j}D.left(K,f),D.top(K,h)}}function i(){if(!0!==V)return!1;var a=D.getrect(K,Z),b=a.left,c=(Z.screen.availWidth-a.width)/2;return Math.abs(b-c)>=1&&(W+=.8*(c-b),W>X&&(W=X),W<-X&&(W=-X),Y=!0,!0)}function j(a){g("bC","adjustWidth");var b=!1;if(!0===T&&(T=!1,b=!0),!1!==Y&&(Y=!1,b=!0),!0===a){var c=wa.width,d=D.width(H);if(d!==c||!0===b){d=c;var h=d;D.width(J,h),D.width(H,d),e()}}else D.width(J,4);!0===b&&f(a)}function k(a){g("bC","adjustHeight");var b=!1;if(!0===U&&(U=!1,b=!0),!0===a){var c=wa.height,d=D.height(H);if(d!==c||!0===b){d=c;var h=d;D.height(J,h),D.height(H,d),e()}}else D.height(J,4),D.height(H,0);!0===b&&f(a)}if(g("bC","_procFX"),null!==va)switch(h("stateFxProc",ja),ja){case"INIT":if(!0!==E)break;e(),n(wa.fxin),ka=a,ja="READY",e();case"READY":if(a-ka<ea)break;if(!0!==la)break;if(!1!==xa)break;ua=!0,!0===d.flashad&&D.addClass(O,"show"),ka=a,ja="WFFA";case"WFFA":if(!0===d.flashad){if(a-ka<da)break;D.removeClass(O,"show")}if(n(wa.fxin),c(!0),b(!0),"size"===wa.fxin){k(!0),ka=a,ja="WAIT_FX_IN_HEIGHT",e();break}k(!0),j(!0),ka=a,ja="DEPLOYED",e();case"DEPLOYED":if(!0===i()&&j(!0),a-ka<ha)break;ua=!1,e(),ka=a,ja="WAIT_FX_OUT",e();case"WAIT_FX_OUT":if(!0===i()&&j(!0),a-ka>300&&(k(!0),j(!0),ka=a),!0===la)break;if(!1!==xa)break;ua=!0,n(wa.fxout),"fade"===wa.fxout&&b(!1),"size"===wa.fxout&&(c(!1),k(!1),j(!1)),ka=a,ja="FX_OUT_TRANS",e();case"FX_OUT_TRANS":if(a-ka<ia)break;c(!1),b(!1),k(!1),j(!1),ua=!1,ja="PARK",e();break;case"PARK":break;case"WAIT_FX_IN_HEIGHT":if(!0===i()&&j(!0),a-ka<fa)break;j(!0),ka=a,ja="WAIT_FX_IN_WIDTH",e();break;case"WAIT_FX_IN_WIDTH":if(!0===i()&&j(!0),a-ka<ga)break;ja="DEPLOYED",e()}}function p(a,b){return!1}var q=this,r=(d.master,d.comps),s=d.bootParams,t=d.cllBks,u=d.debugVars.shoeLx,v=(d.unitDomElm,d.hostWnd),x=(d.myUnitObj,Math.round(999*Math.random()));e();var y=(d.stageAttributes,s.env),z=!1,A=!1,B=!1,C=s.placementId+"/"+d.sectionName+"/"+d.unitName+"/"+d.adpName+"/"+d.segmentName,D=new a({hostWnd:v}),E=!1,F=d.main_wrapper_id,G=d.internalContainer,H=null,I=null,J=null,K=null,L=null,M=null,N=null,O=null,P=null,Q=null,R=0,S=0,T=!1,U=!1,V=d.centscrn,W=0,X=20,Y=!1,Z=window;try{top.scrollX;Z=top}catch(a){}var $=b.styles;void 0!==d.styles&&($=d.styles),D.deployStyle("fmp_styles",$,!0);var _=b.templates;void 0!==d.templates&&(_=d.templates);var aa={};D.getAllTemplates(_,aa);var ba=b.captions.italian;void 0!==d.captions&&(ba=d.captions);var ca=d.stylename,da=150,ea=0,fa=0,ga=0,ha=0,ia=0,ja="INIT",ka=0,la=!1,ma=!1,na="INIT",oa=!1,pa=!1,qa=!1,ra=null,sa=0,ta=!0,ua=!1,va=null,wa={},xa=!1;!0===u&&"dev"===y&&(q.shoeLx={stageName:d.stageName,stageAttributes:d.stageAttributes,activeLayout:d.activeLayout,sectionName:d.sectionName,unitName:d.unitName,adpName:d.adpName,adPostContID:d.adPostContID,segmentName:d.segmentName,unitNumID:d.unitNumID,stylename:d.stylename,unitfbxID:d.unitfbxID,mdType:d.mdType,segmType:d.segmType,adPostWidth:d.adPostWidth,adPostHeight:d.adPostHeight,main_wrapper_id:d.main_wrapper_id,internalContainer:d.internalContainer}),q.actUpdt=function(a){xa=a.curStatus.scroll.scrlng},q.fireEvent=function(a,b){switch(a){case"hoverOn":case"hoverOff":case"click":case"quit_btn":return void(null!==va&&va.fireEvent(a,b))}d.master.fireEvent(a,b)},q.tick=function(a){function b(){if(g("bC","domToolSetup"),!0!==E){null!==D.setWrapperElement(F)&&(E=!0)}}if(!1===z)try{if(!0===p(70,15e3)){e();w}if(b(),!0!==E)return;l(),m(a),o(a)}catch(a){if(!0!==z){var c="";!0===u&&void 0!==q.shoeLx&&void 0!==q.shoeLx.bC&&(c+="Bdc--\x3e "+q.shoeLx.bC.join(" - ")),void 0!==a.stack?(c+=" - Stk--\x3e ",c+=a.stack.toString()):c+=" - Msg--\x3e "+a,c.length>250&&(c=c.substring(0,250)+"..."),f("excepts",c),q.fireEvent("error_mediacont"),z=!0}}},q.isReady=function(){return A},q.setParams=function(a){va=a.srcCtrl,wa.fxin=a.fxin,wa.fxout=a.fxout,wa.blackframe=a.blackframe,wa.framecolor=a.framecolor,wa.radius=a.radius,wa.width=a.width,wa.height=a.height,wa.xalign=a.xalign,wa.yalign=a.yalign,wa.xoff=a.xoff,wa.yoff=a.yoff,wa.background=a.background,h("tagName",a.tagname)},q.getSelector=function(){return"media_playbox"},q.expand=function(){e(),oa=!0,ra=Date.now(),h("_expandReq",oa)},q.destroy=function(){e(),pa=!0,h("_destroyReq",pa)},q.getDestStat=function(){return!1!==z||qa},q.showQuit=function(a,b){h("bShow",a),h("quit_type",b),!0===a&&j(I)},q.showSpkr=function(a){!0===a&&i(I)},q.showArrows=function(a){!0===a&&k()},q.updCntDims=function(a,b,c){e(),wa.width=a,wa.height=b}}}(domtool,fmp_textstorage,config),fmp_driverinterf=function(a,b,c,d,e,f,g,h,i){return function(a){function c(b){n.logger.writex({msg:b,prefix:"fmp_drvint_"+a.unitfbxID,inst:t})}function j(a,b){null!==y&&y.notif(a)}function k(a,b){null!==y&&y.notif(a)}var l=this,m=a.master,n=a.comps,o=(a.cllBks,a.unitDomElm),p=a.hostWnd,q=a.useLowRes,r=a.mdType,s=(a.packId,a.segmAttr),t=Math.round(999*Math.random());c();var u={master:l,comps:a.comps,bootParams:a.bootParams,adPostContElm:a.adPostContElm,unitDomElm:o,hostWnd:p,useLowRes:q,vastCaller:a.vastCaller,fireEvent:l.fireEvent,opConfig:b,unitfbxID:a.unitfbxID,main_wrapper_id:a.main_wrapper_id,tagName:a.tagName,segmName:a.segmName,adpName:a.adpName,unitName:a.unitName,segmentID:a.segmentID,packId:a.packId,dummy_item:0},v={},w=!1,x=null,y=null;l.fireEvent=function(a,b){switch(a){case"click":null!==y&&y.notif("click");break;case"actsenscont":null!==y&&y.notif("imp");break;case"playerror":null!==y&&y.notif("error");break;case"hoverOn":null!==y&&y.notif("hoverOn");break;case"hoverOff":null!==y&&y.notif("hoverOff")}m.fireEvent(a,b)},l.ssac=function(a,b){null!==x&&"function"==typeof x.ssac&&x.ssac(a,b)},l.tick=function(a){null!==x&&x.tick(a),null!==y&&y.tick(a)},l.updCntDims=function(a,b,c){null!==x&&void 0!==x.updCntDims&&x.updCntDims(a,b,c),null!==y&&void 0!==y.updCntDims&&y.updCntDims(a,b,c)},l.openCmd=function(b){function j(b){function c(a){return"liveweb"===a.ssname}function d(a){return a.snippet.indexOf("$fbdirect")>=0}function e(a){return a.snippet.indexOf("$fsadbox")>=0}var f=null;if(!0===c(b)&&null!==(f=new i({master:l,comps:a.comps,cllBks:a.cllBks,bootParams:a.bootParams,unitName:a.unitName,width:a.segmWidth,height:a.segmHeight,ssname:b.ssname,snippet:b.snippet,xfmtName:s.natformat,stageAttributes:a.stageAttributes})))return{type:"lw",insbx:!1,module:f,width:a.segmWidth,height:a.segmHeight};if(!0===d(b)&&null!==(f=new g({master:l,comps:a.comps,cllBks:a.cllBks,bootParams:a.bootParams,unitName:a.unitName,ssname:b.ssname,snippet:b.snippet}))){var j=a.sourceWidth,k=a.sourceHeight;return 1===j&&1===k&&(j=a.segmWidth,k=a.segmHeight),{type:"dir",insbx:!1,module:f,width:j,height:k}}if(!0===e(b)&&null!==(f=new h({master:l,comps:a.comps,cllBks:a.cllBks,bootParams:a.bootParams,unitName:a.unitName,unitAttributes:a.unitAttributes,width:a.adPostWidth,height:a.adPostHeight,snippet:b.snippet}))){var j=a.adPostWidth,k=a.adPostHeight;return 1===j&&1===k&&(j=a.segmWidth,k=a.segmHeight),{type:"adbx",insbx:!1,module:f,width:j,height:k}}return null}switch(c(),u.containerClass="",null!==a.mediacontainer&&(u.containerClass=a.mediacontainer.getSelector()),v.uniqueID=b.uniqueID,v.tagname=b.tagname,v.ssname=b.ssname,v.shtagname=b.shtagname,v.snippet=b.snippet,v.insbx=b.insbx,v.insmod=b.insmod,v.initvol=s.initvol,v.quit=s.quit,v.fxin=s.fxin,v.fxout=s.fxout,v.mintime=s.mintime,v.maxtime=s.maxtime,v.active=a.active,v.log=a.log,v.specAd=!1,r){case"dsp":v.width=a.sourceWidth,v.height=a.sourceHeight;var k=j(b);null!==k&&(y=k.module,v.insbx=!1,v.width=k.width,v.height=k.height,v.specAd=!0),x=new d(u);break;case"cst":x=new e(u),v.width=a.segmWidth,v.height=a.segmHeight;break;case"vid":u.vastDevice=b.vastDevice,u.hasFlash=b.hasFlash,u.primaryMethod=b.primaryMethod,u.tagname=a.tagName,u.uniqueID=b.uniqueID,x=new f(u),v.width=a.segmWidth,v.height=a.segmHeight}null!==a.mediacontainer&&a.mediacontainer.setParams({srcCtrl:m,tagname:v.tagname,width:v.width,height:v.height,xalign:s.xalign,yalign:s.yalign,xoff:s.xoff,yoff:s.yoff,fxin:s.fxin,fxout:s.fxout,blackframe:s.blackframe,framecolor:s.framecolor,radius:s.radius,background:s.background}),c()},l.openStat=function(a){var b={status:"...",msg:"",data:null};if(null===x)return b.status="error",b.msg="cant_create_driver",b;if(!0!==x.openStat())return b.status="...",b;if(null!==y){if(!0!==y.isReady())return b.status="...",b;var c=y.getAM();if(null===c)return b.status="error",b.msg="cant_build_ad",b;v.snippet=c}return l.fireEvent("addVisLstn",j),l.fireEvent("addHovLstn",k),b.status="ok",b},l.loadCmd=function(){x.setupPlayer(v),w=!0},l.loadStat=function(a){var b={status:"..."};return!0===x.isPlayerError()?b.status="error":!0===x.isPlayerReady()&&(b.status="ok"),b},l.startCmd=function(){x.start(),null!==y&&y.notif("start")},l.startStat=function(a){var b={status:"...",msg:"",data:null};return b.status="ok",b},l.adNtf=function(a){null!==y&&("onshow"===a.evt?y.notif("onshow"):"secLoad"===a.evt&&(c(),y.notif("secLoad")))},l.stopCmd=function(){x.deletePlayer(!1),l.fireEvent("remVisLstn",j),l.fireEvent("remHovLstn",k)},l.stopStat=function(a){var b={status:"...",msg:"",data:null};switch(r){case"dsp":case"cst":case"vid":var c=x.checkDeleted();!0===c&&(b.status="ok",w=!1)}return b},l.pauseCmd=function(a){x.pause(a)},l.muteCmd=function(a){x.mute(a)},l.audioCmd=function(a){x.audio(a)},l.rewindCmd=function(){x.rewind(!1)},l.sendDebugMail=function(a){switch(c(),r){case"dsp":case"cst":null!==x&&x.sendDebugMail_Ext(a)}},l.shouldProgress=function(){return null!==x&&x.shouldProgress()},l.getProgress=function(){var a={curtime:0,reftime:0};return null===x?a:x.getProgressAbs()},l.getEstTimeToUnload=function(){return null===x?-1:x.getEstTimeToUnload()}}}(0,config,0,fmp_mediadrv_dispadx,fmp_mediadrv_custom,fmp_mediadrv_vast,fmp_sa_direct,fmp_sa_adbox_img,fmp_sa_liveweb),fmp__sourcectrl_wf=function(a,b,c,d,e){return function(b){function f(a){y.logger.writex({msg:a,prefix:"fmp__sourcectrl_wf",inst:J})}function g(a){y.logger.writex({tgl:!0,msg:a,prefix:"unit:"+b.unitName+" (src_ctrl_wf)"})}function h(a,b,c){return 0===A.refprc?null:{domain:"tags",event:n()+"/wf/"+X+"/_s20 by_tag/"+Y+a,data:b,evOpts:c}}function i(a,b,c){return 0===A.refprc?null:{domain:"tags",event:n()+"/wf/"+X+"/_s20 by_tag/*AllTags*"+a,data:b,evOpts:c}}function j(a,b,c){var d=c||{};!0===D&&void 0===d.res&&(d.res="lo"),ba.seb(a,b,d)}function k(a,b,c){if(0===A.refprc)return null;var d=n()+"/wf/"+X+"/_s10 shares"+a,e=c||{};!0===D&&void 0===e.res&&(e.res="lo"),y.trackhub.sendEvent("tags",d,b,e)}function l(){function a(a){y.trackhub.sendEvent("tags_alt","/_s10 clicks/"+a,Z,{res:"max"},!0)}a("*AllPlcms*"),a(z.hostPlcmId)}function m(a,b,c){y.trackhub.sendEvent("tags_alt","/_s15 by_node/"+Z,a,b,c)}function n(){switch(b.mdType){case"dsp":return"/_s20 dsp";case"vid":return"/_s30 vid";case"nat":return"/_s40 nat";case"cst":return"/_s50 cst"}}function o(a){var b=!1;switch(a.eventName){case"video_start":case"video_impression":case"video_firstQuartile":case"video_midpoint":case"video_thirdQuartile":case"video_complete":b=!0}if(!0===b){var c={unitfbxID:R,adpID:S,tagName:W,event:a.eventName};w.fireEvent("src_vast_ev",c)}}function p(a,c){function d(a,c){if(!0!==ra){ra=!0;var d=Date.now()-Ka;if("driver_to"===a){var e="dispad_source_player_timeout";!0===L&&(e="vast_source_player_timeout"),v(e),t("plyerr",{msg:"timeout"});var h={unitfbxID:R,adpID:S,tagName:W,event:a,delay:d};return void w.fireEvent("src_abort",h)}if("playerror"===a){var e="dispad_source_player_error";!0===L&&(e="vast_source_player_error"),v(e),t("plyerr",{msg:c.msg});var h={unitfbxID:R,adpID:S,tagName:W,event:a+" - "+c.msg,delay:d};return void w.fireEvent("src_abort",h)}var i=!1;"passback"===a&&!0===ha&&(i=!0);var k=a;!0===i&&(k="late_passback");var h={unitfbxID:R,adpID:S,tagName:W,event:k,delay:d};w.fireEvent("src_abort",h),"passback"!==a&&("post_passback"!==a&&"no_content"!==a||v("vast_source_passback")),j("","_s20 passback"),!0===i&&j("","_s21 late-passback"),j("/pb_path",c.path),j("/pb_version",c.ver),f(),j("/pb_time",d,{scl:"shorttimesLR",res:"lo"}),!0===i&&!1===ja?(ja=!0,t("ltpbck",{delay:d}),v("source_late_pb"),g("late passback on TAG: "+W),y.parcels.sendp("liveacc",{evt:"regSale",data:{ids:[E,F,G,H],aid:I,log:"wf",typ:b.mdType,act:b.active,prc:b.refprc,mod:"cnc"}})):!0!==ka&&(ka=!0,t("pbck",{delay:d}),f())}}d(a,c),ba.sed("/dir_evts","_s30 aborted ("+a+")"),ba.rap()}function q(){f();var a={master:w,comps:y,bootParams:b.bootParams,cllBks:b.cllBks,adPostContElm:b.adPostContElm,unitDomElm:B,hostWnd:C,useLowRes:D,main_wrapper_id:b.main_wrapper_id,internalContainer:b.internalContainer,mediacontainer:b.mediacontainer,mdType:b.mdType,packId:b.packId,sourceWidth:b.sourceWidth,sourceHeight:b.sourceHeight,adPostWidth:b.adPostWidth,adPostHeight:b.adPostHeight,segmWidth:b.segmWidth,segmHeight:b.segmHeight,stylename:b.stylename,unitfbxID:b.unitfbxID,stageName:b.stageName,stageAttributes:b.stageAttributes,unitAttributes:b.unitAttributes,activeLayout:b.activeLayout,sectionName:b.sectionName,unitName:T,adpName:U,unitNumID:b.unitNumID,sourcesetName:X,segmName:V,segmAttr:b.segmAttr,segMetha:b.segMetha,segmentID:b.segmentID,tagName:W,active:b.active,log:"wf",curSrcData:A,vastCaller:y.vastCaller,catchCallback:b.catchCallback,eventCallback:w.fireEvent,secProt:b.secProt,promolinkuri:b.promolinkuri};return new d(a)}function r(a){if(!(Ga>=fa||null===Fa||a-Fa<ea)){Fa=a;t("tick",{tagname:W,time:Math.round(a/1e3),tmval:Math.round(ea/1e3),tickIdx:Ga}),Ga+=1,Ga<ga||ba.rap()}}function s(c){function d(a){!0!==ra&&null!==Ka&&!0!==ha&&("dsp"!==b.mdType&&"vid"!==b.mdType||!0===va)&&(!0!==wa&&a-Ka<da||(ha=!0,g("running TAG: "+W),j("","_s40 content",{res:"hi"}),ba.sed("/dir_evts","_s30 running",{res:"hi"}),ba.sed("/win_prc",100*b.refprc,{scl:"mediumtimes",res:"hi",exp:-5}),!0===b.active&&m("_s20 paid",{res:"hi"},!0),j("/ap_width_win",b.segmWidth,{scl:"boxWidth",res:"hi"}),j("/src_idx_win",Q,{scl:"mediumtimes",res:"hi"}),k("/_s20 wins",Y),!0!==ka&&(t("hit",{hitprc:b.refprc}),ka=!0,Fa=a,Ga=0),!0===b.active&&(y.dtomanager.regDTOHit(W),f(),y.dtomanager.regDTOWinPr(W,b.refprc),f()),y.parcels.sendp("liveacc",{evt:"regSale",data:{ids:[E,F,G,H],aid:I,log:"wf",typ:b.mdType,act:b.active,prc:b.refprc,mod:"hit"}})))}switch(Ia){case"INIT":Ha=q();var e={tagname:W,ssname:X,shtagname:Y,uniqueID:P,snippet:b.snippet,insbx:b.insbx,insmod:b.insmod,vastDevice:b.vastDevice,hasFlash:b.hasFlash,primaryMethod:b.primaryMethod};Ha.openCmd(e),Ha.tick(c),Ja=c,Ia="WAIT_FOR_DRV_READY";case"WAIT_FOR_DRV_READY":!0!==ra&&c-Ja>a.media.drvTimeout&&(La="driver_to",p("driver_to"),f(),g("driver timeout on TAG: "+W));var h=Ha.openStat(c);if("ok"!==h.status)break;f(),La="ok",Ia="READY";case"READY":if(!0!==la)break;la=!1;var i="loading TAG: "+W;!0===b.insbx&&(i+=" (insbx)"),g(i),Ha.loadCmd(),Ha.tick(c),t("req"),m("_s10 req",{res:"lo"});var l={sourceName:W,sourceIdx:Q,sandbox:b.insbx,sourcesetName:X,width:Math.round(b.sourceWidth),height:Math.round(b.sourceHeight),segmName:V,stylename:b.stylename,logic:"wf",price:b.refprc>0?b.refprc:"NA",cost:M>0?M:"NA",floor:N>0?N:"NA"};w.fireEvent("tryingsource",l),Ja=c,Ia="LOADING";case"LOADING":if(!0!==ra&&c-Ja>a.media.drvTimeout&&(p("driver_to"),f(),g("driver timeout on TAG: "+W)),!0===pa){Ia="UNLOAD";break}var h=Ha.loadStat(c);if("ok"!==h.status)break;ma=!0,Ka=c,j("","_s10 request"),j("/ap_width_req",b.segmWidth,{scl:"boxWidth",res:"lo"}),j("/src_idx_req",Q,{scl:"mediumtimes",res:"lo"}),k("/_s10 reqs",Y),ba.sed("/dir_evts","_s20 tag_loaded"),j("/dir_evts","_s90 request (val)"),!0===b.active&&y.dtomanager.regDTOReq(W),Ea=!0,Ia="WFS";case"WFS":if(!0===pa){Ia="PLAYING";break}if(d(c),!0===L&&!0!==na)break;Ha.startCmd(),g("playing TAG: "+W),Ia="PLAYING";case"PLAYING":if(d(c),!0!==pa)break;Ia="UNLOAD";case"UNLOAD":g("unloading TAG: "+W),Ha.stopCmd(),Ha.tick(c),pa=!1,Ia="WAIT_UNLOAD";case"WAIT_UNLOAD":var h=Ha.stopStat(c);if("ok"!==h.status)break;qa=!0,!0!==ba.wes()&&ba.sed("/dir_evts","_s50 unresolved"),Ia="PARK";break;case"PARK":Ea=!1,w.vastproc=null,Ia="BLOCK"}}function t(a,c){function d(a,c){var d={event:a,group:"seek_tag_wf",ver:100,data:{tagnam:W,nodenam:Z,srcID:P,log:"wf",vast:w.isVast()?"1":"0",actv:w.isActiveSource()?"1":"0"}},e=d.data;switch(a){case"req":e.cat=b.category,e.top=0===Q?1:0,e.pos=Q,e.val=b.dtovalue,e.ovr=b.overuse,e.floor=N,e.crbdxhr=A.curbIdx_Hr,e.crbdxer=A.curbIdx_Er,e.crbdxdl=A.curbIdx_Dl,e.crbdxmd=0;break;case"hit":e.pos=Q,e.hitprc=c.hitprc;break;case"pbck":case"ltpbck":e.delay=c.delay;break;case"plyerr":e.msg=c.msg;break;case"tick":e.tmval=c.tmval,e.tkidx=c.tickIdx}ba.sap(_,d)}function e(a,b){var c={dsdChannel:z.dsdchn,event:a,group:"dto_prf_wf",ver:100,data:{tagnam:W}},d=c.data;switch(a){case"req":break;case"hit":d.pos=Q,d.hitprc=b.hitprc;break;case"pbck":case"ltpbck":d.delay=b.delay;break;case"plyerr":d.msg=b.msg;break;default:return}ba.sap(aa,c)}!0===b.active&&(d(a,c),e(a,c))}function u(a){var c=b.getActFlags();switch(Ba){case"UNRENDERED":if(!0!==ha)break;Ba="INVISIBLE";break;case"INVISIBLE":if(!0!==c.isUnitVisible)break;if(!0!==Ca){ba.sed("/visib","_s10 visible_first"),Ca=!0,Ba="VISIBLE";break}if(!0!==Da){ba.sed("/visib","_s11 visible_second"),Da=!0,Ba="VISIBLE";break}break;case"VISIBLE":if(!0===c.isUnitVisible)break;Ba="INVISIBLE"}}function v(a){var c=new e,d=0;K.push("sending debug email...");var f="SOURCE CONTROLLER REPORT - WATERFALL\n\n",g={stageName:b.stageName,activeLayout:b.activeLayout,sectionName:b.sectionName,unitName:T,unitNumID:b.unitNumID,tagname:W,snippet:b.snippet,mdType:b.mdType,vastDevice:b.vastDevice,hasFlash:b.hasFlash,primaryMethod:b.primaryMethod};d=0,f+="------ context info ------\n\n",f+=c.printObj(d,g,w)+"\n\n\n",d=0,f+="------ attributes ------\n\n",f+=c.printObj(d,O,w)+"\n\n\n";var h={sourceName:W,sourceIdx:Q,sourcesetName:X,width:Math.round(b.segmWidth),height:Math.round(b.segmHeight),segmName:V,stylename:b.stylename,logic:"wf",price:b.refprc>0?b.refprc:"NA",cost:M>0?M:"NA",floor:N>0?N:"NA"};d=0,f+="------ source info ------\n\n",f+=c.printObj(d,h,w)+"\n\n\n";var i=W.replace(X+"_",""),j=a.replace(/\s+/g,"_"),k="node: "+i+"  ("+j+")",l={debugStrings:K,from:"SRC_CTRL_WF",subject:k,text:f};y.mailmaster.sendObj(l)}var w=this,x=b.master,y=b.comps,z=(b.cllBks,b.bootParams),A=b.curSrcData,B=b.unitDomElm,C=b.hostWnd,D=b.useLowRes;!0!==A.active&&(D=!0);var E=b.stageID,F=b.sectID,G=b.unitID,H=b.partID,I=b.assetID,J=Math.round(999*Math.random());f(),f();var K=["init"],L=b.vastSeg,M=b.cost,N=b.floor,O=b.attributes,P=Math.round(999999999999*Math.random()),Q=(b.sourceTrackingBeams,b.sourceIdx),R=b.unitfbxID,S=b.adpID,T=b.unitName,U=b.adpName,V=b.segmName,W=A.tagname,X=A.ssname,Y=A.shrtname,Z=A.nodeData.nodename,$=!1,_="_tagwf"+Math.round(99999*Math.random());y.accbeam.register("tag_wf",_,a.accbeam.channels.tagwf.red);var aa="_dto_prf_wf_"+Math.round(99999*Math.random());y.accbeam.register("dto_prf_wf",aa,a.accbeam.channels.dto_prf_wf.red);var ba=new c({comps:y,assembleFunct:h,assembleFunctX:i});ba.sed("/dir_evts","_s10 inst"),!0===b.insbx&&j("","_s11 in sandbox"),w.provider="";var ca=W.match(/([A-Z]{2,})/g);null!==ca&&(w.provider=ca[ca.length-1]),f();var da=a.media.adWFRepMinTime,ea=a.accbeam.tickPerDisp,fa=a.accbeam.tickCountDisp,ga=a.accbeam.valTickCountDisp;!0===L&&(da=a.media.adVastRepMinTime,ea=a.accbeam.tickPerVast,fa=a.accbeam.tickCountVast,ga=a.accbeam.valTickCountVast),!0!==b.active&&(da=a.media.adPassRepMinTime,ea=a.accbeam.tickPerPasv);var ha=!1,ia=!1,ja=!1,ka=!1,la=!1,ma=!1,na=!1,oa=!1,pa=!1,qa=!1,ra=!1,sa=!1,ta=!1,ua=!1,va=!1,wa=!1,xa=!1,ya=!1,za=!1,Aa=!1,Ba="UNRENDERED",Ca=!1,Da=!1,Ea=!1,Fa=null,Ga=0,Ha=null,Ia="INIT",Ja=0,Ka=null,La="---";w.fireEvent=function(a,b){switch(a){case"quit_btn":f(),g("quit on TAG: "+W),Aa=!0;break;case"hoverOn":g("hover on TAG: "+W);break;case"hoverOff":break;case"lwclick":case"adbxclick":case"click":if(!1!==$)break;$=!0,f(),g("click on TAG: "+W),ba.sed("/clicks","_s10 click",{res:"max"},!0),l(),m("_s30 click",{res:"max"},!0);break;case"send_event":var c="";""!==b.subpath&&(c+=b.subpath);var d={};!0===b.hires&&(d.res="hi"),ba.sed(c,b.evdata,d);break;case"passback":if(!0===ta)break;ta=!0,La="passback",p("passback",b),f(),g("passback on TAG: "+W);break;case"actsenscont":va=!0,j("","_s41 acsense");break;case"confmsg":va=!0,wa=!0,j("","_s42 confirmed");break;case"no_content":if(!0===ta)break;ta=!0,La="passback",p("no_content",b),f(),g("no content on TAG: "+W);break;case"post_passback":if(!0===ta)break;ta=!0,La="passback",p("post_passback",b),f(),g("pseudo-passback on TAG: "+W);break;case"vast_tracking":o(b);break;case"adImpression":var e={unitfbxID:R,adpID:S,tagName:W,impdata:b.impdata};w.fireEvent("src_imp",e);break;case"adPlaying":if(!0===ya)break;ya=!0;var e={unitfbxID:R,adpID:S,tagName:W,plydata:b.plydata};w.fireEvent("src_ply",e);break;case"adShown":va=!0,wa=!0;break;case"adLoaded":xa=!0;break;case"mediaEnd":f(),za=!0;break;case"playerror":if(!0===sa)break;sa=!0,p("playerror",b),f(),g("play error on TAG: "+W),y.trackhub.sendEvent("alerts","fmp_sourcectrl/"+W,"error_player"),j("","_s50 player error",{res:"hi"}),j("/error_msgs",b.msg,{res:"hi"})}x.fireEvent(a,b)};var Ma={unitfbxID:R,adpID:S,tagName:W,sourceIdx:Q};w.fireEvent("src_load",Ma),w.tick=function(a){try{s(a),!0!==ua&&(r(a),u(a),Ha&&Ha.tick(a))}catch(a){if(!0!==ua){ua=!0;var b="";if(void 0!==a.stack?(b+=" - Stck--\x3e ",b+=a.stack.toString()):b+=" - Msg--\x3e "+a,b.length>250)var c=b.substring(0,250)+"...";var d={msg:c};sa=!0,p("playerror",d),f(),g("play error on TAG: "+W),y.trackhub.sendEvent("alerts","fmp_sourcectrl/"+W,"error_player"),j("","_s51 except",{res:"hi"}),j("/excpt_msgs",c,{ard:10,att:b,res:"hi"})}}},w.wasAborted=function(){return ra},w.getContVldTm=function(){return da},w.getEstTimeToUnload=function(){return null===Ha?-1:Ha.getEstTimeToUnload()},w.load=function(){la=!0},w.isLoaded=function(){return ma},w.start=function(){na=!0},w.isStarted=function(){return oa},w.adNtf=function(a){null!==Ha&&Ha.adNtf(a)},w.pause=function(a){Ha.pauseCmd(a)},w.audio=function(a){Ha.audioCmd(a)},w.rewind=function(){Ha.rewindCmd()},w.unload=function(){pa=!0},w.isUnloaded=function(){return qa},w.isPlayerError=function(){return sa},w.updCntDims=function(a,b,c){null!==Ha&&Ha.updCntDims(a,b,c)},w.getSourceAttributes=function(){return O},w.getUniqueID=function(){return P},w.getSrcIdx=function(){return Q},w.getOpenStatus=function(){return La},w.isAdOn=function(){return!0===va},w.isAdLoaded=function(){return!0===xa},w.isPassback=function(){return ta},w.isMediaEnd=function(){return za},w.isVast=function(){return L},w.isDispad=function(){return!1===L},w.getTagName=function(){return W},w.getMdType=function(){return b.mdType},w.getShortTagName=function(){return Y},w.getNodeName=function(){return Z},w.getRefPrc=function(){return b.refprc},w.isRunning=function(){return ha},w.isActiveSource=function(){return b.active},w.setFoundReported=function(){ia=!0},w.isFoundReported=function(){return ia},w.shouldProgress=function(){return Ha.shouldProgress()},w.getProgress=function(){return Ha.getProgress()},w.tick(Date.now())}}(config,0,an_buffer,fmp_driverinterf,textools),fmp__plyctrl_bd=function(a,b,c,d,e){return function(b){function f(a){z.logger.writex({msg:a,prefix:"fmp__plyctrl_bd",inst:H})}function g(a){z.logger.writex({tgl:!0,msg:a,prefix:"unit:"+B.unitName+" (src_ctrl_bd)"})}function h(a,b,c){return{domain:"tags",event:m()+"/bd/"+P+"/_s20 by_tag/"+Q+a,data:b,evOpts:c}}function i(a,b,c){return{domain:"tags",event:m()+"/bd/"+P+"/_s20 by_tag/*AllTags*"+a,data:b,evOpts:c}}function j(a,b,c){var d=c||{};!0===G&&void 0===d.res&&(d.res="lo"),T.seb(a,b,d)}function k(){function a(a){z.trackhub.sendEvent("tags_alt","/_s10 clicks/"+a,R,{res:"max"},!0)}a("*AllPlcms*"),a(A.hostPlcmId)}function l(a,b,c){z.trackhub.sendEvent("tags_alt","/_s15 by_node/"+R,a,b,c)}function m(){switch(b.mdType){case"dsp":return"/_s20 dsp";case"vid":return"/_s30 vid";case"nat":return"/_s40 nat";case"cst":return"/_s50 cst"}}function n(a,b){!0!==ua&&!0!==$&&y.fireEvent(a,b)}function o(a,b){switch(a){case"quit_btn":f(),g("quit on TAG: "+O),pa=!0;break;case"hoverOn":g("hover on TAG: "+O);break;case"hoverOff":break;case"click":f(),g("click on TAG: "+O),T.sed("/clicks","_s10 click",{res:"max"},!0),k(),l("_s30 click",{res:"max"},!0);break;case"send_event":var c="";""!==b.subpath&&(c+=b.subpath);var d={};!0===b.hires&&(d.res="hi"),T.sed(c,b.evdata,d);break;case"actsenscont":ka=!0,j("","_s51 acsense");break;case"confmsg":ka=!0,la=!0,j("","_s52 confirmed");break;case"no_content":if(!0===ia)break;ia=!0,u("no_content",b),f(),g("no content on TAG: "+O);break;case"post_passback":if(!0===ia)break;ia=!0,u("post_passback",b),f(),g("pseudo-passback on TAG: "+O);break;case"vast_tracking":p(b);break;case"adImpression":n("src_imp",{unitfbxID:B.unitfbxID,adpID:B.adpID,tagName:O,impdata:b.impdata});break;case"adPlaying":if(!0===na)break;na=!0,n("src_ply",{unitfbxID:B.unitfbxID,adpID:B.adpID,tagName:O,plydata:b.plydata});break;case"adShown":ka=!0,la=!0,f();break;case"adLoaded":ma=!0;break;case"mediaEnd":f(),oa=!0;break;case"playerror":if(!0===ha)break;ha=!0,u("playerror",b),f(),g("play error on TAG: "+O),z.trackhub.sendEvent("alerts","fmp_plyctrl/"+O,"error_player"),j("","_s70 player error",{res:"hi"}),j("/plyr_msgs",b.msg,{res:"hi"})}B.master.fireEvent(a,b)}function p(a){var b=!1;switch(a.eventName){case"video_start":case"video_impression":case"video_firstQuartile":case"video_midpoint":case"video_thirdQuartile":case"video_complete":b=!0}!0===b&&n("src_vast_ev",{unitfbxID:B.unitfbxID,adpID:B.adpID,tagName:O,event:a.eventName})}function q(c){switch(xa){case"INIT":wa=s(D);var d={tagname:O,ssname:P,shtagname:Q,uniqueID:L,snippet:D.adm,insbx:C.insbx,insmod:C.insmod,vastDevice:b.vastDevice,hasFlash:b.hasFlash,primaryMethod:b.primaryMethod};wa.openCmd(d),ya=c,xa="WAIT_FOR_DRV_READY";case"WAIT_FOR_DRV_READY":!0!==ga&&c-ya>a.media.drvTimeout&&(u("driver_to"),f(),g("driver timeout on TAG: "+O));var e=wa.openStat(c);if("ok"!==e.status)break;f(),xa="READY";case"READY":if(!0!==ba)break;ba=!1;var h="loading TAG: "+O;!0===C.insbx&&(h+=" (insbx)"),g(h),wa.loadCmd();var i={sourceName:O,sourceIdx:M,sandbox:C.insbx,sourcesetName:P,width:Math.round(b.adPostWidth),height:Math.round(b.adPostHeight),segmName:B.segmName,stylename:B.stylename,logic:"bd",price:null!==D?D.clPrc:"NA",cost:B.cost>0?B.cost:"NA",floor:B.floor>0?B.floor:"NA"};y.fireEvent("tryingsource",i),ya=c,xa="LOADING";case"LOADING":if(!0!==ga&&c-ya>a.media.drvTimeout&&(u("driver_to"),f(),g("driver timeout on TAG: "+O)),!0===ea){xa="UNLOAD";break}var e=wa.loadStat(c);if("ok"!==e.status)break;ca=!0,za=c;v("load",{tagname:O,time:Math.round(c/1e3)}),j("","_s50 load"),T.sed("/dir_evts","_s20 tag_loaded"),j("/dir_evts","_s90 request (val)"),l("_s20 paid",{res:"hi"},!0),ta=!0,xa="WFS";case"WFS":if(!0===ea){xa="PLAYING";break}if(t(c),!0!==da)break;wa.startCmd(),g("playing TAG: "+O),T.sed("/dir_evts","_s30 playing"),xa="PLAYING";case"PLAYING":
if(t(c),!0!==ea)break;xa="UNLOAD";case"UNLOAD":wa.stopCmd(),ea=!1,xa="WAIT_UNLOAD";case"WAIT_UNLOAD":var e=wa.stopStat(c);if("ok"!==e.status)break;fa=!0,!0!==T.wes()&&T.sed("/dir_evts","_s50 unresolved"),xa="PARK";break;case"ERROR":case"NOT_READY":xa="PARK";break;case"PARK":ta=!1,y.vastproc=null,xa="BLOCK"}}function r(b){if(!0!==ua&&!(Z>=X||null===Y||b-Y<W)){v("tick",{tagname:O,time:Math.round(b/1e3),tmval:Math.round(W/1e3),tickIdx:Z}),Y=b,Z+=1,Z>=a.accbeam.valTickCountOther&&T.rap()}}function s(a){f();var c={master:y,adPostContElm:b.adPostContElm,unitDomElm:E,hostWnd:F,useLowRes:G,comps:z,bootParams:A,main_wrapper_id:B.main_wrapper_id,internalContainer:B.internalContainer,mediacontainer:B.mediacontainer,mdType:b.mdType,packId:b.packId,sourceWidth:C.width,sourceHeight:C.height,adPostWidth:b.adPostWidth,adPostHeight:b.adPostHeight,segmWidth:b.segmWidth,segmHeight:b.segmHeight,stylename:B.stylename,unitfbxID:B.unitfbxID,adpID:B.adpID,stageName:b.stageName,stageAttributes:b.stageAttributes,unitAttributes:b.unitAttributes,activeLayout:b.activeLayout,sectionName:B.sectionName,unitName:B.unitName,adpName:B.adpName,unitNumID:B.unitNumID,sourcesetName:P,segmName:B.segmName,segmAttr:b.segmAttr,segMetha:B.segMetha,segmentID:B.segmentID,tagName:O,active:C.active,log:"bd",curSrcData:C,vastCaller:z.vastCaller,catchCallback:y.catchCallback,eventCallback:y.fireEvent,secProt:b.secProt,promolinkuri:b.promolinkuri};return new d(c)}function t(a){!0!==ga&&null!==za&&!0!==_&&!0===ka&&(!0!==la&&a-za<V||(_=!0,Y=0,g("running TAG: "+O)))}function u(a,b){function c(a,b){if(!0!==ga){ga=!0;var c=Date.now()-za;if("driver_to"===a){var d="dispad_source_player_timeout";return!0===J&&(d="vast_source_player_timeout"),x(d),v("plyerr",{msg:"timeout"}),void n("src_abort",{unitfbxID:B.unitfbxID,adpID:B.adpID,tagName:O,event:a,delay:c})}if("playerror"===a){var d="dispad_source_player_error";return!0===J&&(d="vast_source_player_error"),x(d),v("plyerr",{msg:b.msg}),void n("src_abort",{unitfbxID:B.unitfbxID,adpID:B.adpID,tagName:O,event:a+" - "+b.msg,delay:c})}n("src_abort",{unitfbxID:B.unitfbxID,adpID:B.adpID,tagName:O,event:a,delay:c}),"post_passback"!==a&&"no_content"!==a||x("vast_source_passback")}}c(a,b),T.sed("/dir_evts","_s30 aborted ("+a+")"),T.rap()}function v(a,b){function c(a,b){var c={event:a,group:"seek_tag_bd",ver:100,data:{untID:B.adpID,adpID:B.adpID,untnam:B.unitName,sgmID:B.segmentID,sgmnam:B.segmName,tagnam:O,nodenam:R,srcID:L,log:"bd",vast:y.isVast()?"1":"0",actv:y.isActiveSource()?"1":"0"}},d=c.data;switch(a){case"load":break;case"plyerr":d.msg=b.msg;break;case"tick":d.tmval=b.tmval,d.tkidx=b.tickIdx}T.sap(S,c)}function d(a,b){var c={dsdChannel:A.dsdchn,event:a,group:"dto_prf_bd",ver:100,data:{tagnam:O,srcID:L}};c.data;return void 0}!0===C.active&&(c(a,b),d(a,b))}function w(a){var c=b.getActFlags();switch(qa){case"UNRENDERED":if(!0!==_)break;T.sed("/visib","_s00 rendered"),T.sed("/clicks","_s00 rendered"),qa="INVISIBLE";break;case"INVISIBLE":if(!0!==c.isUnitVisible)break;if(!0!==ra){T.sed("/visib","_s10 visible_first"),ra=!0,qa="VISIBLE";break}if(!0!==sa){T.sed("/visib","_s11 visible_second"),sa=!0,qa="VISIBLE";break}break;case"VISIBLE":if(!0===c.isUnitVisible)break;qa="INVISIBLE"}}function x(a){if(!0===Aa){var c=new e,d=0;I.push("sending debug email...");var f="SOURCE CONTROLLER REPORT - BIDDING\n\n",g={stageName:b.stageName,activeLayout:b.activeLayout,sectionName:B.sectionName,unitName:B.unitName,unitNumID:B.unitNumID,tagname:O,snippet:C.snippet,insbx:C.insbx,mdType:b.mdType,vastDevice:b.vastSeg,hasFlash:b.hasFlash,primaryMethod:b.primaryMethod};d=0,f+="------ context info ------\n\n",f+=c.printObj(d,g,y)+"\n\n\n",d=0,f+="------ attributes ------\n\n",f+=c.printObj(d,K,y)+"\n\n\n";var h={sourceName:O,sourceIdx:M,sourcesetName:P,width:Math.round(b.adPostWidth),height:Math.round(b.adPostHeight),segmName:B.segmName,stylename:B.stylename,logic:"bd",price:null!==D?D.clPrc:"NA",cost:B.cost>0?B.cost:"NA",floor:B.floor>0?B.floor:"NA"};d=0,f+="------ source info ------\n\n",f+=c.printObj(d,h,y)+"\n\n\n",d=0,f+="------ win info ------\n\n",f+=c.printObj(d,D,y)+"\n\n\n";var i=O.replace(P+"_",""),j=a.replace(/\s+/g,"_"),k="node: "+i+"  ("+j+")",l={debugStrings:I,from:"SRC_CTRL_BD",subject:k,text:f};z.mailmaster.sendObj(l)}}var y=this,z=(b.master,b.comps),A=b.bootParams,B=(b.cllBks,b.dockInfo),C=b.curSrcData,D=b.winData,E=b.unitDomElm,F=b.hostWnd,G=b.useLowRes;!0!==C.active&&(G=!0);var H=(B.stageID,B.sectID,B.unitID,B.assetID,Math.round(999*Math.random()));f(),f();var I=["init"],J=b.vastSeg,K=C.attributes,L=C.uniqueID,M=(C.tracking,C.sourceIdx),N=C.burstIdx,O=C.tagname,P=C.ssname,Q=C.shrtname,R=C.nodeData.nodename,S=C.accChnID_tagbd,T=(C.accChnID_dto_prf_bd,new c({comps:z,assembleFunct:h,assembleFunctX:i}));T.sed("/dir_evts","_s10 inst"),y.provider="";var U=O.match(/([A-Z]{2,})/g);null!==U&&(y.provider=U[U.length-1]),f();var V=a.media.adBDRepMinTime,W=a.accbeam.tickPerDispBD,X=a.accbeam.tickCountDisp;a.accbeam.valTickCountDisp;!0===J&&(V=a.media.adVastRepMinTime,W=a.accbeam.tickPerVast,X=a.accbeam.tickCountVast,a.accbeam.valTickCountVast);var Y=null,Z=0,$=!1,_=!1,aa=!1,ba=!1,ca=!1,da=!1,ea=!1,fa=!1,ga=!1,ha=!1,ia=!1,ja=!1,ka=!1,la=!1,ma=!1,na=!1,oa=!1,pa=!1,qa="UNRENDERED",ra=!1,sa=!1,ta=!1,ua=!1,va=!1,wa=null,xa="INIT",ya=0,za=null,Aa=!1;y.fireEvent=o.bind(y),y.tick=function(a){if(!0===va)try{!0!==ja&&(r(a),w(a),wa&&wa.tick(a)),q(a)}catch(a){if(!0!==ja){ja=!0;var b="";if(void 0!==a.stack?(b+=" - Stck--\x3e ",b+=a.stack.toString()):b+=" - Msg--\x3e "+a,b.length>200)var c=b.substring(0,250)+"...";var d={msg:c};ha=!0,u("playerror",d),f(),g("play error on TAG: "+O),z.trackhub.sendEvent("alerts","fmp_sourcectrl/"+O,"error_player"),j("","_s71 except",{res:"hi"}),j("/excpt_msgs",c,{ard:10,att:b,res:"hi"})}}},y.wasAborted=function(){return ga},y.getContVldTm=function(){return V},y.getEstTimeToUnload=function(){return null===wa?-1:wa.getEstTimeToUnload()},y.load=function(){ba=!0},y.isLoaded=function(){return ca},y.isPassback=function(){return ia},y.start=function(){da=!0},y.isStarted=function(){return!1},y.adNtf=function(a){null!==wa&&wa.adNtf(a)},y.pause=function(a){wa.pauseCmd(a)},y.audio=function(a){wa.audioCmd(a)},y.rewind=function(){wa.rewindCmd()},y.unload=function(a){ea=!0},y.isUnloaded=function(){return fa},y.isPlayerError=function(){return ha},y.updCntDims=function(a,b,c){null!==wa&&wa.updCntDims(a,b,c)},y.getSourceAttributes=function(){return K},y.getUniqueID=function(){return L},y.getSrcIdx=function(){return M},y.getBurstIdx=function(){return N},y.isAdOn=function(){return!0===ka},y.isAdLoaded=function(){return!0===ma},y.isMediaEnd=function(){return oa},y.isVast=function(){return J},y.isDispad=function(){return!1===J},y.getTagName=function(){return O},y.getMdType=function(){return b.mdType},y.getShortTagName=function(){return Q},y.getNodeName=function(){return R},y.isRunning=function(){return _},y.isActiveSource=function(){return C.active},y.setFoundReported=function(){aa=!0},y.isFoundReported=function(){return aa},y.shouldProgress=function(){return wa.shouldProgress()},y.getProgress=function(){return wa.getProgress()},va=!0}}(config,0,an_buffer,fmp_driverinterf,textools),fmp__sourcectrl_bd=function(a,b,c){return function(c){function d(a){w.logger.writex({msg:a,prefix:"fmp__sourcectrl_bd",inst:J})}function e(a){w.logger.writex({tgl:!0,msg:a,prefix:"unit:"+c.unitName+" (src_ctrl_bd)"})}function f(a){return w.bidbox.addReq(a)}function g(a,b){return w.bidbox.srcNotf(a,b)}function h(a,b,c){return{domain:"tags",event:m()+"/bd/"+S+"/_s20 by_tag/"+T+a,data:b,evOpts:c}}function i(a,b,c){return{domain:"tags",event:m()+"/bd/"+S+"/_s20 by_tag/*AllTags*"+a,data:b,evOpts:c}}function j(a,b,c){var d=c||{};!0===D&&void 0===d.res&&(d.res="lo"),K.seb(a,b,d)}function k(a,b,c){var d=m()+"/bd/"+S+"/_s10 shares"+a,e=c||{};!0===D&&void 0===e.res&&(e.res="lo"),w.trackhub.sendEvent("tags",d,b,e)}function l(a,b,c){w.trackhub.sendEvent("tags_alt","/_s15 by_node/"+U,a,b,c)}function m(){switch(A){case"dsp":return"/_s20 dsp";case"vid":return"/_s30 vid";case"nat":return"/_s40 nat";case"cst":return"/_s50 cst"}}function n(a,b,c){if(void 0===c||!1===c){if(!0===ba)return;if(!0===ha)return;if(!0===$)return}v.fireEvent(a,b)}function o(a,b,c){var d=x.placementId+"/"+S;w.trackhub.sendEvent("stgexec","src_ctrl_bd_seek/${"+d+"|*AllLocs*}$/"+a,b,c)}function p(a){try{if(!0===ba)return;ba=!0,u("drverr",{msg:a}),n("src_drverr",{unitfbxID:y.unitfbxID,adpID:y.adpID,tagName:R,msg:a},!0),K.rap()}catch(a){}}function q(){!1===ba&&(u("req"),w.dtomanager.regDTOReq(R),d(),e("req. bids from "+R),j("","_s10 request"),j("/ap_width_req",c.segmWidth,{scl:"boxWidth",res:"lo"}),j("/src_idx_req",P,{scl:"mediumtimes",res:"lo"}),k("/_s10 reqs",T),!0===z.insbx&&j("","_s11 in sandbox"),n("src_drvreq",{unitfbxID:y.unitfbxID,adpID:y.adpID,tagName:R}))}function r(a){function b(a){var b=0;return a.forEach(function(a){a.effPrc>b&&(b=a.effPrc)}),Math.round(100*b)/100}function c(a){a.forEach(function(a){var b={bidData:a,srcData:{srcCtrl:v,srcID:N,tagname:R,nodename:U,looptime:fa.looptime,params:fa.tagParams_gen,sourceIdx:P,burstIdx:Q,fromSeg:y.segmName},ssName:S,unFbxName:y.unitfbxID,segID:y.segmentID};!0===C?B.nbd(b):w.bdadmin.nbd(b),g("bidrcvd",{bdChnID:Z,bidPrc:a.effPrc,mtype:a.mtype})})}if(!1===ba){if(fa=a,!0===ha)return void j("","_s60 late response");if(j("/loop_time",fa.looptime,{scl:"shorttimesLR",res:"lo"}),ga=!0,0===fa.bids.length)return u("pass",{looptime:fa.looptime}),j("","_s20 pass"),void(!1===$&&n("src_pass",{unitfbxID:y.unitfbxID,adpID:y.adpID,tagName:R,delay:fa.looptime}));L=b(fa.bids),u("bid",{looptime:fa.looptime,bidPrc:L}),w.dtomanager.regDTOBidPr(R,L),w.parcels.sendp("liveacc",{evt:"regSale",data:{ids:[E,F,G],aid:I,log:"bd",typ:A,act:!0,prc:L,mod:"bid"}}),d(),e("real bid rcvd from "+R),j("","_s30 bid"),j("/bd_price",100*L,{scl:"mediumtimes"}),k("/_s20 bids",T),!1===$&&n("src_bid",{unitfbxID:y.unitfbxID,adpID:y.adpID,tagName:R,delay:fa.looptime,prc:L,fromcache:!1}),c(fa.bids)}}function s(){var a={fsbroker:C,mtype:A,sourceClbk:r,reqNtfClbk:q,drvErrClbk:p,sourceID:N,tagname:R,snippet:O,tagParams_gen:v.tagParams_gen,dtovalue:z.dtovalue,unitName:y.unitName,unitFbxID:y.unitfbxID,unitNumID:y.unitNumID,sourcesetName:S,segmName:y.segmName,priority:y.priority,unitY:y.unitY,sourceWidth:z.width,sourceHeight:z.height,segmWidth:c.segmWidth,segmHeight:c.segmHeight,adUnitCode:y.main_wrapper_id},b=f(a);return"ok"!==b.status?void e(b.status+": source "+R+" ignored (msg: "+b.msg+")"):(da=!0,ea=Date.now(),u("run"),j("","_s00 running"),l("_s10 req",{res:"lo"}),b.bdChnID)}function t(b){if(!0===da&&!0!==ga&&!0!==ha&&!0!==ba){var c=a.bidding.genBReqTO+3e3;b-ea<c||(ha=!0,u("tmo"),n("src_timo",{unitfbxID:y.unitfbxID,adpID:y.adpID,tagName:R,delay:c},!0),j("","_s60 timeout"),K.rap())}}function u(a,b){function c(a,b){var c={event:a,group:"seek_tag_bd",ver:100,data:{tagnam:R,nodenam:U,srcID:N,log:"bd",vast:v.isVast()?"1":"0",actv:v.isActiveSource()?"1":"0"}},d=c.data;switch(a){case"run":case"cache":break;case"req":d.cat=z.category,d.top=0===P?1:0,d.pos=P,d.val=z.dtovalue,d.ovr=z.overuse,d.floor=y.floor,d.crbdxhr=z.curbIdx_Hr,d.crbdxer=z.curbIdx_Er,d.crbdxdl=z.curbIdx_Dl,d.crbdxmd=0;break;case"pass":d.delay=b.looptime;break;case"tmo":d.delay="NA";break;case"bid":d.bidprc=b.bidPrc,d.delay=b.looptime;break;case"win":d.winprc=b.winPrc;break;case"plyerr":case"drverr":d.msg=b.msg}K.sap(V,c)}function d(a,b){var c={dsdChannel:x.dsdchn,event:a,group:"dto_prf_bd",ver:100,data:{tagnam:R}},d=c.data;switch(a){case"req":break;case"pass":d.delay=b.looptime;break;case"tmo":d.delay="NA";break;case"bid":d.bidprc=b.bidPrc,d.delay=b.looptime;break;case"win":d.winprc=b.winPrc;break;default:return}K.sap(W,c)}!0===z.active&&(c(a,b),d(a,b))}var v=this,w=(c.master,c.comps),x=(c.cllBks,c.bootParams),y=c.dockInfo,z=c.curSrcData,A=c.mdType,B=c.trfAdManager,C=c.brokerUnit,D=(c.unitDomElm,c.hostWnd,c.useLowRes);!0!==z.active&&(D=!0);var E=y.stageID,F=y.sectID,G=y.unitID,H=y.partID,I=y.assetID,J=Math.round(999*Math.random());d(),d();var K=new b({comps:w,assembleFunct:h,assembleFunctX:i}),L=null,M=z.attributes,N=Math.round(999999999999*Math.random()),O=z.snippet,P=(z.tracking,c.sourceIdx),Q=c.burstIdx,R=(c.unitfbxID,c.unitName,c.adpName,c.segmName,z.tagname),S=z.ssname,T=z.shrtname,U=z.nodeData.nodename,V="_tagbd"+Math.round(99999*Math.random());w.accbeam.register("tag_bd",V,a.accbeam.channels.tagbd.red);var W="_dto_prf_bd_"+Math.round(99999*Math.random());w.accbeam.register("dto_prf_bd",W,a.accbeam.channels.dto_prf_bd.red),z.sourceIdx=P,z.burstIdx=Q,z.uniqueID=N,z.accChnID_tagbd=V,z.accChnID_dto_prf_bd=W;var X={srcCtrl:v,srcID:N,ssName:S,segID:y.segmentID};w.bdadmin.nsrctr(X);v.provider="";var Y=R.match(/([A-Z]{2,})/g);null!==Y&&(v.provider=Y[Y.length-1]),d();var Z="NA",$=!1,_=!1,aa=null,ba=!1,ca=!1,da=!1,ea=null,fa=null,ga=!1,ha=!1;v.fireEvent=function(a,b){y.master.fireEvent(a,b)},v.tick=function(a){if(!0===$)return void w.heartH.unsubscribe(v.tick);try{t(a)}catch(a){if(!0!==ca){var b="";void 0!==a.stack?(b+=" - Stck--\x3e ",b+=a.stack.toString()):b+=" - Msg--\x3e "+a,b.length>250&&(b=b.substring(0,250)+"..."),o("excepts",b),d(),e("play error on TAG: "+R),w.trackhub.sendEvent("alerts","fmp_sourcectrl/"+R,"error_player"),ca=!0}}},v.youWon=function(a){!0===a.xSeg&&(y=a.newDockInfo),$=!0,!0!==ha&&!0!==ba&&(_=!0,aa=a,u("win",{winPrc:aa.clPrc}),j("/ap_width_win",c.segmWidth,{scl:"boxWidth",res:"hi"}),j("/src_idx_win",P,{scl:"mediumtimes",res:"hi"}),k("/_s30 wins",T),w.dtomanager.regDTOHit(R),d(),w.dtomanager.regDTOWinPr(R,aa.clPrc),d(),w.parcels.sendp("liveacc",{evt:"regSale",data:{ids:[E,F,G,H],aid:I,log:"bd",typ:A,act:!0,prc:aa.clPrc,mod:"win"}}),g("bidwon",{bdChnID:Z,clPrc:aa.clPrc,mtype:A}),e("winner TAG: "+R),j("","_s40 win",{res:"hi"}),j("/win_prc",100*aa.clPrc,{scl:"mediumtimes",res:"hi",exp:-5}),K.rap())},v.youLost=function(){$=!0,K.rap(),null!==L&&g("bidlost",{bdChnID:Z,bidPrc:L,mtype:A})},v.getSourceAttributes=function(){return M},v.getUniqueID=function(){return N},v.getSrcIdx=function(){return P},v.getBurstIdx=function(){return Q},v.isVast=function(){return c.vastSeg},v.isDispad=function(){return!1===c.vastSeg},v.getTagName=function(){return R},v.getMdType=function(){return c.mdType},v.getShortTagName=function(){return T},v.getNodeName=function(){return U},v.getRefPrc=function(){return z.refprc},v.getSrcData=function(){return z},v.isActiveSource=function(){return z.active},Z=s(),w.heartH.subscribe(v.tick,"srcctrl_bd"),v.tick(Date.now())}}(config,an_buffer),fmp__segmctrl_wf=function(a,b,c,d,e){return function(b){function e(a){C.logger.writex({msg:a,prefix:"fmp__segmctrl_wf",inst:L})}function f(a){C.logger.writex({tgl:!0,msg:a,prefix:"unit:"+b.unitName+" (seg_ctrl_wf)"})}function g(a,c,d){return{domain:"segments",event:"/"+b.mdType+"/wf/${"+ga+"|*AllSegments*}$"+a,data:c,evOpts:d}}function h(a,b,c){var d=c||{};!0===na&&void 0===d.res&&(d.res="lo"),M.seb(a,b,d)}function i(a){function c(a){return!0!==fa?"next":!0===ia?"next":!0===a.isPlayerError()?"error":!0===Da?"stop":"next"}switch(Aa!==Ba&&(e(),Ba=Aa),Aa){case"INIT":Aa="READY";case"READY":if(!0!==t(ja))break;e(),F(Y+" seeking... - segIdx: "+X),A.fireEvent("segSeek",{segID:W});var d=b.mdType;d+=" wf seg started - (srcset: "+ka+")",!0===ia&&(d+=" (dev:"+oa+")"),f(d),h("","_s10 seek"),e(),z(O,"start"),Sa=a,Pa=0,Aa="TRNS";break;case"DSPNS":if(!0===w(ja)){e(),Aa="CLSSG";break}if(!1===Oa.isActiveSource()){e(),Aa="CLSSG";break}if(!0===ia&&!0===Xa&&!0===_a){e(),Aa="CLSSG";break}if(Pa++,ja.maxcall>0&&Pa>=ja.maxcall){e(),e(),Aa="CLSSG";break}a-Sa>1e3*A.maxSeekTime&&(e(),e(),Ta=!0),e(),Aa="TRNS";case"TRNS":Oa=null,_a=!0,ab=!1,Aa="WFNS";case"WFNS":var g=j(ka,la,Ta);if("..."===g.status)break;if(!1!==hb)break;if("end_of_list"===g.status){e(),Aa="CLSSG";break}Qa=g.data,Oa=l(Qa,Pa),ha=Oa.getTagName(),e(),Aa="WSDN";case"WSDN":var i=Oa.getOpenStatus();if("---"===i)break;if("ok"!==i){_a=!1,e(),Aa="DSPNS";break}Ha=ja.mintime,Ia=ja.maxtime,La=ja.quit,Aa="LOAD";case"LOAD":if(!0!==u(ja,ia))break;e(),Oa.load(),Ca=a,Aa="WLRD";case"WLRD":if(!0===Oa.wasAborted()){n(),_a=!1,e(),Aa="UNLOAD";break}if(!0===sa){e(),Aa="UNLOAD";break}if(!0!==Oa.isLoaded())break;e(),e(),y(ja),Ca=a,Ga=0,Fa=0,Ea=a,Ma=!1,Na=!1,q(!1),r(!0),s(!0,ja),_startTimeAnchor=a,Aa="SRCPL";case"SRCPL":if(m(a-_startTimeAnchor,a-Sa,Pa,ja,Oa.isActiveSource()),!0===Oa.wasAborted()){n(),_a=!1,e(),Aa="UNLOAD";break}if(!0===sa){e(),Aa="UNLOAD";break}if(y(ja),Fa=a-Ea,Ga=Math.floor(Fa/1e3),o(a),0!==Ha&&Ga<Ha)break;if(!0!==Ma&&(Ma=!0,q(!0)),!0===x(ja,Ga,Ia)){Aa="UNLOAD";break}break;case"UNLOAD":e(),Oa.unload(),Ja=!0,Ca=a,Aa="WUNLD";case"WUNLD":if(!0!==Oa.isUnloaded())break;if(!0===Oa.wasAborted()){k(Oa);var p=c(Oa);if("next"!==p){"error"===p&&A.fireEvent("whitesp",{segID:W}),Aa="CLSSG";break}}Aa="DSPNS";break;case"CLSSG":!0===Xa&&!0===_a&&(ab=!0),Wa=!0,e(),!0!==ab?(z(O,"nocnt"),f("waterfall segment "+ga+" closed (no content)"),h("","_s30 NO content")):f("waterfall segment done"),M.rap(),q(!1),r(!1),s(!1,ja),Oa=null,e(),ta=!0,Va=!1,C.heartH.unsubscribe(A.tick),Aa="PARK"}}function j(a,b,c){var d={status:"...",msg:null,data:null},e=C.sourceadmin.gbns(a,b,c,V,!0,X,Pa);if("..."===e.status)return d.status="...",d;if("ok"===e.status){var f=e.data;d.data={};var g=d.data;return g.attributes=JSON.parse(JSON.stringify(ja)),g.ssname=a,g.tagname=f.tagname,g.shrtname=f.shrtname,g.nodeData=f.nodeData,g.width=f.width,g.height=f.height,g.snippet=f.snippet,g.insbx=f.insbx,g.insmod=f.insmod,g.category=f.category,g.dtovalue=f.dtovalue,g.curbIdx_Hr=f.curbIdx_Hr,g.curbIdx_Er=f.curbIdx_Er,g.curbIdx_Dl=f.curbIdx_Dl,g.overuse=f.overuse,g.active=f.active,g.hires=f.hires,g.refprc=f.refprc,d.status="ok",d}return d.status="end_of_list",d}function k(a){C.sourceadmin.releaseSource(ka,a.getTagName())}function l(a,c){var f;e(),za.push(a);var g=(f={master:A,adPostContElm:b.adPostContElm,unitDomElm:J,hostWnd:K,useLowRes:na,comps:C,cllBks:E,bootParams:D,unitfbxID:Y,sourceIdx:c,accChnID_stage:N,accChnID_unit:O,accChnID_segm:P,stageID:Q,sectID:R,unitID:S,partID:T,assetID:U,adpID:V,attributes:a.attributes,tagname:a.tagname,mdType:b.mdType,packId:b.packId,sourceWidth:a.width,sourceHeight:a.height,adPostWidth:b.adPostWidth,adPostHeight:b.adPostHeight,segmWidth:b.segmWidth,segmHeight:b.segmHeight,curSrcData:JSON.parse(JSON.stringify(a)),category:a.category,dtovalue:a.dtovalue,overuse:a.overuse,refprc:a.refprc,snippet:a.snippet,insbx:a.insbx,insmod:a.insmod,vastDevice:oa,hasFlash:pa,primaryMethod:qa,initvol:ra,active:a.active,hires:a.hires,seekAnchor:Sa,userval:xa,debugVars:ya,getActFlags:I},_defineProperty(f,"unitfbxID",Y),_defineProperty(f,"main_wrapper_id",b.main_wrapper_id),_defineProperty(f,"internalContainer",b.internalContainer),_defineProperty(f,"mediacontainer",H),_defineProperty(f,"stylename",b.stylename),_defineProperty(f,"cost",ua),_defineProperty(f,"onsold",va),_defineProperty(f,"floor",wa),_defineProperty(f,"stageName",Z),_defineProperty(f,"stageAttributes",$),_defineProperty(f,"unitAttributes",b.unitAttributes),_defineProperty(f,"activeLayout",_),_defineProperty(f,"sectionName",aa),_defineProperty(f,"unitfbxID",Y),_defineProperty(f,"unitName",ba),_defineProperty(f,"adpName",ca),_defineProperty(f,"unitNumID",ea),_defineProperty(f,"sourcesetName",ka),_defineProperty(f,"segmentID",W),_defineProperty(f,"segmName",ga),_defineProperty(f,"segmAttr",ja),_defineProperty(f,"vastCaller",C.vastCaller),_defineProperty(f,"secProt",b.secProt),_defineProperty(f,"promolinkuri",b.promolinkuri),_defineProperty(f,"vastSeg",ia),_defineProperty(f,"sourceTrackingBeams",a.tracking),_defineProperty(f,"dummy",0),f);return new d(g)}function m(b,c,d,f,g){function h(a,b,c){if(!0!==v(c))return!0;if(!0===ia){if(!0===Oa.isAdLoaded())return!1}else if(a>b)return!1;return!0}if(!0!==Ua&&!0!==Oa.isFoundReported()){var i=0;!0===g&&(i=a.media.adFoundRepMinTime,"unspecified"!==f.holdoff&&(i=parseInt(f.holdoff))),!0!==h(b,i,f)&&(e(),Oa.setFoundReported(),A.fireEvent("mediaready",{unitName:ba,unitfbxID:Y,adpName:ca,adpType:da,log:"wf",mtyp:Oa.getMdType(),act:Oa.isActiveSource(),tag:Oa.getTagName()}),Ua=!0)}}function n(){if(!0===cb){eb=null,cb=!1,Xa=!1,$a=null,bb=!1,Wa=!1,fb=null;var a={stageName:Z,activeLayout:_,sectionName:aa,unitName:ba,adpName:ca,unitfbxID:Y,adpID:V,segmName:ga,segmIdx:X,tagName:Oa.getTagName(),cntValTm:Oa.getContVldTm(),contTime:Za,vast:ia,active:A.active,logic:"wf",sourceIdx:Oa.getSrcIdx(),clPrc:Oa.getRefPrc(),floor:wa,cost:ua};A.fireEvent("adisoff",a)}}function o(a){!0!==cb&&!0===Oa.isRunning()&&(cb=!0,p(a))}function p(a){Xa=!0,Ya=Math.round((a-Oa.getContVldTm()-Sa)/100)/10,Za=Math.round((a-Oa.getContVldTm()-G)/100)/10,$a=Math.round(999999999999*Math.random()),bb=Oa.isActiveSource(),eb=a,Wa=!0,fb=a,Ra=Oa.getRefPrc();var b=Oa.getTagName(),c=Oa.getNodeName();z(O,"cnt",{contID:$a,tagName:b,nodeName:c,vast:ia,active:bb,logic:"wf",idx:Pa,ctm:Ya,clPrc:Ra,fstPrc:0,sndPrc:0,trdPrc:0,floor:bb?wa:0}),k(Oa);var d={stageName:Z,activeLayout:_,sectionName:aa,unitName:ba,adpName:ca,unitfbxID:Y,adpID:V,segmName:ga,segmIdx:X,tagName:Oa.getTagName(),cntValTm:Oa.getContVldTm(),contTime:Za,vast:ia,active:A.active,logic:"wf",fromcache:!1,sourceIdx:Oa.getSrcIdx(),clPrc:Oa.getRefPrc(),floor:wa,cost:ua};if(A.fireEvent("adison",d),!0!==db){if(db=!0,e(),!0===bb){h("","_s20 YES content (active)");var f="/_s10 active"}else{h("","_s21 YES content (passive)");var f="/_s20 passive"}h(f+"/_s00 cnt tags",Oa.getTagName().replace(ka+"_",""));h(f+"/_s10 cnt time",Math.round((a-Sa)/1e3),{scl:"mediumtimes",res:"lo"}),h(f+"/_s20 src idx",Oa.getSrcIdx(),{scl:"mediumtimes",res:"lo"}),h(f+"/_s50 clr price",100*Ra,{scl:"mediumtimes"})}}function q(a){"close"!==La&&"skip"!==La||null!==H&&H.showQuit(a,La)}function r(a){!0===ia&&!0!==D.audctrl&&null!==H&&H.showSpkr(a)}function s(a,b){}function t(a){var b=I();switch(a.seek){case"always":return!0;case"onvisible":return b.isUnitVisible;case"onactive":return b.isUnitActive;case"onhover":return b.isUnitHovering;case"onaction":return b.isMouseAction}return!1}function u(a,b){var c=I();switch(a.load){case"always":return!0;case"onvisible":return c.isUnitVisible;case"onactive":return c.isUnitActive;case"onhover":return c.isUnitHovering;case"onaction":return c.isMouseAction}return!1}function v(a){var b=I();if(void 0===a.expand)return!0;switch(a.expand){case"onstart":return!0;case"onvisible":return b.isUnitVisible}return!0}function w(a){var b=I();switch(a.break){case"onvisible":return b.isUnitVisible;case"onnotvisible":return!b.isUnitVisible;case"onactive":return b.isUnitActive;case"onhover":return b.isUnitHovering;case"onaction":return b.isMouseAction}return!1}function x(a,b,c){if(!0===Oa.isMediaEnd())return!0;if(c>0&&b>c)return e(),!0;if("close"===La)return!0===Ka&&(e(),!0);if("skip"===La)return!0===Ka?(e(),!0):!0===Oa.isMediaEnd();var d=I();switch(La){case"never":return!1;case"onnotvisible":return!d.isUnitVisible;case"onnotactive":return!d.isUnitActive}return!1}function y(a){function b(a){var b=I();switch(a.audio){case"never":return!1;case"always":return!0;case"onvisible":return b.isUnitVisible;case"onactive":return b.isUnitActive;case"onhover":return b.isUnitHovering;case"onaction":return b.isMouseAction}return!1}!0===b(a)?!1===Na&&(Oa.audio(!0),e(),Na=!0):!1!==Na&&(Oa.audio(!1),e(),Na=!1)}function z(a,b,c){var d={event:b,group:"seek_segm_wf",ver:100,data:{untID:V,adpID:V,sgmID:W,untnam:ba,adpnam:ca,sgmnam:ga}},e=d.data;switch(e.cst=ua>0?ua:"NA",e.ons=va?"1":"0",b){case"start":break;case"cnt":e.cntID=c.contID,e.tagnam=c.tagName,e.nodenam=c.nodeName,e.vast=c.vast?"1":"0",e.actv=c.active?"1":"0",e.log=c.logic,e.idx=c.idx,e.ctm=c.ctm,e.clprc=c.clPrc>0?c.clPrc:"NA",e.fstprc=c.fstPrc>0?c.fstPrc:"NA",e.sndprc=c.sndPrc>0?c.sndPrc:"NA",e.trdprc=c.trdPrc>0?c.trdPrc:"NA",e.flr=c.floor;break;case"nocnt":break;case"tick_sg":e.cntID=c.contID,e.tmval=c.tmval,e.tkidx=c.tickIdx}M.sap(a,d)}var A=this,B=b.master,C=b.comps,D=(b.plcmParams,b.bootParams),E=b.cllBks,F=E.addLogLine,G=b.startTime,H=b.mediacontainer,I=b.getActFlags,J=b.unitDomElm,K=b.hostWnd,L=Math.round(999*Math.random());e();var M=new c({comps:C,assembleFunct:g}),N=(b.userValueMgr,b.accChnID_stage),O=b.accChnID_unit,P=b.accChnID_segm,Q=b.stageID,R=b.sectID,S=b.unitID,T=b.partID,U=b.assetID,V=b.adpID,W=Math.round(999999999999*Math.random()),X=b.segmIdx,Y=b.unitfbxID,Z=b.stageName,$=b.stageAttributes,_=b.activeLayout,aa=b.sectionName,ba=b.unitName,ca=b.adpName,da=b.adpType,ea=b.unitNumID,fa=b.smart,ga=b.segmName,ha="NA_sgctrl_wf",ia=!1;"vid"===b.mdType&&(ia=!0);var ja=b.segmentdata.attributes,ka=ja.sourceset,la=ja.srcfilter,ma=C.sourceadmin.getSSInfo(ka),na=(b.segmentdata.conditions,b.segmentdata.tracking,b.useLowRes);!0===ja.lowres&&(na=!0);var oa=b.vastDevice,pa=b.hasFlash,qa=b.primaryMethod,ra=ja.initvol,sa=!1,ta=!1,ua=b.cost,va=b.onsold,wa=ma.floor,xa=0,ya=b.debugVars,za=[],Aa="INIT",Ba=null,Ca=0,Da=!1,Ea=0,Fa=0,Ga=0,Ha=0,Ia=0,Ja=!1,Ka=!1,La=null,Ma=!1,Na=!1,Oa=null,Pa=0,Qa=null,Ra=null,Sa=null,Ta=!1,Ua=!1,Va=!0,Wa=!1,Xa=!1,Ya=null,Za=null,$a=null,_a=!1,ab=!1,bb=!1,cb=!1,db=!1,eb=null,fb=null,gb=0,hb=!1;A.actUpdt=function(a){hb=a.curStatus.scroll.scrlng},A.maxSeekTime=a.media.defMaxSeekTime,"unspecified"!==ja.maxSeekTime&&(A.maxSeekTime=parseInt(ja.maxSeekTime)),A.fireEvent=function(a,b){switch(a){case"src_abort":_a=!1;break;case"hoverOn":case"hoverOff":case"click":break;case"quit_btn":Ka=!0}B.fireEvent(a,b)},A.getContStatus=function(){var a={segmName:ga,segmentID:W,logic:"wf",vast:ia,sourcesetName:ka,nodeName:"NA",tagName:"NA",status:"...",content:null,active:null,contentTime:void 0,mediaReady:void 0,mediaValid:void 0,segUnloaded:void 0,inProgress:Va};return!0!==Wa?a:(a.content=Xa,a.contentTime=Za,a.mediaReady=Ua,a.mediaValid=_a,a.segUnloaded=Ja,a.status="ok",!0===Xa&&(a.clPrc=Ra,a.fstPrc=0,a.sndPrc=0,a.trdPrc=0,null!==Oa&&(a.nodeName=Oa.getNodeName(),a.tagName=Oa.getTagName(),a.contVldTm=Oa.getContVldTm()),a.active=bb,a.floor=a.active?wa:0),a)},A.updCntDims=function(a,b,c){null!==Oa&&Oa.updCntDims(a,b,c)},A.isBusy=function(){return Va},A.adNtf=function(a){null!==Oa&&Oa.adNtf(a)},A.isContentDef=function(){return Wa},A.isSegComplete=function(){return ab},A.start=function(){null!==Oa&&Oa.start(),Da=!0},A.unload=function(){sa=!0},A.getLastTagName=function(){return ha},A.tick=function(b){if(!0===Va){if(null!==fb&&b-fb>a.accbeam.tickPerOther&&gb<a.accbeam.tickCountOther){var c={contID:$a,tmval:Math.round(a.accbeam.tickPerOther/1e3),tickIdx:gb};z(O,"tick_sg",c),fb=b,gb++,gb>=a.accbeam.valTickCountOther&&M.rap()}i(b),null!==Oa&&Oa.tick(b)}},C.heartH.subscribe(A.tick,"segctrl_wf"),A.tick(Date.now())}}(config,0,an_buffer,fmp__sourcectrl_wf),fmp__segmctrl_bd=function(a,b,c,d,e,f){return function(b){function f(a){F.logger.writex({msg:a,prefix:"fmp__segmctrl_bd",inst:O})}function g(a){F.logger.writex({tgl:!0,msg:a,prefix:"unit:"+b.unitName+" (seg_ctrl_bd)"})}function h(a,c,d){return{domain:"segments",event:"/"+b.mdType+"/bd/${"+ja+"|*AllSegments*}$"+a,data:c,evOpts:d}}function i(a,b,c){var d=c||{};!0===sa&&void 0===d.res&&(d.res="lo"),P.seb(a,b,d)}function j(a){switch(Ha!==Ia&&(f(),Ia=Ha),Ha){case"INIT":if(!0!==Ga)break;var c={ssName:na,unFbxName:_,segID:Z,floor:Ba,sgmCtrl:D};F.bdadmin.rsg(c),f();var d=b.mdType;d+=" bd seg started - (srcset: "+na+")",!0===la&&(d+=" (dev:"+ta+")"),g(d),I(_+" seeking... - segIdx: "+$),i("","_s10 seek"),D.fireEvent("segSeek",{segID:Z}),Ja=a,Pa=0,Ma=0,Ha="WAIT_BURST_SG";case"WAIT_BURST_SG":if(!0===Ea){Xa="imp_granted",Ha="SEEK_CLOSED";break}if(!0!==Oa)break;Oa=!1;var e={ssName:na,unitFbxID:_,segmName:ja,burstIdx:Ma,callSpan:Na};D.fireEvent("bd_new_burst",e);var h=k(na,oa,Pa,Na,ma.maxcall);if(Pa=h.curSrcIdx,"eol"===h.statCode){La=!0,f(),g("seek closed (end of source list) | "+ea),Xa="end_of_source_list",Ha="SEEK_CLOSED";break}if("maxcall"===h.statCode){f(),g("seek closed (call limit) | "+ea),Xa="call_limit",Ha="SEEK_CLOSED";break}if("ovfl"===h.statCode){f(),g("seek closed (burst error) | "+ea),Xa="burst_error",Ha="SEEK_CLOSED";break}Ma++,Ha="WAIT_BURST_SG";break;case"SEEK_CLOSED":i("/_s80 end status",Xa),Ka=a,Ha="WAIT_RES";case"WAIT_RES":if(!0!==Ea)break;if(null!==Fa){Sa=Fa.impData,Ta=Fa.clPrc,Ua=Fa.fstPrc,Va=Fa.sndPrc,Wa=Fa.trdPrc,Qa=Fa.srcData.srcCtrl,Za=!0,Ya=!0,qb=!0;var j={mtype:Sa.mtype,adm:Sa.adm,drvInt:Sa.drvInt,pbBidData:Sa.pbBidData,clPrc:Ta,fstPrc:Ua,sndPrc:Va,trdPrc:Wa,unFbxID:_,xSeg:Fa.xSeg,newDockInfo:o()};Qa.youWon(j),f(),g("unit granted to: "+Qa.getTagName()+(!0===Fa.xSeg?" (xseg)  ":"")+", clrPrc: "+Ta),i("","_s20 YES content (active)"),Ha="PARK";break}Za=!1,Ya=!0,mb=!1,lb=!0,qb=!1,g("bidding segment closed, no bids available"),f(),C(R,"nocnt"),i("","_s22 NO content"),P.rap(),kb=!1,Ha="PARK"}}function k(a,b,c,d,e){for(var g,h,i="ovfl",c=c,j=0,k=100;k>0;){if(k--,f(),g=l(a,b),"end_of_list"===g.status){i="eol";break}if(h=g.data,f(),m(h,c),f(),c++,j++,e>0&&c>=e){i="maxcall";break}if(j>=d){i="span";break}}return{statCode:i,callCount:j,curSrcIdx:c}}function l(a,b){var c={status:"...",msg:null,data:null},d=F.sourceadmin.gbns(a,b,!1,Y,!1,$,Pa);if("ok"===d.status){var e=d.data;c.data={};var f=c.data;return f.attributes=JSON.parse(JSON.stringify(ma)),f.ssname=a,f.tagname=e.tagname,f.shrtname=e.shrtname,f.nodeData=e.nodeData,f.width=e.width,f.height=e.height,f.snippet=e.snippet,f.insbx=e.insbx,f.insmod=e.insmod,f.category=e.category,f.dtovalue=e.dtovalue,f.curbIdx_Hr=e.curbIdx_Hr,f.curbIdx_Er=e.curbIdx_Er,f.curbIdx_Dl=e.curbIdx_Dl,f.overuse=e.overuse,f.active=e.active,f.hires=e.hires,f.refprc=e.refprc,c.status="ok",c}return c.status="end_of_list",c}function m(a,c){f();var e={master:D,adPostContElm:b.adPostContElm,unitDomElm:M,hostWnd:N,useLowRes:sa,comps:F,cllBks:H,bootParams:G,sourceIdx:c,burstIdx:Ma,accChnID_stage:Q,accChnID_unit:R,accChnID_segm:S,mdType:b.mdType,packId:b.packId,adPostWidth:b.adPostWidth,adPostHeight:b.adPostHeight,segmWidth:b.segmWidth,segmHeight:b.segmHeight,curSrcData:JSON.parse(JSON.stringify(a)),vastDevice:ta,hasFlash:ua,primaryMethod:va,initvol:wa,seekAnchor:Ja,userval:Ca,debugVars:Da,getActFlags:L,stageName:aa,stageAttributes:ba,unitAttributes:b.unitAttributes,activeLayout:ca,sectionName:da,unitfbxID:_,unitName:ea,adpName:fa,unitNumID:ha,sourcesetName:na,segmentID:Z,segmName:ja,segmAttr:ma,trfAdManager:qa,brokerUnit:ra,vastCaller:F.vastCaller,secProt:b.secProt,promolinkuri:b.promolinkuri,vastSeg:la,dockInfo:o(),dummy:0};return new d(e)}function n(a){f();var c={master:D,adPostContElm:b.adPostContElm,unitDomElm:M,hostWnd:N,useLowRes:sa,comps:F,cllBks:H,bootParams:G,sourceIdx:0,burstIdx:Ma,accChnID_stage:Q,accChnID_unit:R,accChnID_segm:S,mdType:b.mdType,packId:b.packId,adPostWidth:b.adPostWidth,adPostHeight:b.adPostHeight,segmWidth:b.segmWidth,segmHeight:b.segmHeight,curSrcData:JSON.parse(JSON.stringify(a)),vastDevice:ta,hasFlash:ua,primaryMethod:va,initvol:wa,seekAnchor:Ja,userval:Ca,debugVars:Da,getActFlags:L,stageName:aa,stageAttributes:ba,unitAttributes:b.unitAttributes,activeLayout:ca,sectionName:da,unitfbxID:_,unitName:ea,adpName:fa,unitNumID:ha,sourcesetName:na,segmentID:Z,segmName:ja,segmAttr:ma,vastCaller:F.vastCaller,secProt:b.secProt,promolinkuri:b.promolinkuri,vastSeg:la,dockInfo:o(),winData:{adm:Sa.adm,clPrc:Ta,fstPrc:Ua,sndPrc:Va,trdPrc:Wa,unFbxID:_,xSeg:Fa.xSeg},dummy:0};return new e(c)}function o(){return{master:D,stageID:T,sectID:U,unitID:V,partID:W,assetID:X,adpID:Y,segmentID:Z,segmName:ja,unitY:b.unitY,priority:b.priority,sectionName:da,unitfbxID:_,unitName:ea,adpName:fa,unitNumID:ha,main_wrapper_id:b.main_wrapper_id,internalContainer:b.internalContainer,mediacontainer:b.mediacontainer,stylename:b.stylename,cost:za,onsold:Aa,floor:Ba}}function p(a){switch($a!==_a&&(f(),_a=$a),$a){case"INIT":f(),$a="READY";case"READY":if(!0!==x(ma))break;f(),C(R,"start"),Ga=!0,$a="WAIT_SEEK_RES";break;case"WAIT_SEEK_RES":if(!0!==Ya)break;if(!0!==Za){$a="CLOSE_SEGMENT";break}if(!1!==Ab)break;if(null===(Ra=n(Qa.getSrcData())))throw"could_not_launch_plyctr - code: ahWhD5e9J";ka=Ra.getTagName(),f(),fb=ma.mintime,gb=ma.maxtime,vb=ma.quit,$a="LOAD";case"LOAD":if(!0!==y(ma,Ra.isVast()))break;f(),
Ra.load(),ab=a,$a="WAIT_LOAD_READY";case"WAIT_LOAD_READY":if(!0===Ra.wasAborted()){qb=!1,f(),$a="UNLOAD";break}if(!0===xa){f(),$a="UNLOAD";break}if(!0!==Ra.isLoaded())break;f(),f(),B(ma),ab=a,eb=0,db=0,cb=a,wb=!1,xb=!1,u(!1),v(!0),w(!0,ma),$a="PLAYING";case"PLAYING":if(q(ma),!0===Ra.wasAborted()){qb=!1,f(),$a="UNLOAD";break}if(!0===xa){f(),$a="UNLOAD";break}if(B(ma),db=a-cb,eb=Math.floor(db/1e3),s(a),0!==fb&&eb<fb)break;if(!0!==wb&&(wb=!0,u(!0)),!0===A(ma,eb,gb)){$a="UNLOAD";break}break;case"UNLOAD":f(),Ra.unload(),hb=!0,ab=a,$a="UNLOAD_WAIT";case"UNLOAD_WAIT":if(!0!==Ra.isUnloaded())break;!0===Ra.wasAborted()&&(qb=!1,r(),!0===ia&&D.fireEvent("whitesp",{segID:Z})),$a="CLOSE_SEGMENT";case"CLOSE_SEGMENT":!0===mb&&!0===qb&&(rb=!0),f(),u(!1),v(!1),w(!1,ma),Ra=null,ya=!0,kb=!1,F.heartH.unsubscribe(D.tick),$a="PARK"}}function q(a){function b(a){return!0!==z(a)||!0===la&&!0!==Ra.isAdLoaded()}if(!0===jb)return!0;!0!==b(a)&&(D.fireEvent("mediaready",{unitName:ea,unitfbxID:_,adpName:fa,adpType:ga,log:"bd",mtyp:Ra.getMdType(),act:Ra.isActiveSource(),tag:Ra.getTagName()}),jb=!0)}function r(){if(!0===sb){ub=null,sb=!1,mb=!1,nb=null,lb=!1,yb=null;var a={stageName:aa,activeLayout:ca,sectionName:da,unitName:ea,adpName:fa,unitfbxID:_,adpID:Y,segmName:ja,segmIdx:$,tagName:Ra.getTagName(),cntValTm:Ra.getContVldTm(),contTime:pb,vast:la,active:!0,logic:"bd",sourceIdx:Ra.getSrcIdx(),clPrc:Ta,floor:Ba,cost:za};D.fireEvent("adisoff",a)}}function s(a){!0!==sb&&!0===Ra.isRunning()&&(sb=!0,t(a))}function t(a){if(null===Ra)throw"incons_flow_play_process";mb=!0,ob=Math.round((a-Ra.getContVldTm()-Ja)/100)/10,pb=Math.round((a-Ra.getContVldTm()-J)/100)/10,nb=Math.round(999999999999*Math.random()),lb=!0,ub=a,yb=a;var b=Ra.getTagName(),c=Ra.getNodeName(),d={contID:nb,tagName:b,nodeName:c,vast:la,active:!0,logic:"bd",idx:Ra.getSrcIdx(),ctm:ob,clPrc:Ta,fstPrc:Ua,sndPrc:Va,trdPrc:Wa,floor:Ba};C(R,"cnt",d);var e={stageName:aa,activeLayout:ca,sectionName:da,unitName:ea,adpName:fa,unitfbxID:_,adpID:Y,segmName:ja,segmIdx:$,tagName:Ra.getTagName(),cntValTm:Ra.getContVldTm(),contTime:pb,vast:la,active:!0,logic:"bd",fromcache:!1,sourceIdx:Ra.getSrcIdx(),clPrc:Ta,floor:Ba,cost:za};if(D.fireEvent("adison",e),!0!==tb){tb=!0,f();var g="/_s20 passive";!0===Ra.isActiveSource()&&(g="/_s10 active");i(g+"/_s00 cnt tags",Ra.getTagName().replace(na+"_",""));i(g+"/_s10 cnt time",Math.round((a-Ja)/1e3),{scl:"mediumtimes",res:"lo"}),i(g+"/_s20 src idx",Ra.getSrcIdx(),{scl:"mediumtimes",res:"lo"}),i(g+"/_s50 clr price",100*Ta,{scl:"mediumtimes"})}}function u(a){"close"!==vb&&"skip"!==vb||null!==K&&K.showQuit(a,vb)}function v(a){!0===la&&!0!==G.audctrl&&null!==K&&K.showSpkr(a)}function w(a,b){}function x(a){if(!0===ra&&!0!==qa.brken())return!1;var b=L();switch(a.seek){case"always":return!0;case"onvisible":return b.isUnitVisible;case"onactive":return b.isUnitActive;case"onhover":return b.isUnitHovering;case"onaction":return b.isMouseAction}return!1}function y(a,b){var c=L();switch(a.load){case"always":return!0;case"onvisible":return c.isUnitVisible;case"onactive":return c.isUnitActive;case"onhover":return c.isUnitHovering;case"onaction":return c.isMouseAction}return!1}function z(a){var b=L();if(void 0===a.expand)return!0;switch(a.expand){case"onstart":return!0;case"onvisible":return b.isUnitVisible}return!0}function A(a,b,c){if(!0===Ra.isMediaEnd())return!0;if(c>0&&b>c)return f(),!0;if("close"===vb)return!0===ib&&(f(),!0);if("skip"===vb)return!0===ib?(f(),!0):!0===Ra.isMediaEnd();var d=L();switch(vb){case"never":return!1;case"onnotvisible":return!d.isUnitVisible;case"onnotactive":return!d.isUnitActive}return!1}function B(a){function b(a){var b=L();switch(a.audio){case"never":return!1;case"always":return!0;case"onvisible":return b.isUnitVisible;case"onactive":return b.isUnitActive;case"onhover":return b.isUnitHovering;case"onaction":return b.isMouseAction}return!1}!0===b(a)?!1===xb&&(Ra.audio(!0),f(),xb=!0):!1!==xb&&(Ra.audio(!1),f(),xb=!1)}function C(a,b,c){var d={event:b,group:"seek_segm_bd",ver:100,data:{untID:Y,adpID:Y,sgmID:Z,untnam:ea,adpnam:fa,sgmnam:ja}},e=d.data;switch(e.cst=za>0?za:"NA",e.ons=Aa?"1":"0",b){case"start":break;case"cnt":e.cntID=c.contID,e.tagnam=c.tagName,e.nodenam=c.nodeName,e.vast=c.vast?"1":"0",e.actv=c.active?"1":"0",e.log=c.logic,e.idx=c.idx,e.ctm=c.ctm,e.clprc=c.clPrc>0?c.clPrc:"NA",e.fstprc=c.fstPrc>0?c.fstPrc:"NA",e.sndprc=c.sndPrc>0?c.sndPrc:"NA",e.trdprc=c.trdPrc>0?c.trdPrc:"NA",e.flr=c.floor;break;case"nocnt":break;case"tick_sg":e.cntID=c.contID,e.tmval=c.tmval,e.tkidx=c.tickIdx}P.sap(a,d)}var D=this,E=b.master,F=b.comps,G=(b.plcmParams,b.bootParams),H=b.cllBks,I=H.addLogLine,J=b.startTime,K=b.mediacontainer,L=b.getActFlags,M=b.unitDomElm,N=b.hostWnd,O=Math.round(999*Math.random());f();var P=new c({comps:F,assembleFunct:h}),Q=(F.userValueMgr,b.bootParams.testCase,b.accChnID_stage),R=b.accChnID_unit,S=b.accChnID_segm,T=b.stageID,U=b.sectID,V=b.unitID,W=b.partID,X=b.assetID,Y=b.adpID,Z=Math.round(999999999999*Math.random()),$=b.segmIdx,_=b.unitfbxID,aa=b.stageName,ba=b.stageAttributes,ca=b.activeLayout,da=b.sectionName,ea=b.unitName,fa=b.adpName,ga=b.adpType,ha=b.unitNumID,ia=b.smart,ja=b.segmName,ka="NA_sgctrl_bd",la=!1;"vid"===b.mdType&&(la=!0);var ma=b.segmentdata.attributes,na=ma.sourceset,oa=ma.srcfilter,pa=F.sourceadmin.getSSInfo(na),qa=(b.segmentdata.conditions,b.segmentdata.tracking,b.trfAdManager),ra=b.brokerUnit,sa=b.useLowRes;!0===ma.lowres&&(sa=!0);var ta=b.vastDevice,ua=b.hasFlash,va=b.primaryMethod,wa=ma.initvol,xa=!1,ya=!1,za=b.cost,Aa=b.onsold,Ba=pa.floor,Ca=0,Da=b.debugVars,Ea=!1,Fa=null;f();var Ga=!1,Ha="INIT",Ia=null,Ja=0,Ka=0,La=!1,Ma=0,Na=0,Oa=!1,Pa=0,Qa=null,Ra=null,Sa=null,Ta=null,Ua=null,Va=null,Wa=null,Xa="...",Ya=!1,Za=!1,$a="INIT",_a=null,ab=0,bb=!1,cb=0,db=0,eb=0,fb=0,gb=0,hb=!1,ib=!1,jb=!1,kb=!0,lb=!1,mb=!1,nb=null,ob=null,pb=null,qb=!1,rb=!1,sb=!1,tb=!1,ub=null,vb=null,wb=!1,xb=!1,yb=null,zb=0,Ab=!1;D.actUpdt=function(a){Ab=a.curStatus.scroll.scrlng},D.maxSeekTime=a.media.defMaxSeekTime,"unspecified"!==ma.maxSeekTime&&(D.maxSeekTime=parseInt(ma.maxSeekTime)),D.fireEvent=function(a,b){switch(a){case"src_abort":qb=!1;break;case"hoverOn":case"hoverOff":case"click":break;case"quit_btn":ib=!0}E.fireEvent(a,b)},D.getContStatus=function(){var a={segmName:ja,segmentID:Z,logic:"bd",vast:la,sourcesetName:na,nodeName:"NA",tagName:"NA",status:"...",content:null,active:null,contentTime:void 0,mediaReady:void 0,mediaValid:void 0,segUnloaded:void 0,inProgress:kb};return!0!==lb?a:(a.content=mb,a.contentTime=pb,a.mediaReady=jb,a.mediaValid=qb,a.segUnloaded=hb,a.status="ok",!0===mb&&(a.clPrc=Ta,a.fstPrc=Ua,a.sndPrc=Va,a.trdPrc=Wa,null!==Qa&&(a.nodeName=Qa.getNodeName(),a.tagName=Qa.getTagName()),a.active=!0,a.floor=Ba,a.contVldTm=Ra.getContVldTm()),a)},D.updCntDims=function(a,b,c){null!==Ra&&Ra.updCntDims(a,b,c)},D.isBusy=function(){return kb},D.adNtf=function(a){null!==Ra&&Ra.adNtf(a)},D.isContentDef=function(){return lb},D.isSegComplete=function(){return rb},D.start=function(){null!==Ra&&Ra.start(),bb=!0},D.unload=function(){xa=!0},D.getLastTagName=function(){return ka},D.burst=function(a){Oa=!0,Na=a},D.bdClbck=function(a){if(Ea=!0,null!==a){if(Fa=a,!0===a.xSeg){f();var b={unitfbxID:_,adpID:Y,fromSeg:a.srcData.fromSeg,tagName:a.srcData.tagname,prc:a.clPrc};D.fireEvent("src_xseg",b)}else f();var c={unitfbxID:_,adpID:Y,tagName:a.srcData.tagname,prc:a.clPrc};D.fireEvent("src_win",c)}},D.tick=function(b){if(p(b),null!==Ra&&Ra.tick(b),!0===kb&&(j(b),null!==yb&&b-yb>a.accbeam.tickPerOther&&zb<a.accbeam.tickCountOther)){var c={contID:nb,tmval:Math.round(a.accbeam.tickPerOther/1e3),tickIdx:zb};C(R,"tick_sg",c),yb=b,zb++,zb>=a.accbeam.valTickCountOther&&P.rap()}},F.heartH.subscribe(D.tick,"segctrl_bd"),D.tick(Date.now())}}(config,0,an_buffer,fmp__sourcectrl_bd,fmp__plyctrl_bd),fmp__root=function(a,b,c,d,e){return function(d){function f(a){n.logger.writex({msg:a,prefix:"fmp__root",inst:A})}function g(a){x.push(a),!0===y?a("hoverOn",{}):a("hoverOff",{})}function h(a){var b=[];x.forEach(function(c){c!==a&&b.push(c)}),x=b}function i(a,b){x.forEach(function(c){c(a,b)})}function j(){var a={master:m,unitDomElm:r,hostWnd:s,myUnitObj:t,comps:n,cllBks:q,plcmParams:o,bootParams:p,startTime:w,catchCallback:d.catchCallback,debugVars:d.debugVars,unitfbxID:d.unitfbxID,main_wrapper_id:d.main_wrapper_id,internalContainer:d.internalContainer,stylename:d.stylename,flashad:d.flashad,mdType:d.mdType,segmType:d.segmType,adPostWidth:d.adPostWidth,adPostHeight:d.adPostHeight,segmWidth:d.segmWidth,segmHeight:d.segmHeight,centscrn:d.centscrn,progress:d.segmentdata.attributes.progress,stageName:d.stageName,stageAttributes:d.stageAttributes,unitAttributes:d.unitAttributes,activeLayout:d.activeLayout,sectionName:d.sectionName,unitName:d.unitName,adpName:d.adpName,adPostContID:d.adPostContID,segmentName:d.segmentName,unitNumID:d.unitNumID,accChnID_stage:B,accChnID_unit:C,accChnID_segm:D,fmpRoot:m,dummy:0};return new e(a)}function k(){var a,e=(a={master:m,adPostContElm:d.adPostContElm,unitDomElm:r,hostWnd:s,useLowRes:u,comps:n,cllBks:q,plcmParams:o,bootParams:p,startTime:w,stageID:d.stageID,sectID:d.sectID,unitID:d.unitID,partID:d.partID,assetID:d.assetID,adpID:d.adpID,vastDevice:d.vastDevice,userval:d.userval,getActFlags:d.getActFlags,debugVars:d.debugVars,secProt:d.secProt,catchCallback:d.catchCallback,dtomanager:d.dtomanager,userValueMgr:d.userValueMgr,mediacontainer:E,main_wrapper_id:d.main_wrapper_id,internalContainer:d.internalContainer,unitfbxID:d.unitfbxID,segmentdata:d.segmentdata,segmName:d.segmentdata.name,segmIdx:d.segmIdx,stageName:d.stageName,stageAttributes:d.stageAttributes,unitAttributes:d.unitAttributes,activeLayout:d.activeLayout,sectionName:d.sectionName,unitName:d.unitName,adpName:d.adpName,adpType:d.adpType,adPostContID:d.adPostContID,segmentName:d.segmentName,unitNumID:d.unitNumID,smart:d.smart,priority:d.priority,mdType:d.mdType,packId:d.packId,segmType:d.segmType,adPostWidth:d.adPostWidth,adPostHeight:d.adPostHeight,segmWidth:d.segmWidth,segmHeight:d.segmHeight,unitY:d.unitY,stylename:d.stylename,cost:d.cost,onsold:d.onsold,accChnID_stage:B,accChnID_unit:C,accChnID_segm:D,trfAdManager:d.trfAdManager,brokerUnit:d.brokerUnit},_defineProperty(a,"vastDevice",d.vastDevice),_defineProperty(a,"primaryMethod",d.primaryMethod),_defineProperty(a,"hasFlash",d.hasFlash),a);return"bd"===e.segmType?new c(e):new b(e)}function l(a){switch(H){case"INIT":if(null!==E&&!0!==E.isReady())break;G=k(),J=!0,H="RUNNING";case"RUNNING":if(!0===G.isBusy())break;f(),null!==E&&E.destroy(),H="WAIT_CONTAINER";case"WAIT_CONTAINER":if(null!==E&&!0!==E.getDestStat())break;N=!0,I=!1,H="PARK"}}var m=this,n=d.comps,o=d.plcmParams,p=d.bootParams,q=d.cllBks,r=d.unitDomElm,s=d.hostWnd,t=(d.master,d.myUnitObj),u=(d.unitName,d.adpName,d.useLowRes),v=q.addLogLine,w=d.startTime,x=[],y=!1,z=!1,A=Math.round(999*Math.random());f();var B=d.accChnID_stage,C=d.accChnID_unit,D="_segm"+Math.round(9999*Math.random());n.accbeam.register("segment",D,a.accbeam.channels.segm.red);var E=null,F=!1,G=null,H="INIT",I=!0,J=!1,K=!0,L=!0,M=!1,N=!1;m.fireEvent=function(a,b){switch(a){case"mediaready":K=!0;break;case"error_mediacont":F=!0;break;case"addHovLstn":g(b);break;case"remHovLstn":h(b);break;case"hoverOn":y=!0,i(a,{});break;case"hoverOff":y=!1,i(a,{})}d.master.fireEvent(a,b)},m.actUpdt=function(a){z=a.curStatus.scroll.scrlng,null!==E&&E.actUpdt(a),null!==G&&G.actUpdt(a)},m.tick=function(a){l(a),null!==E&&E.tick(a)},m.isReady=function(){return J},m.isContentDef=function(){return G.isContentDef()},m.isSegComplete=function(){return G.isSegComplete()},m.getContStatus=function(){return G.getContStatus()},m.isBusy=function(){return I},m.placeMedia=function(){f(),null!==E&&E.expand(),G.start(),L=!0},m.updCntDims=function(a,b,c){null!==G&&G.updCntDims(a,b,c),null!==E&&E.updCntDims(a,b,c)},m.adNtf=function(a){null!==G&&G.adNtf(a)},m.getLastTagName=function(){return null===G?"NA_fmp":G.getLastTagName()},m.unload=function(){G.unload(),M=!0},m.getUnloadStat=function(){return N},"cst"!==d.mdType&&(E=j()),v(d.unitfbxID+" fmp launching..., segIdx: "+d.segmIdx),f()}}(config,fmp__segmctrl_wf,fmp__segmctrl_bd,0,fmp_container_pop),stm_romcode=function(a){this.getCode=function(a){switch(a){case"XXXXX":return""}return null}},stm_observer=function(a){function b(a){f.logger.writex({msg:a,prefix:"stm_observer",inst:k})}function c(a,b){function c(a,b,c){f.trackhub.sendEvent("performance","/observer/"+g.locus+a,b,c),f.trackhub.sendEvent("performance","/observer/*AllLocus*"+a,b,c)}if(void 0!==a.type&&""!==a.type&&("deprecation"!==a.type||"sys"!==g.ctxId)){var d="NA";void 0!==a.body&&void 0!==a.body.id&&""!==a.body.id&&(d=a.body.id),c("/_s10 reports/"+a.type,d,{res:"med",att:a}),c("/_s20 rep_idx",b,{res:"med",scl:"mediumtimes"})}}function d(a){try{var b={ts:Date.now(),ver:h,obsDataStr:JSON.stringify(a)},c=JSON.stringify(b);return f.memhub.setItem(j,c),!0}catch(a){return!1}}function e(){try{var a=f.memhub.getItem(j),b=JSON.parse(a);if(b.ver!==h)throw{msg:"incomp_versions"};if(Date.now()-b.ts>i)throw{msg:"data_too_old"};var c=JSON.parse(b.obsDataStr);c.forEach;return c}catch(a){return null}}var f=a.comps,g=(a.cllBks,a.bootParams),h=110,i=216e5,j="pub_obs_rep",k=Math.round(999*Math.random());if(b(),"undefined"!=typeof ReportingObserver){var l=new ReportingObserver(function(a,b){0!==a.length&&d(a)},{buffered:!0});l.observe(),window.addEventListener("beforeunload",function(a){var b=l.takeRecords();0!==b.length&&d(b)});var m=e();null!==m&&(m.forEach(function(a,b){c(a,b)}),f.memhub.removeItem(j))}},stm_cachedfile=function(a,b,c){return function(a){function d(a){o.logger.writex({msg:a,prefix:"stm_cachedfile",inst:t})}function e(a,b,c){var d="/cachef/"+q.placementId+a;o.trackhub.sendEvent("performance",d,b,c)}function f(b){switch(y){case"INIT":w=null,l(A),z=b,y="WFR";case"WFR":if(b-z>a.timeout){e("","_s34 from_file_to"),m("error",null,"timeout"),y="PARK";break}if(null===w)break;if(!0!==w){e("","_s36 from_file_err"),m("error",null,"call_error"),y="PARK";break}e("","_s30 from_file"),e("/_s10 sizeK",Math.round(x.length/100)/10,{scl:u,res:"lo"}),m("ok",x,"from_file"),k(x,B),y="PARK";break;case"PARK":o.heartH.unsubscribe(n.tick)}}function g(a){if(0===a.fileName.indexOf("blob:http"))return a.fileName;if(0===a.fileName.indexOf("http"))return a.fileName;var b="http://";return!0===a.secProt&&(b="https://"),b+i(a)}function h(a){if(0===a.fileName.indexOf("blob:http"))return null;if(0===a.fileName.indexOf("http"))return null;var b=i(a),c=b.indexOf("/");c>=0&&(b=b.substring(c+1));var d=b.replace(/\//g,"_"),e=d.indexOf("?");e>=0&&(d=d.substring(0,e));var f=d.indexOf("#");return f>=0&&(d=d.substring(0,f)),"stgm_"+d}function i(a){function b(){return"?cb="+Math.round(999999*Math.random())}var c=!1,d="";return 0===a.synchro?d+=a.dataBaseUrl+"/"+a.folderPath+"/"+a.fileName+"."+a.fileExt:null===a.synchro?(d+=a.dataBaseUrl+"/"+a.folderPath+"/"+a.fileName+"."+a.fileExt,c=!0):!0!==a.prodUrl?d+=a.dataBaseUrl+"/"+a.folderPath+"/"+a.fileName+"."+a.fileExt:d+=a.dataBaseUrl+"/"+a.folderPath+"/"+a.fileName+"_fbx999_"+a.synchro+"."+a.fileExt,!0===c&&(d+=b()),d}function j(b){function c(b){var c=s;"dev"===a.env&&(c=6e4),v=!1;try{if(null===b)throw{msg:"no_data"};if(b.ver!==r)throw{msg:"incomp_cache_version"};if(Date.now()-b.ts>c)throw{msg:"cache_data_too_old"};if(null===(x=b.filedata))throw{msg:"invalid_data"};return void(v=!0)}catch(a){}}if(null===b)return void(v=!1);c(o.memhub.getItem(b))}function k(b,c){if(null===c)return!1;if(null===b)return!1;var d={ts:Date.now(),ver:r,filedata:b},e={folder:a.mhfolder,inclear:a.inclear,maxage:a.lifeTime};return o.memhub.setItem(c,d,e),"sys"===q.ctxId&&o.baseBridge.setItem(c,d,e),!0}function l(b){function d(b){w=!1,null!==b&&"string"==typeof b&&""!==b&&(x=""+b,!0===a.shorten&&(x=x.replace(/\s+/g," ").replace(/\\t|\\r|\\n/g,"")),w=!0)}function e(){w=!1}function f(a,b,d){var e={method:"GET",url:a,onSucc:function(a){b(""+a.responseText)},onFail:function(){d("")},options:{timeout:5e3,withCredentials:!1}};new c(e)}f(b,d,e)}function m(b,c,e){d(),x=c,"ok"===b?a.callback(b,c,e):a.callback("error",null,e)}var n=this,o=a.comps,p=a.cllBks,q=a.bootParams,r=100,s=2592e6,t=(p.addLogLine,Math.round(999*Math.random()));d();var u="trgFileSize";!0!==b.isSeries(u)&&b.addSeries(u,{start:0,maxval:100,inc:10,exp:!0}),e("","_s10 inst");var v=null,w=null,x=null,y="INIT",z=0,A=g(a),B=h(a);if(!0!==a.forcerefresh&&(v=null,j(B),!0===v))return e("","_s20 from_cache"),void m("ok",x,"from_cache");this.tick=function(a){f(a)},o.heartH.subscribe(n.tick,"stm_cachedfile"),n.tick(Date.now())}}(0,antools,ajaxcall),stm_blockdet=function(a,b){return function(c){function d(a){k.logger.writex({msg:a,prefix:"stm_blockdet",inst:x})}function e(a){switch(r){case"INIT":s=a,r="WAIT_URL_RES";case"WAIT_URL_RES":if(null===t&&a-s>2e3){g(!1),r="PARK";break}if(null===v)break;g(v),h(v),r="PARK";break;case"PARK":k.heartH.unsubscribe(j.tick)}}function f(){function c(){v=!1,g(v)}function d(){w.push("url blocked"),v=!0,g(v)}function e(a,c,d){var e={method:"GET",url:a,onSucc:function(a){c(""+a.responseText)},onFail:function(){d("")},options:{timeout:5e3,withCredentials:!1}};new b(e)}var f="http://";location.protocol.toLowerCase().indexOf("https")>=0&&(f="https://"),e(f+a.resourceLocations.adServeUrl+"/adbox_ad_banner_Ad300x250.jpg",c,d)}function g(a){if(!1===u){u=!0;var b="unknown";null===t&&(!0===a?(b="yes_detected",t=!0):!1===a&&(b="not_detected",t=!1));n("ad-blocker status: "+b),d()}}function h(a){if(!0===a||!1===a)try{var b={ts:Date.now(),ver:o,abDataStr:JSON.stringify({det:a})},c=JSON.stringify(b);return k.memhub.setItem(q,c),k.baseBridge.setItem(q,c),!0}catch(a){return!1}}function i(){try{var a=k.memhub.getItem(q),b=JSON.parse(a);if(b.ver!==o)throw{msg:"incomp_versions"};if(Date.now()-b.ts>p)throw{msg:"data_too_old"};var c=JSON.parse(b.abDataStr);return null===c?null:c.det}catch(a){return null}}var j=this,k=c.comps,l=c.cllBks,m=c.bootParams,n=l.addLogLine,o=110,p=216e5,q="device_adblk",r="INIT",s=0,t=null,u=!1,v=null,w=[],x=Math.round(999*Math.random());if(d(),j.getStatus=function(){return t},"sys"===m.ctxId){if(j.tick=function(a){e(a)},"dev"!==m.env){var y=i();if(null!==y)return void g(y)}f(),k.heartH.subscribe(j.tick,"stm_blockdet")}}}(config,ajaxcall),stm_srcsrvr=function(a,b,c){return function(b){function d(a){y.logger.writex({msg:a,prefix:"stm_srcsrvr",inst:D})}function e(a,b,c){function d(d){function e(e){G.sendEvent("stage",d+"/_s10 stgmgr/_s20 srcsrv/"+e+a,b,c)}e("*AllSrcSets*"),e(E)}d("*AllStages*"),d(A.placementId)}function f(a,b){try{if("ok"!==a)throw{msg:"file_not_ok"};U=JSON.parse(b),W=b.length,V=!0}catch(a){V=!1}}function g(a,b,c,d){var e="NA";null!==Q&&(e=Q.segmType);var f=i(Q.mdType)+"/"+e+"/"+E,g="/_s00 ss_inf/"+b;G.sendEvent("tags",f+g,c,d)}function h(a,b,c,d){var e="NA";null!==Q&&(e=Q.segmType);var f=i(Q.mdType)+"/"+e+"/"+E,g="/_s20 by_tag/${"+a+"|*AllTags*}$/"+b;G.sendEvent("tags",f+g,c,d)}function i(a){switch(a){case"dsp":return"/_s20 dsp";case"vid":return"/_s30 vid";case"nat":return"/_s40 nat";case"cst":return"/_s50 cst"}}function j(){function a(a){function b(a){var b={status:"-",tagname:"",rem:""},c=""+a,d=c.indexOf("${");if(d<0)return b;var e=c.indexOf("}");if(e<0)return b;var f=c.substring(d,e+1);return b.rem=c.replace(f,""),b.tagname=f.substring(2,f.length-1),b.status="ok",b}for(var c,d=[],e=0,f=a;e<100&&(e++,c=b(f),"ok"===c.status);)d.push(c.tagname),f=c.rem;return d}var b=[];try{var c=window.localStorage.getItem("fb_spec_tags");if(null===c)throw"no_spec_tags_file";var b=a(c)}catch(a){}return b}function k(a){var b=!1;return T.forEach(function(c){c===a&&(b=!0)}),b}function l(){function a(a,b){try{for(var c=0;c<a.length;c++){var f=a[c];if(f.name===b){if("ok"!==f.status)break;return f.synchro}}}catch(a){}return d(),e("","_s80 no_synchro_data"),null}return a(b.ssFileData,E)}function m(a){switch(L){case"INIT":e("","_s10 inst"),M=a,L="WFSD";case"WFSD":if(null===V)break;if(!0!==V){d();var c="ss_file_error - "+E;Y.push(c),e("","_s32 ss_file_error"),e("/ss_file_error",E),L="ERROR";break}d(),e("","_s14 file_retr_ok"),e("/_s10 file_size_k",Math.round(W/1e3),{scl:"mediumtimes",res:"lo"}),e("/_s20 file_rtrv_tm_ms",a-M,{scl:"shorttimes",res:"lo"});var f=s(E,b.useCount,U);if("ok"!==f.status){d();var c="ss_build_error - "+E+" - stat:"+f.status+", msg: "+f.msg;Y.push(c),e("","_s32 ss_build_error"),e("/ss_build_error",c),L="ERROR";break}X=f.sourceSetInfo,e("","_s30 ss_built"),M=a,L="WDTOX";case"WDTOX":var g=H.isDtoExtAvail();if(a-M<C&&null===g)break;if(!0===g){var c="source_loop_starts (external dto avail)";Y.push(c),e("","_s20 dto_extrn_avl")}else{var c="source_loop_starts (external dto not avail)";Y.push(c),e("","_s22 dto_extrn_not_avl")}var h=H.mergeDtoInfo(X);Q=h.locSourceInfo,R=h.dtoFactors,Y.push("DTO factors: "+JSON.stringify(R)),n(Q),o(),p(),e("","_s40 sent"),Y.push("sourceset sent"),L="PARK";break;case"ERROR":e("","_s42 error"),L="PARK";break;case"PARK":y.heartH.unsubscribe(w.tick)}}function n(a){var b=H.getRotIdx();S={sourcesetName:a.name,useCount:a.useCount,mdType:a.mdType,packid:a.packid,floor:a.floor,segmType:a.segmType,sourceWidth:a.width,sourceHeight:a.height,rotIdx:b,tags:[]}}function o(){function a(a,b,c){if(!0===c)var d=b.activeList;else var d=b.passiveList;return a<d.length?d[a]:null}function b(a){S.tags.push(a)}function c(a){return"cst"!==a.mdType&&"bd"!==a.segmType}for(var e=0,f=null,i=100;i>0;){if(i--,N=a(e,Q,K),e++,null===N){if(!0===K){if(null!==f){var j=0;e>0&&(j=100*f/e),g(P,"perfm/_s10 top_idx",f,{scl:"mediumtimes",res:"lo"}),g(P,"perfm/_s20 top_prc",j,{scl:"percRange",res:"lo"}),g(P,"perfm/_s30 cutoff","yes")}else g(P,"perfm/_s30 cutoff","no");K=!1,e=0;continue}return}O=JSON.parse(JSON.stringify(N)),P=O.sourceName.replace(Q.name+"_","");var l=P;l+=" - v:"+O.compvalue,l+=" - xv:"+O.extDTOVars.combValue,l+=" - iv:"+O.intDTOVars.combValue,l+=" - sc:"+O.intDTOVars.sessCount,l+="  |  rc:"+O.intDTOVars.reqCount,l+="  |  hc:"+O.intDTOVars.hitCount,l+="  |  hs:"+O.intDTOVars.hrShare,l+="  |  bc:"+O.intDTOVars.bidCount,l+="  |  bp:"+O.intDTOVars.bidAvgPrc,l+="  |  bs:"+O.intDTOVars.bidAmtShr,l+="  |  wc:"+O.intDTOVars.winCount,l+="  |  wp:"+O.intDTOVars.winAvgPrc,l+="  |  ws:"+O.intDTOVars.winAmtShr;var m=k(O.sourceName);if(h(P,"use","_s01 inst"),!0===m||!0===O.enabled){if(O.curbIdx_Hr=0,O.curbIdx_Er=0,O.curbIdx_Dl=0,!0===O.active&&!0===O.curb){var n=q(O.extDTOVars,Q.mdType);if(h(P,"curbIdx/hit",n.curbIdx_Hr,{scl:"percRange",res:"lo"}),h(P,"curbIdx/err",n.curbIdx_Er,{scl:"percRange",res:"lo"}),h(P,"curbIdx/dly",n.curbIdx_Dl,{scl:"percRange",res:"lo"}),O.curbIdx_Hr=n.curbIdx_Hr,O.curbIdx_Er=n.curbIdx_Er,O.curbIdx_Dl=n.curbIdx_Dl,"go"!==n.status){var o="tag_avoided ("+n.reason+") - "+l;Y.push(o),h(P,"use","_s20 avoided - "+n.reason),O=null;continue}}if(!0===O.active&&!0===c(Q)){if(h(P,"perfm/value",O.p_val,{scl:"mediumtimes",res:"lo"}),h(P,"perfm/idx",O.p_idx,{scl:"mediumtimes",res:"lo"}),!0!==r(O,Q)){Y.push("tag_avoided (perfm) - "+l),h(P,"use","_s20 avoided - perfm"),O=null,null===f&&(f=e),h(P,"perfm/in_top","_s20 no");continue}h(P,"perfm/in_top","_s10 yes")}var p="sourcetag",s="tag_"+O.sourceName,t=0;void 0!==O.maxday&&"unspecified"!==O.maxday&&(t=parseInt(O.maxday));var u=!1;void 0!==O.strict&&("true"!==O.strict&&!0!==O.strict||(u=!0));var v=0,w=!1;if(O.overuse=0,0!==t&&(v=I.getExpCount("sourcetag",s,864e5),v>=t&&(!0===u?w=!0:(O.category=4,O.overuse=v-t)),v-t<=4&&I.registerExposure(p,s)),!0!==w){O.insbx=!1,b(O);var o="tag_sent - "+l+" - c:"+String.fromCharCode(65+O.category);Y.push(o),d(),h(P,"use","_s40 dispatched"),O=null}else{var o="tag_skipped - "+l+", dcnt:"+v;Y.push(o),d(),h(P,"use","_s30 skipped"),O=null}}else{d();var o="tag_disabled - "+l;Y.push(o),h(P,"use","_s10 disabled"),O=null}}}function p(){y.parcels.sendp("ssdata",S),d(),J("srcset file TXd: "+S.sourcesetName)}function q(b,c){function d(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(!(a>=d.value)){if(0===c)return 0;var d=b[c-1];return d.curb}}var d=b[b.length-1];return d.curb}function e(a){var b=1e4,c=b*(100-a)/100;return Math.round(Math.random()*b)>c}var f={status:"---",reason:"NA",curbIdx_Hr:null,curbIdx_Er:null,curbIdx_Dl:null};return f.curbIdx_Hr=d(b.hitrate,a.tagserver.curbTable_Hr),"vid"===c&&(f.curbIdx_Hr=0),f.curbIdx_Er=d(b.errate,a.tagserver.curbTable_Er),f.curbIdx_Dl=d(b.avgdelay,a.tagserver.curbTable_Dl),b.total<a.tagserver.minCount?(f.status="go",f):!0===e(f.curbIdx_Hr)?(f.status="dontgo",f.reason="hitrate",f):!0===e(f.curbIdx_Er)?(f.status="dontgo",f.reason="errate",f):!0===e(f.curbIdx_Dl)?(f.status="dontgo",f.reason="avgdelay",f):(f.status="go",f)}function r(a,b){function c(a){return Math.random()<a/100}return!0===a.p_top||!0===c(B)}function s(a,b,c){function d(a){var b={status:"---",msg:"NA",width:null,height:null},c=a.toLowerCase(),d=c.indexOf("x");return d<0?(b.status="error",b.msg="could_not_parse_dims",b):(b.width=parseInt(c.substring(0,d)),b.height=parseInt(c.substring(d+1)),b.status="ok",b)}function e(a){var b={};return b.sourceName=g.name+"_"+a.name,b.active=!0!==a.passive,b.enabled=a.enabled,b.category=parseInt(a.cat),b.curb=a.curb,b.snippet=decodeURIComponent(a.tag),b.sbxmode="auto",void 0!==a.sbxmode&&(b.sbxmode=a.sbxmode),b.maxpage=a.maxpage,b.maxday=a.maxday,b.strict=a.strict,b.share=a.share,b.hires=!!a.hires&&a.hires,b.insmod="inpage",void 0!==a.insmod&&(b.insmod=a.insmod),!1!==isNaN(parseFloat(a.defrefprc))?b.defrefprc=0:b.defrefprc=parseFloat(a.defrefprc),b}var f={status:"---",msg:"NA",sourceSetInfo:{}},g={};if(g.name=a,g.useCount=b,g.mdType="dsp","vast"===c.adtype&&(g.mdType="vid"),"native"===c.adtype&&(g.mdType="nat"),"custom"===c.adtype&&(g.mdType="cst"),g.packid="",void 0!==g.packid&&(g.packid=c.packid),g.segmType=c.logic,void 0===g.segmType&&(g.segmType="wf"),g.floor=0,void 0!==c.floor){var h=parseFloat(c.floor);!1===isNaN(h)&&(g.floor=h)}g.activeList=[],g.passiveList=[],g.origin="server";var i=d(c.dimension);"ok"===i.status?(g.width=i.width,g.height=i.height):(g.width=1,g.height=1);for(var j=0;j<c.tags.length;j++){var k=e(c.tags[j]);!0===k.active?g.activeList.push(k):g.passiveList.push(k)}return f.status="ok",f.sourceSetInfo=g,f}function t(a){return JSON.stringify({Version:"100",dimension:"1x1",adtype:"dispad",floor:"0",tags:[{tag:"",name:"LIVEWEB",cat:"3",enabled:!0,wrap:!1,share:"25",maxpage:"0",sbxmode:"no",defrefprc:"0",passive:!0,curb:!1}]})}function u(a){return JSON.stringify({Version:"100",dimension:a.width+"x"+a.height,adtype:"dsp"===a.mtype?"dispad":"vast",floor:"0",tags:[{tag:"$fsadbox{data:"+a.data+"}",name:a.tagname,cat:"0",enabled:!0,wrap:!1,share:"100",maxpage:"0",sbxmode:"no",defrefprc:"0",passive:!0,curb:!1}]})}function v(a){function b(a){var b=["300x50","300x250","160x600","300x600","640x360","640x480","728x90"],c=null;return b.forEach(function(b){null===c&&a.indexOf(b)>=0&&(c=b)}),c}function c(a){var b="NODE_"+String.fromCharCode(65+a)+"_V1";return{tag:"drvid:"+b+", partnerid:10, siteid:100, unitid:100",name:b,cat:"0",enabled:!0,wrap:!1,share:"100",maxpage:"0",sbxmode:"no",defrefprc:"0",passive:!1,curb:!1}}var d=""+a;d=d.replace("bidsim_","");var e=b(d);null===e?e="SIZE_ERROR":d=d.replace(e,"");var f="dispad";d=d.replace("dsp_",""),d.indexOf("vid_")>=0&&(f="vast",d=d.replace("vid_",""));for(var g={Version:"100",logic:"bd",dimension:e,adtype:f,floor:"0",tags:[]},h=0;h<8;h++)g.tags.push(c(h));return JSON.stringify(g)}var w=this,x=b.master,y=b.comps,z=b.cllBks,A=b.bootParams,B=(b.testCase,b.startTime,15),C=3e3,D=Math.round(999*Math.random());d();var E=b.sourceSetName,F=b.dynssobj,G=y.trackhub,H=y.dtomanager,I=y.expreg_1,J=z.addLogLine,K=!0,L="INIT",M=0,N=null,O=null,P=null,Q=null,R=null,S={},T=[],U=null,V=null,W=0,X=null,Y=[];if(w.fireEvent=function(a,b){x.fireEvent(a,b)},w.getLog=function(){var a="SourceSet: "+E+"\n\n";return Y.forEach(function(b){a+="\t"+b+"\n"}),a+="\n"},w.tick=function(a){m(a)},T=j(),null!==F)f("ok",u(F));else if("liveweb"===E)f("ok",t(E));else if(0===E.indexOf("bidsim"))f("ok",v(E));else{var Z=!1;!0!==b.useLocalCache&&(Z=!0);var $=A.dataRoot,_=!($.indexOf("localhost")>=0);new c({comps:y,cllBks:z,bootParams:A,callback:f,timeout:1e4,shorten:!0,inclear:b.inClear,lifeTime:b.lifeTime,mhfolder:b.mhfolder,secProt:b.secProt,dataBaseUrl:$,folderPath:"sourcesets",fileName:E,fileExt:"json",synchro:l(),forcerefresh:Z,env:b.bootParams.env,prodUrl:_})}y.heartH.subscribe(w.tick,"srcserver")}}(config,0,stm_cachedfile),stm_dtomgr=function(a){return function(b){function c(a){u.logger.writex({msg:a,prefix:"stm_dtomgr",inst:E})}function d(a,b,c){u.trackhub.sendEvent("performance","/dtomgr/"+v.dsdchn+a,b,c)}function e(b){switch(L){case"INIT":d("","_s40 dsd request"),M=b,L="WSDSI";case"WSDSI":if(b-M>a.stage.sdsTimeout){d("","_s42 dsd timeout"),_stageMgrStatus="stg_dsd_to",c(),L="SVLP";break}if(!1===u.inLineData.getSDSStatus()){d("","_s44 dsd error"),_stageMgrStatus="stg_dsd_error",c(),L="SVLP";break}if(!0!==u.inLineData.getSDSStatus())break;d("","_s46 dsd ok"),I=q(u.inLineData.getBroadDataDTO()),M=b,L="SVLP";case"SVLP":!0===K&&(i(J),K=!1,M=b,L="SAVE_HOLDOFF");break;case"SAVE_HOLDOFF":if(b-M<w)break;L="SVLP"}}function f(){var a=u.memhub.getItem(G);try{if(null===a)throw{msg:"no_data"};if(Date.now()-a.ts>A)throw{msg:"old_data"};if(a.ver!==x)throw{msg:"incomp_version"};return d("","_s10 repo rtrv ok"),a.data}catch(a){d("","_s12 repo rtrv error")}return{sourceList:[]}}function g(a){if(!(G.indexOf("blob:http")>=0)){var b={ts:Date.now(),ver:x,data:a},c={folder:B,inclear:C,maxage:D};return u.memhub.setItem(G,b,c),!0}}function h(){var a=u.memhub.getItem(H);try{if(null===a)throw{msg:"no_data"};if(Date.now()-a.ts>A)throw{msg:"old_data"};if(a.ver!==x)throw{msg:"incomp_version"};return a.data}catch(a){}return{sourceList:[]}}function i(a){var b={ts:Date.now(),ver:x,data:a},c={folder:B,inclear:C,maxage:D};return u.memhub.setItem(H,b,c),!0}function j(a){function b(a){function b(a){switch(a.code){case"req":var b=r(a.sn);if(null===b)return null;var c=b.sessions[0];c.rc+=1;break;case"hit":var b=r(a.sn);if(null===b)return null;var c=b.sessions[0];c.hc+=1;break;case"bpr":var b=r(a.sn);if(null===b)return null;var c=b.sessions[0];c.bc+=1,c.bt=Math.round(100*(c.bt+a.prc))/100;break;case"wpr":var b=r(a.sn);if(null===b)return null;var c=b.sessions[0];c.wc+=1,c.wt=Math.round(100*(c.wt+a.prc))/100}}for(;a.length>0;)b(a.shift())}try{b(a),d("","_s30 last ses data ok")}catch(a){d("","_s32 last ses data error")}}function k(){function a(){function a(a){function b(a){var b=0;return a.forEach(function(a,c){b+=a.rc}),b}var c=[];return a.forEach(function(a){0!==b(a.sessions)&&c.push(a)}),c}function d(a,b){for(var c=[],d=0;d<b;d++){var e=a[d];c.push(e)}return c}function e(a,b){var c=l({sessionCount:a.length}),d=a.length;d>b.calcSpan&&(d=b.calcSpan);for(var e=0;e<d;e++){var f=a[e];c.reqCount+=f.rc,c.hitCount+=f.hc,c.bidAmt+=f.bt,c.bidCount+=f.bc,c.winAmt+=f.wt,c.winCount+=f.wc}return c.bidAmt=Math.round(100*c.bidAmt)/100,c.winAmt=Math.round(100*c.winAmt)/100,c.reqCount>0&&(c.hitrate=Math.round(1e3*c.hitCount/c.reqCount)),c.bidCount>0&&(c.bidAvgPrc=Math.round(c.bidAmt/c.bidCount*100)/100),c.winCount>0&&(c.winAvgPrc=Math.round(c.winAmt/c.winCount*100)/100),c}O.sourceList=a(O.sourceList);for(var f=O.sourceList,g=0;g<f.length;g++){var h=f[g];h.intDTOVars=e(h.sessions,F);var i=n();h.sessions.unshift(i),h.sessions.length>=y&&(h.sessions=d(h.sessions,y)),b++,c+=h.sessions.length}}var b=0,c=0;try{a(),d("","_s20 repo proc ok"),d("/_s90 stats/_s10 tot_src_cnt",b,{scl:"mediumtimes",res:"lo"}),d("/_s90 stats/_s20 avg_ses_cnt",Math.round(c/b),{scl:"mediumtimes",res:"lo"})}catch(a){d("","_s22 repo proc error")}}function l(a){return{sessCount:a.sessionCount,reqCount:0,hitCount:0,hitrate:0,hrShare:0,bidAmt:0,bidCount:0,bidAvgPrc:0,bidAmtShr:0,winAmt:0,winCount:0,winAvgPrc:0,winAmtShr:0,combValue:0}}function m(){return{hitrate:0,errate:0,total:0,avgdelay:0,hrShare:0,bidAmtShr:0,winAmtShr:0,combValue:0}}function n(){return{rc:0,hc:0,bt:0,bc:0,wt:0,wc:0}}function o(a){function b(a,b,c){function d(a,b,c){if(!0===b){var d=0;d+=a.winAmtShr*c.revWeight/100,
d+=a.bidAmtShr*c.bidWeight/100,d=Math.round(d)}else var d=a.hrShare;return d}for(var e=0,f=0,g=0,h=0,i=0;i<a.length;i++){var j=a[i],k=r(j.sourceName);j.intDTOVars=k.intDTOVars,e+=j.intDTOVars.bidAmt,f+=j.intDTOVars.winAmt,g+=j.intDTOVars.hitrate,h+=j.intDTOVars.sessCount}a.length>0&&(h=Math.round(h/a.length));for(var i=0;i<a.length;i++){var j=a[i],l=j.intDTOVars;l.bidAmtShr=0,e>0&&(l.bidAmtShr=Math.round(999*l.bidAmt/e)),l.winAmtShr=0,f>0&&(l.winAmtShr=Math.round(999*l.winAmt/f)),l.hrShare=0,g>0&&(l.hrShare=Math.round(999*l.hitrate/g)),l.combValue=d(l,b,c)}return h}function c(a,b,c){function d(a,b,c){if(!0===b){var d=0;d+=a.winAmtShr*c.revWeight/100,d+=a.bidAmtShr*c.bidWeight/100,d=Math.round(d)}else var d=a.hrShare;return d}for(var e=0,f=0,g=0,h=0;h<a.length;h++){var i=a[h];i.extDTOVars=m();var j=i.extDTOVars,k=p(i.sourceName);i.bfsVars=k,j.hitrate=0,k.total>0&&(j.hitrate=Math.round(1e3*k.hits/k.total)),j.errate=0,k.total>0&&(j.errate=Math.round(1e3*k.errors/k.total)),e+=k.rev,f+=k.bidamt,g+=j.hitrate,i.refprice=0,void 0!==k.refprice&&k.refprice>0?i.refprice=k.refprice:void 0!==i.defrefprc&&i.defrefprc>0&&(i.refprice=i.defrefprc)}for(var h=0;h<a.length;h++){var i=a[h],j=i.extDTOVars;j.winAmtShr=0,e>0&&(j.winAmtShr=Math.round(999*i.bfsVars.rev/e)),j.bidAmtShr=0,f>0&&(j.bidAmtShr=Math.round(999*i.bfsVars.bidamt/f)),j.hrShare=0,g>0&&(j.hrShare=Math.round(999*j.hitrate/g)),j.avgdelay=i.bfsVars.avgdelay,j.total=i.bfsVars.total,j.combValue=d(j,b,c)}}function d(a,b,c,d){for(var e=0;e<a.length;e++){var f=a[e],g=f.extDTOVars.combValue;f.intDTOVars.combValue>g&&(g=f.intDTOVars.combValue),f.compvalue=g}}function e(a,b){a.sort(function(a,b){return b.compvalue-a.compvalue});var c=0;a.forEach(function(a,b){a.p_val=a.compvalue,c+=a.p_val,a.p_idx=b});var d=c*b/100,e=0,f=!0;a.forEach(function(a){a.p_top=f,(e+=a.compvalue)>d&&(f=!1)})}function f(a){for(var b=0;b<a.length;b++){var c=a[b];c.extDTOVars=m(),c.intDTOVars=l({sessionCount:0}),c.compvalue=0,c.bfsVars=p(c.sourceName),c.refprice=c.defrefprc}}var g=JSON.parse(JSON.stringify(a)),h=!1;"bd"===g.segmType&&(h=!0);var i=b(g.activeList,h,F);return c(g.activeList,h,F),d(g.activeList,i,h,F),e(g.activeList,z),g.activeList.sort(function(a,b){return b.compvalue-a.compvalue}),f(g.passiveList),{locSourceInfo:g,dtoFactors:F}}function p(a){function b(){return{hits:0,errors:0,total:0,avgdelay:0,bidamt:0,bids:0,rev:0,refprice:0,loads:0,hints:0,lastban:0}}return null===I?b():void 0===I[a]?b():I[a]}function q(a){function b(a){var b=a.map,c={};for(var e in a.data){var f=a.data[e];for(var g in f){var h=e+"_"+g,i=f[g],j={};b.forEach(function(a,b){j[a]=i[b]}),c[h]={hits:parseInt(j.Hits),errors:isNaN(parseInt(j.Errors))?0:parseInt(j.Errors),total:parseInt(j.Total),avgdelay:parseInt(j.AvgDelay),refprice:isNaN(parseInt(j.RefPrice))?0:parseInt(j.RefPrice),bidamt:parseFloat(j.BidAmt),bids:parseInt(j.Bids),rev:parseFloat(j.Rev),loads:isNaN(parseInt(j.Loads))?0:parseInt(j.Loads),hints:isNaN(parseInt(j.Hints))?0:parseInt(j.Hints),lastban:isNaN(parseInt(j.LastBan))?0:parseInt(j.LastBan)}}}var k=0;for(var l in c)k++;return d("/_s70 lookup items",k,{scl:"mediumtimes",res:"lo"}),c}try{var c=b(a);return d("","_s50 dto xtrn data ok"),c}catch(a){d("","_s52 dto xtrn data error")}return{}}function r(a){var b=s(a);if(null!==b)return b;var b={sourceName:a,intDTOVars:l({sessionCount:0}),sessions:[]},c=n();return b.sessions.push(c),O.sourceList.push(b),b}function s(a){for(var b=O.sourceList,c=0;c<b.length;c++){var d=b[c];if(d.sourceName===a)return d}return null}var t=this,u=b.comps,v=(b.cllBks,b.bootParams),w=5e3,x=100,y=20,z=90,A=2592e6,B="dto",C="dev"===v,D=604800,E=Math.round(999*Math.random());c();var F=null;v.testCase,F={revWeight:70,bidWeight:30,calcSpan:20,minSpan:5};var G=v.locus+"_dto_repo",H=v.locus+"_dto_ss",I=null,J=[],K=!1,L="INIT",M=0,N=Math.floor(3*Math.random());N>2&&(N=2),d("","_s00 inst");var O=f();k(),j(h()),g(O),t.getRotIdx=function(){return N},t.regDTOReq=function(a){J.push({code:"req",sn:a}),K=!0},t.regDTOHit=function(a){J.push({code:"hit",sn:a}),K=!0},t.regDTOBidPr=function(a,b){J.push({code:"bpr",sn:a,prc:b}),K=!0},t.regDTOWinPr=function(a,b){J.push({code:"wpr",sn:a,prc:b}),K=!0},t.isDtoExtAvail=function(){return null!==I},t.mergeDtoInfo=function(a){return o(a)},t.tick=function(a){e(a)},c(),u.heartH.subscribe(t.tick,"dtomgr")}}(config),stm_inclproc=function(a,b){return function(a){function c(b){a.callback(b)}function d(a){i.logger.writex({msg:a,prefix:"stm_inclproc",inst:n})}function e(b){i.logger.writex({tgl:!0,msg:b,prefix:"stage:"+a.stageFileName+" (includes)"})}function f(a,b){for(var c,d,e,f="<include>",g="</include>",h=1e3,i=a,j=0;h>0&&(h--,!((c=i.indexOf(f))<0));){if((d=i.indexOf(g))<0)throw{code:500,msg:"include error",data:"include"};d+=g.length;var k=i.substring(c,d);e=l+j+m,i=i.replace(k,e),k=k.replace(f,""),k=k.replace(g,""),b.push({id:j,fileName:k}),j++}return i}function g(c,e){function f(a,b,c){"ok"===a?(g.content=b,g.status="ok",d()):(g.content="ERROR_INCLUDE_["+g.fileName+"]_NOT_FOUND",g.status="missing",u.push(g.fileName),d()),t.push(g),h(g.status)}var g=this;return g.id=c.id,g.fileName=c.fileName,g.content=null,g.status="...",g.prodUrl=!1,g.cachedFileCtrl=new b({comps:i,cllBks:j,bootParams:k,callback:f,timeout:a.timeout,shorten:!0,inclear:a.inClear,lifeTime:a.lifeTime,mhfolder:a.mhfolder,secProt:a.secProt,dataBaseUrl:k.dataRoot,folderPath:"includes",fileName:g.fileName,fileExt:"txt",synchro:e,forcerefresh:a.forcerefresh,env:k.env,prodUrl:g.prodUrl}),g}function h(a){function b(a){var b=""+a;return t.forEach(function(a){var c=l+a.id+m;if(b.indexOf(c)<0)throw{msg:"unknown_incl_insert"};b=b.replace(c,a.content)}),b}if("ok"===a&&s++,!(++r<q)){var e=b(p);return s===q?(d(),c({status:"ok",content:e})):(d(),c({status:"error",content:e,msg:"missing_files ["+u.join("|")+"]"}))}}var i=a.comps,j=a.cllBks,k=a.bootParams,l="<<INCLCODE<<(",m=")>>>>",n=Math.round(999*Math.random());d();var o=[],p=f(a.content,o);if(0===o.length)return c({status:"ok",msg:"no_inc_files",content:a.content});var q=o.length,r=0,s=0,t=[],u=[];d(),o.forEach(function(b){e("including file: "+b.fileName),new g(b,a.synchro)})}}(0,stm_cachedfile),stm_preproc=function(a){function b(a){E.logger.writex({msg:a,prefix:"stm_preproc",inst:I})}function c(a,b){a.globals={},D(a.globals,b.globals),a.tracking=void 0!==b.tracking?b.tracking:[],a.literals=[],C(a.literals,b.literals),a.library={},a.library.defines=[],C(a.library.defines,b.defines),a.xformats={},D(a.xformats,b.formats),a.csscode={},a.csscode.styles=[],C(a.csscode.styles,b.styles),a.elements=[],C(a.elements,b.elements),a.tables=[],C(a.tables,b.tables)}function d(a){function b(a){var b,c,d,e={status:"not_found",rem:""},f="\x3c!--",g="--\x3e";return(b=a.indexOf(f))<0?(e.rem=a,e):(d=a.substring(0,b),(c=a.indexOf(g))<0?(e.rem=a,e):(c+=g.length,d+=a.substring(c),e.status="found",e.rem=d,e))}for(var c,d=a,e=1e3;e>0&&(e--,c=b(d),"not_found"!==c.status);)d=c.rem;return d}function e(a){var b=""+a;return b=b.replace(/nativeformats/g,"formcode"),b=b.replace(/constants/g,"globals"),b=b.replace(/\$cparam{/g,"$gparam{"),b=b.replace(/\$cifdef{/g,"$gifdef{")}function f(a){function b(a){var b,c,d,e,f,g,h,i={status:"not_found",rem:""},j="<jsonblock>",k="</jsonblock>";return(b=a.indexOf(j))<0?(i.rem=a,i):(d=a.substring(0,b),(c=a.indexOf(k))<0?(i.rem=a,i):(c+=k.length,e=a.substring(c),f=a.substring(b,c),f=f.replace(j,""),f=f.replace(k,""),g=btoa(f),h=d+g+e,i.status="found",i.rem=h,i))}for(var c,d=a,e=1e3;e>0&&(e--,c=b(d),"not_found"!==c.status);)d=c.rem;return d}function g(a,b){function c(a,b){var c,d,e,f,g,h,i,j={status:"not_found",rem:""},k="<literal>",l="</literal>";if((c=a.indexOf(k))<0)return j.rem=a,j;if(e=a.substring(0,c),(d=a.indexOf(l))<0)return j.rem=a,j;d+=l.length,f=a.substring(d),g=a.substring(c,d),g=g.replace(k,""),g=g.replace(l,"");var m=Math.round(99999999*Math.random());return h=G+m+H,b.push({cont:g,id:m}),i=e+h+f,j.status="found",j.rem=i,j}for(var d,e=a,f=1e3;f>0&&(f--,d=c(e,b.literals),"not_found"!==d.status);)e=d.rem;return e}function h(a){if("string"!=typeof a)return a;var b,c,d=a.indexOf(G);if(d<0)return a;var e=a.indexOf(H);if(e<0)return a;b=a.substring(d,e+H.length),c=b.replace(G,"").replace(H,"");var f=parseInt(c);if(!0===isNaN(f))return a;var g=null;return N.literals.forEach(function(a){null===g&&a.id===f&&(g=a)}),null===g?a:a.replace(b,g.cont).replace(/\s/g,"")}function i(a,b){function c(a,b,c){function d(a,b){for(var c in b)a[c]=b[c]}c.status="not_found";var e={},f=y("globals",!1,a,e,!0);return"ok"!==e.status?a:(d(b,B(e.cont)),c.status="ok",f)}return x(a,c,b.globals)}function j(a){var b=N.globals,c=z(a,"$gparam{",b,!1);return c=z(c,"$gifdef{",b,!0)}function k(a,b){function c(a,b,c){function d(a,b){function c(a,b,c){function d(a,b,c){var d,e,f,g,h={},i="<"+b+">",j="</"+b+">",k=""+a;return(d=k.indexOf(i))<0?h:(f=k.substring(0,d),(e=k.indexOf(j))<0?h:(e+=j.length,f+=k.substring(e),g=k.substring(d,e),g=g.replace(i,""),g=g.replace(j,""),g=g.replace(/\s/g,""),!0===c?B(g):g))}function e(a,b){function c(a,b,c){function d(a,b){function c(a,b,c){c.status="not_found";var d={},e=y("alt",!1,a,d,!0);if("ok"!==d.status)return a;var f=B(d.cont);return b.push(f),c.status="ok",e}return x(a,c,b)}c.status="not_found";var e={},f=y("anchor",!0,a,e,!0);if("ok"!==e.status)return a;var g=e.name,h=[];return d(e.cont,h),b.push({name:g,alts:h}),c.status="ok",f}return x(a,c,b)}c.status="not_found";var f={},g=y("dockgroup",!1,a,f,!0);if("ok"!==f.status)return a;var h=[],i=e(f.cont,h),j=d(i,"cond",!1),k=d(i,"vars",!0);return b.push({name:f.name,cond:j,anchors:h,vars:k}),c.status="ok",g}return x(a,c,b)}c.status="not_found";var e={},f=y("dockcode",!1,a,e,!0);return"ok"!==e.status?a:(d(e.cont,b),c.status="ok",f)}var d=[],e=x(a,c,d);return E.domdock.addNewDocks(d,{mainFile:K,stageFileName:J,xtnCode:L}),e}function l(a,b){function c(a,b,c){function d(a,b){function c(a,b,c){function d(a){function b(a,b,c){var d=a.indexOf(b),e=a.indexOf(c);return e<0?null:{openStringIdx:d,closeStringIdx:e,recursive:d>=0&&d<e}}function c(a,b,c){var d=a.indexOf(b);return!(d<0)&&(c.strptr=a.substring(d+b.length),!0)}function e(a,b,c){c.status="not_found",c.name="";var d,e,f=a,g=""+b;if((d=g.indexOf(f))<0)return null;e=g.substring(d);var h=e.indexOf(">");if(h<0)return null;var i=e.substring(0,h),j=i+">",k=i.replace(f,"");return c.status="ok",c.hargstr=k,c.hcmpstr=j,c.idxStr=d,e}var f=a.strptr;a.cond="",a.tags="",a.nodes=[];var g="tag",h="<"+g,i="</"+g+">",j={},k=e(h,f,j);if("ok"!==j.status)return!1;f=f.substring(j.idxStr);var l=!1,m=b(k.substring(j.hcmpstr.length),h,i);if(!0===m.recursive){l=!0;var n=k.substring(j.hcmpstr.length,j.hcmpstr.length+m.openStringIdx)}else var n=k.substring(j.hcmpstr.length,j.hcmpstr.length+m.closeStringIdx);if(a.cond=n,a.tags=j.hargstr,a.strptr=k.substring(j.hcmpstr.length+n.length),!0!==l)return c(k,i,a),!0;for(var o,p,q,r={},s=a.strptr,t=100;t>0&&(t--,q=b(s,h,i),!0===q.recursive)&&(o={},p=e(h,s,o),"ok"===o.status);)r={},r.strptr=p,d(r),s=r.strptr,a.nodes.push(r);return c(s,i,a),!0}c.status="not_found";var e={},f=y("tagroot",!1,a,e,!0);if("ok"!==e.status)return a;var g=b[e.name];void 0===g&&(b[e.name]=[],g=b[e.name]);for(var h,i=e.cont,j=100;j>0&&(j--,h={strptr:i},!0===d(h));)g.push(h),i=h.strptr;return c.status="ok",f}return x(a,c,b)}c.status="not_found";var e={},f=y("tagcode",!1,a,e,!0);return"ok"!==e.status?a:(d(e.cont,b),c.status="ok",f)}try{var d=[],e=x(a,c,d);return E.tagdock.addNewRoots(d),e}catch(b){return a}}function m(a,b){return b.inScopeVars=E.domdock.getVars(),z(z(a,"$vifdef{",b.inScopeVars,!0),"$vparam{",b.inScopeVars,!1)}function n(a,b){function c(a,b,c){function d(a,b,c){function d(b,c,d){d.status="not_found";var e={},f=y(a,!1,b,e,!0);return"ok"!==e.status?b:(c.push({event:a,url:e.cont}),d.status="ok",f)}return x(b,d,c)}c.status="not_found";var e={},f=y("tracking",!1,a,e,!0);if("ok"!==e.status)return a;var g=""+e.cont;return g=d("deploy",g,b),g=d("view",g,b),g=d("click",g,b),c.status="ok",f}var d=[],e=x(a,c,d);return b.tracking=[].concat(b.tracking,d),e}function o(a){function b(a,b,c){var d="$xparam{";return!0===c&&(d="$xifdef{"),z(a,d,b,c)}if("sys"===F.ctxId)return a;if("object"!==_typeof(F.adfrm_vars))return a;if("object"!==_typeof(F.adfrm_vars.stageParams))return a;var c=F.adfrm_vars.stageParams;return b(b(a,c,!1),c,!0)}function p(a,b){function c(a,b,c){function d(a,b){function c(a,b,c){c.status="not_found";var d={},e=y("define",!0,a,d,!1);return"ok"!==d.status?a:(b.defines.push({name:d.name,content:d.cont}),c.status="ok",e)}return x(a,c,b)}c.status="not_found";var e={},f=y("library",!1,a,e,!1);if("ok"!==e.status)return a;var g=e.cont;if(g.indexOf("<insert")>=0)throw{code:900,msg:"recursion_is_not_allowed_in_libraries",data:g};return d(g,b.library),c.status="ok",f}return x(a,c,b)}function q(a,b){function c(a,b){function c(a){var c=null;return b.library.defines.forEach(function(b){null===c&&b.name===a&&(c=b)}),c}function d(a,b){var c=""+a;for(var d in b){var e=new RegExp("\\${"+d+"}","g");c=c.replace(e,b[d])}return c}function e(a){return a.replace(/\$param{/g,"$lparam{").replace(/\$ifdef{/g,"$lifdef{")}var g={status:"not_found",newCon:""},h="234jio2j34ij",i={},k=y("insert",!0,a,i,!1,h);if("ok"!==i.status)return g;var l=i.cont,m=i.hvars.name,n=parseInt(i.hvars.repeat);!0===isNaN(n)&&(n=1);var o=c(m);if(null===o)return g;var p=B(l),q=e(o.content),r=j(q),s=z(r,"$lparam{",p,!1);s=z(s,"$lifdef{",p,!0),s=d(s,p);for(var t=u(s,b),v=A(t),w=f(v),x="",C=new RegExp("\\${repIdx}","g"),D=new RegExp("\\${repN}","g"),E=0;E<n;E++)x+=w.replace(C,E).replace(D,E+1);var F=k.replace(h,x);return g.status="ok",g.newCon=F,g}for(var d=""+a,e=1e3;e>0;){e--;var g=c(d,b);if("ok"!==g.status)break;d=g.newCon}return d}function r(a,b){function c(a,b,c){function d(a,b){function c(a,b,c){c.status="not_found";var e={},f=y("format",!0,a,e,!0);if("ok"!==e.status)return a;var g=e.cont;return b[e.name]=d(g),c.status="ok",f}function d(a){function b(a){var b=[];return a.forEach(function(a){0!==a.length&&b.push(a)}),b}var c={},d=a.split("]");d=b(d);var e=[];return d.forEach(function(a){var b=a.split("[");e.push(b)}),e.forEach(function(a){c[a[0]]=a[1].replace(/\^\+/g," ")}),c}return x(a,c,b)}c.status="not_found";var e={},f=y("formcode",!1,a,e,!0);return"ok"!==e.status?a:(d(e.cont,b.xformats),c.status="ok",f)}return x(a,c,b)}function s(a,b){function c(a,b,c){function d(a){function b(a){function b(a){var b,c,d,e={status:"not_found",styleSnippName:"",styleSnippString:"",rem:a},f=""+a,g=null,h=null,i="{",j="}";return(b=f.indexOf(i))<0?e:(h=f.substring(0,b),(c=f.indexOf(j))<0?e:(c+=j.length,d=f.substring(c),g=f.substring(b,c),e.status="ok",e.rem=d,e.styleSnippString=g.replace("{","").replace("}",""),e.styleSnippName=h.replace(/\s+/g,""),e))}a.styleSnippets=[];for(var c=""+a.rawstylestr,d=100;d>0;){d--;var e=b(c);if("ok"!==e.status)break;var f={};f.name=e.styleSnippName,f.string=e.styleSnippString,f.classID="fbdynclass_"+Math.round(1e9*Math.random()),a.styleSnippets.push(f),c=e.rem}}for(var c=0;c<a.length;c++){b(a[c])}}function e(a,b){function c(a,b,c){c.status="not_found";var d={},e=y("style",!0,a,d,!1);if("ok"!==d.status)return a;var f=d.name,g=d.cont;return b.styles.push({name:f,rawstylestr:g}),c.status="ok",e}return x(a,c,b)}c.status="not_found";var f={},g=y("csscode",!1,a,f,!1);return"ok"!==f.status?a:(e(f.cont,b.csscode),d(b.csscode.styles),c.status="ok",g)}return x(a,c,b)}function t(a,b){function c(a,b,c){function d(a,b){function c(a,b,c){c.status="not_found";var d={},e=y("resource",!0,a,d);if("ok"!==d.status)return a;var f=d.name,g=d.cont,h=B(g);return b.push({name:f,params:h}),c.status="ok",e}return x(a,c,b)}c.status="not_found";var e={},f=y("element",!0,a,e,!1);if("ok"!==e.status)return a;var g=e.name,h=e.cont,i=[],j=d(h,i),k=B(j);return b.push({name:g,width:k.width,height:k.height,skn_top_height:k.skn_top_height,skn_blank_width:k.skn_blank_width,resources:i}),c.status="ok",f}var d={},e=y("scenecode",!1,a,d,!1);return"ok"!==d.status?a:(x(d.cont,c,b.elements),e)}function u(a,b){function c(a,b,c){c.status="not_found";var d="$rparam{",e="}",f=""+a,g=f.indexOf(d);if(g<0)return a;var h=f.substring(0,g);f=f.substring(g);var i=f.indexOf(e);if(i<0)return a;var j=f.substring(i+1);f=f.substring(0,i+1),f=f.replace(d,""),f=f.replace(e,"");var k=f.split("|"),l=b[k[0]];return void 0===l&&(l=2===k.length?k[1]:void 0),c.status="ok",h+l+j}var d={};return b.elements.forEach(function(a){var b=a.name;d[b+".width"]=a.width,d[b+".height"]=a.height,d[b+".skn_top_height"]=a.skn_top_height,d[b+".skn_blank_width"]=a.skn_blank_width,a.resources.forEach(function(a){var c=a.name;for(var e in a.params)d[b+"."+c+"."+e]=a.params[e]})}),x(a,c,d)}function v(a,b){function c(a,b,c){function d(a,b){function c(a,b,c){c.status="not_found";var d={},e=y("snippet",!1,a,d);if("ok"!==d.status)return a;var f=d.name,g=d.cont,h=!1;return d.hstr.indexOf("oncall")>=0&&(h=!0),b.snippets.push({name:f,oncall:h,content:g}),c.status="ok",e}return x(a,c,b)}c.status="not_found";var e={},f=y("javacode",!1,a,e);return"ok"!==e.status?a:(d(e.cont,b.javacode),c.status="ok",f)}return b.javacode={},b.javacode.snippets=[],x(a,c,b)}function w(a,b){function c(a,b,c){function d(a,b){function c(a,b,c){c.status="not_found";var d={},e=y("table",!1,a,d);if("ok"!==d.status)return a;var f=d.name,g=d.hattr[0],h=B(d.cont),i=[];for(var j in h){var k=h[j];i.push([parseInt(j),k])}return b.push({name:f,type:g,scale:i}),c.status="ok",e}return x(a,c,b)}c.status="not_found";var e={},f=y("tablecode",!1,a,e);return"ok"!==e.status?a:(d(e.cont,b),c.status="ok",f)}return x(a,c,b.tables)}function x(a,b,c,d){var e={status:"",msg:""},f=""+a,g=100;for(void 0!==d&&(g=d);g>0&&(g--,f=b(f,c,e),"ok"===e.status););return f}function y(a,b,c,d,e,f){function g(a,b,c){a.split(" ").forEach(function(a){a.indexOf(":")<0?c.push(a):b.push(a)})}function h(a){var b=[];return a.forEach(function(a){""!==a&&b.push(a)}),b}d.status="not_found",d.name="",d.cont="";var i,j,k,l,m,n,o,p="<"+a,q="</"+a+">",r="",s=""+c;if((i=s.indexOf(p))<0)return c;l=s.substring(0,i),k=l;var t="";if("string"==typeof f&&(t=f),k+=t,(j=s.indexOf(q))<0)return c;j+=q.length,m=s.substring(j),k+=m,n=s.substring(i,j);var u=n.indexOf(">");if(u<0)return c;var v=n.substring(0,u),w=v.replace(p,""),x=[],y=[];g(w,x,y);var z=B(x.join(" ")),A=h(y);return o=n.replace(q,""),o=o.replace(v+">",""),!0===e&&(o=o.replace(/\s/g,"")),void 0!==z.name&&(r=z.name),!0===b&&""===r?c:(d.status="ok",d.hstr=v,d.hvars=z,d.hattr=A,d.name=r,d.cont=o,d.rembef=l,d.remaft=m,k)}function z(a,b,c,d){function e(a,b,c,d){var e="}",f=b.indexOf(e);if(f<=0)return b;var g=b.substring(0,f),i=b.substring(f+1);if(""===g)throw{code:286,msg:"proc macro args",data:b};var j=g.split("|"),k=j[0],l=null;if(j.length>2)throw{code:288,msg:"proc macro args",data:b};if(2===j.length&&(l=j[1]),!0===d){var m="false";void 0!==c[k]&&(m="true")}else{var m=a+g+e;null!==l&&(m=l),void 0!==c[k]&&(m=h(c[k]))}return""+m+i}var f=a.split(b);if(1===f.length)return a;var g=[];return f.forEach(function(a,f){0===f?g.push(a):g.push(e(b,a,c,d))}),g.join("")}function A(a){function b(a,b,c){function d(a,b,c){c.status="not_found";var d={},e=y("case",!1,a,d,!1);return"ok"!==d.status?a:(b.push({cond:d.hattr[0],data:d.cont}),c.status="ok",e)}c.status="not_found";var e={};if(y("switch",!1,a,e,!1),"ok"!==e.status)return a;var f=e.cont,g=e.hattr[0],h=e.rembef,i=e.remaft,j=[];x(f,d,j);var k=null;j.forEach(function(a){null===k&&(a.cond!==g&&"default"!==a.cond||(k=a))});var l="";return null!==k&&(l=k.data),c.status="ok",h+l+i}return x(a,b,{})}function B(a,b){function c(a,b){for(var c in b)void 0===a[c]&&(a[c]=b[c])}var d=a.replace(/\s+/g,""),e=d.split(","),f={};return e.forEach(function(a){var b=a.split(":");0!==b[0].length&&(f[b[0]]=h(b[1]))}),void 0===b?f:(c(f,b),f)}function C(a,b){function c(a,b){var c=null;return a.forEach(function(a){null===c&&a.name===b&&(c=a)}),c}if(void 0!==b){b.forEach(function(b,d){if(!1===!1){var e=c(a,b.name);if(null===e)return void a.push(b);a[d]=e}})}}function D(a,b){if(void 0!==b)for(var c in b)a[c]=b[c]}var E=a.comps,F=(a.cllBks,a.bootParams),G="<<<LITERAL[[[",H="]]]LITERAL>>>",I=Math.round(999*Math.random());b();var J=a.stageFileName,K=a.mainFile,L=a.xtnCode,M="init",N={},O=null===a.textDataObj?{}:a.textDataObj;try{M="_stripComments";var P=d(a.content);M="_preCompatibility";var Q=e(P);M="_importAllAssets",c(N,O),M="_extractTrackingCode";var R=n(Q,N);M="_processLiterals";var S=g(R,N);M="_extractDockCode";var T=k(S,N);M="_extractTagCode";var U=l(T,N),V=m(U,N);M="_extractGlobals";var W=i(V,N);M="_replaceGlobals";var X=j(W);M="_processXInputs";var Y=o(X);M="_extractLibraries";var Z=p(Y,N);M="_processJsonBlocks";var $=f(Z);M="_extractSceneCode";var _=t($,N);M="_replaceLibraryInserts";var aa=q(_,N),ba=u(aa,N),ca=A(ba);M="_extractFormCode";var da=r(ca,N);M="_extractStyles";var ea=s(da,N);M="_extractJavacode";var fa=v(ea,N);M="_extractTableCode";var ga=w(fa,N),ha=ga.replace(/\s+/g," ");b()}catch(c){return b(),void a.callback({status:"error",msg:"",code:M,destObj:N,content:ha})}a.callback({status:"ok",msg:"",code:"",destObj:N,content:ha})},stm_keywords=function(a){var b="unspecified",c="number",d="boolean",e="string",f="keyword";return{conditions:{delay:{type:e,defvalue:b,multiple:!0},iftrue:{type:e,defvalue:b,multiple:!0},ifnottrue:{type:e,defvalue:b,multiple:!0},ifdeployed:{type:e,defvalue:b,multiple:!0},ifnotdeployed:{type:e,defvalue:b,multiple:!0},ifcontent:{type:e,defvalue:b},ifnotcontent:{type:e,defvalue:b},after:{type:e,defvalue:b},ifwidthmore:{type:e,defvalue:b},ifwidthless:{type:e,defvalue:b},ifbrowser:{type:e,defvalue:b},ifnotbrowser:{type:e,defvalue:b},ifmxmore:{type:e,defvalue:b},ifmxless:{type:e,defvalue:b},ifcasea:{type:d,defvalue:!1},ifcaseb:{type:d,defvalue:!1},ifcase:{type:e,defvalue:b},ifgroup:{type:e,defvalue:b},vbar:{type:c,defvalue:0,min:0},prob:{type:c,defvalue:0,min:0,max:100},fromhour:{type:e,defvalue:b},tohour:{type:e,defvalue:b},fromday:{type:e,defvalue:b},today:{type:e,defvalue:b},pinned:{type:d,defvalue:!1},zz_type:{type:e,defvalue:"conditions"}},scene_attributes:{inst:{type:e,defvalue:b},wait1:{type:e,defvalue:b},wait2:{type:e,defvalue:b},gate1:{type:e,defvalue:b},gate2:{type:e,defvalue:b},enter:{type:e,defvalue:b},xpand:{type:e,defvalue:b},exit:{type:e,defvalue:b},unload:{type:e,defvalue:b},zz_type:{type:e,defvalue:"scene_attributes"}},event_attributes:{deploy:{type:e,defvalue:b},enter:{type:e,defvalue:b},xpand:{type:e,defvalue:b},exit:{type:e,defvalue:b},unload:{type:e,defvalue:b},content:{type:e,defvalue:b},cont_act:{type:e,defvalue:b},cont_psv:{type:e,defvalue:b},mediaready:{type:e,defvalue:b},mediaover:{type:e,defvalue:b},mediaexh:{type:e,defvalue:b},hover_on:{type:e,defvalue:b},hover_off:{type:e,defvalue:b},visib_on:{type:e,defvalue:b},visib_off:{type:e,defvalue:b},click:{type:e,defvalue:b},scroll:{type:e,defvalue:b},clsbtn:{type:e,defvalue:b},zz_type:{type:e,defvalue:"event_attributes"}},debmail_attributes:{enabled:{type:d,defvalue:!0},filter:{type:e,defvalue:b},multiple:{type:c,defvalue:4,min:1},reduc:{type:e,defvalue:b},account:{type:e,defvalue:b},zz_type:{type:e,defvalue:"debmail_attributes"}},stage_attributes:{enabled:{type:d,defvalue:!0},tag:{type:e,defvalue:b},cfg_bd_mod:{type:d,defvalue:!0},cfg_vid_mod:{type:d,defvalue:!0},unitCodes:{type:e,defvalue:b,useref:!0},reqcmp:{type:d,defvalue:!1},lw_enabled:{type:d,defvalue:!1},lw_reducer:{type:e,defvalue:b},lw_sort:{type:e,defvalue:b},lw_maxitem:{type:e,defvalue:b},lw_ogtype:{type:e,defvalue:b},lw_filters:{type:e,defvalue:b},lw_minpath:{type:c,defvalue:0},lw_chan_rx:{type:e,defvalue:b},lw_chan_tx:{type:e,defvalue:b},lw_artmode:{type:e,defvalue:b},zindex:{type:e,defvalue:b,useref:!0},sourceset:{type:e,defvalue:b,useref:!0},natformat:{type:e,defvalue:b,useref:!0},centscrn:{type:d,defvalue:!1,useref:!0},style:{type:e,defvalue:b,useref:!0},priority:{type:e,defvalue:b,useref:!0},ondeploy:{type:e,defvalue:b},cost:{type:e,defvalue:b,useref:!0},onsold:{type:d,defvalue:!1,useref:!0},costx:{type:e,defvalue:b},onsoldx:{type:d,defvalue:!1},holdoff:{type:e,defvalue:b,useref:!0},maxSeekTime:{type:e,defvalue:b,useref:!0},smart:{type:d,defvalue:!1,useref:!0},prime:{type:d,defvalue:!1,useref:!0},seektime:{type:e,defvalue:b,useref:!0},playtime:{type:e,defvalue:b,useref:!0},seekdelay:{type:e,defvalue:b,useref:!0},clearance:{type:e,defvalue:b,useref:!0},xmargin:{type:e,defvalue:b,useref:!0},vertoffset:{type:e,defvalue:b,useref:!0},rowfactor:{type:e,defvalue:b,useref:!0},spotlength:{type:e,defvalue:b,useref:!0},shared:{type:d,defvalue:!1,useref:!0},clsbtn:{type:e,defvalue:b},cntdwn:{type:c,defvalue:0},autcls:{type:d,defvalue:!1},audctrl:{type:d,defvalue:!1},sbheight:{type:e,defvalue:b},channel:{type:e,defvalue:""},fixedch:{type:d,defvalue:!1},promolinkuri:{type:e,defvalue:""},logolinkuri:{type:e,defvalue:""},zz_type:{type:e,defvalue:"stage_attributes"}},config_attributes:{enabled:{type:d,defvalue:!0},pubcode:{type:e,defvalue:b},ifcasea:{type:d,defvalue:!1},ifcaseb:{type:d,defvalue:!1},ifcase:{type:e,defvalue:b},ifwidthmore:{type:e,defvalue:b},ifwidthless:{type:e,defvalue:b},layout:{type:e,defvalue:b},zz_type:{type:e,defvalue:"config_attributes"}},layout_attributes:{enabled:{type:d,defvalue:!0},unitCodes:{type:e,defvalue:b,useref:!0},sourceset:{type:e,defvalue:b,useref:!0},natformat:{type:e,defvalue:b,useref:!0},centscrn:{type:d,defvalue:!1,useref:!0},style:{type:e,defvalue:b,useref:!0},priority:{type:e,defvalue:b,useref:!0},cost:{type:e,defvalue:b,useref:!0},onsold:{type:d,defvalue:!1,useref:!0},clearance:{type:e,defvalue:b,useref:!0},xmargin:{type:e,defvalue:b,useref:!0},vertoffset:{type:e,defvalue:b,useref:!0},rowfactor:{type:e,defvalue:b,useref:!0},spotlength:{type:e,defvalue:b,useref:!0},shared:{type:d,defvalue:!1,useref:!0},holdoff:{type:e,defvalue:b,useref:!0},maxSeekTime:{type:e,defvalue:b,useref:!0},smart:{type:d,defvalue:!1,useref:!0},prime:{type:d,defvalue:!1,useref:!0},seektime:{type:e,defvalue:b,useref:!0},playtime:{type:e,defvalue:b,useref:!0},seekdelay:{type:e,defvalue:b,useref:!0},channel:{type:e,defvalue:""},fixedch:{type:d,defvalue:!1},promolinkuri:{type:e,defvalue:""},logolinkuri:{type:e,defvalue:""},zz_type:{type:e,defvalue:"layout_attributes"}},section_attributes:{enabled:{type:d,defvalue:!0},unitCodes:{type:e,defvalue:b,useref:!0},stg_item_id:{type:e,defvalue:b},master_id:{type:e,defvalue:b},link:{type:e,defvalue:b},trk_inst:{type:e,defvalue:b},trk_view:{type:e,defvalue:b},trk_clck:{type:e,defvalue:b},zindex:{type:e,defvalue:b,useref:!0},sourceset:{type:e,defvalue:b,useref:!0},natformat:{type:e,defvalue:b,useref:!0},centscrn:{type:d,defvalue:!1,useref:!0},style:{type:e,defvalue:b,useref:!0},priority:{type:e,defvalue:b,useref:!0},partition:{type:e,defvalue:b},flagtag:{type:e,defvalue:b},ondeploy:{type:e,defvalue:b},instidx:{type:c,defvalue:-1},cost:{type:e,defvalue:b,useref:!0},onsold:{type:d,defvalue:!1,useref:!0},costx:{type:e,defvalue:b},onsoldx:{type:d,defvalue:!1},clearance:{type:e,defvalue:b,useref:!0},xmargin:{type:e,defvalue:b,useref:!0},vertoffset:{type:e,defvalue:b,useref:!0},rowfactor:{type:e,defvalue:b,useref:!0},spotlength:{type:e,defvalue:b,useref:!0},shared:{type:d,defvalue:!1,useref:!0},holdoff:{type:e,defvalue:b,useref:!0},maxSeekTime:{type:e,defvalue:b,useref:!0},smart:{type:d,defvalue:!1,useref:!0},prime:{type:d,defvalue:!1,useref:!0},seektime:{type:e,defvalue:b,useref:!0},playtime:{type:e,defvalue:b,useref:!0},seekdelay:{type:e,defvalue:b,useref:!0},physical:{type:d,defvalue:!1},scrollable:{type:d,defvalue:!1},lazyload:{type:d,defvalue:!1},scrolltime:{type:e,defvalue:b},scrollsnap:{type:e,defvalue:b},xspacer:{type:e,defvalue:b},yspacer:{type:e,defvalue:b},location:{type:e,defvalue:b},schema:{type:e,defvalue:b},position:{type:e,defvalue:b},header:{type:e,defvalue:b},footer:{type:e,defvalue:b},index:{type:e,defvalue:b},row:{type:c,defvalue:1,min:1,max:20},rowidx:{type:e,defvalue:b},fxin:{type:e,defvalue:b},refid:{type:e,defvalue:b},refcls:{type:e,defvalue:b},refidx:{type:e,defvalue:b},refpath:{type:e,defvalue:b},refchecks:{type:e,defvalue:b},refanchor:{type:e,defvalue:b},width:{type:e,defvalue:"auto"},maxwidth:{type:e,defvalue:b},minwidth:{type:e,defvalue:b},xfactor:{type:e,defvalue:b},xalign:{type:f,defvalue:"left",series:["left","center","right"]},xtrim:{type:c,defvalue:0},xoff:{type:c,defvalue:0},xsnap:{type:e,defvalue:b},height:{type:e,defvalue:"auto"},maxheight:{type:e,defvalue:b},minheight:{type:e,defvalue:b},yfactor:{type:e,defvalue:b},yfraction:{type:e,defvalue:b},yalign:{type:f,defvalue:"top",series:["top","center","bottom"]},ytrim:{type:c,defvalue:0},yoff:{type:c,defvalue:0},ysnap:{type:e,defvalue:b},skin_scroll_table:{type:e,defvalue:b},formfactor:{type:e,defvalue:b},dimsync:{type:f,defvalue:"none",series:["no","width","height"]},expand:{type:d,defvalue:!1},compress:{type:d,defvalue:!1},showonenter:{type:d,defvalue:!1},floatpar:{type:e,defvalue:"left"},marginleft:{type:c,defvalue:0},marginright:{type:c,defvalue:0},margintop:{type:c,defvalue:0},marginbottom:{type:c,defvalue:0},zz_type:{type:e,defvalue:"section"}},unit_attributes:{enabled:{type:d,defvalue:!0},unitCodes:{type:e,defvalue:b,useref:!0},stg_item_id:{type:e,defvalue:b},master_id:{type:e,defvalue:b},capbox:{type:d,defvalue:!1},capbox_msg:{type:e,defvalue:b},twinmode:{type:e,defvalue:b},swipe_close:{type:d,defvalue:!1},swipe_mode:{type:e,defvalue:b},flexzone:{type:e,defvalue:b},link:{type:e,defvalue:b},trk_inst:{type:e,defvalue:b},trk_view:{type:e,defvalue:b},trk_clck:{type:e,defvalue:b},allview:{type:d,defvalue:!1},zindex:{type:e,defvalue:b,useref:!0},sourceset:{type:e,defvalue:b,useref:!0},natformat:{type:e,defvalue:b,useref:!0},centscrn:{type:d,defvalue:!1,useref:!0},style:{type:e,defvalue:b,useref:!0},priority:{type:e,defvalue:b,useref:!0},partition:{type:e,defvalue:b},flagtag:{type:e,defvalue:b},trackevts:{type:e,defvalue:b},ondeploy:{type:e,defvalue:b},rowdelay:{type:c,defvalue:0},instidx:{type:c,defvalue:-1},cost:{type:e,defvalue:b,useref:!0},onsold:{type:d,defvalue:!1,useref:!0},costx:{type:e,defvalue:b},onsoldx:{type:d,defvalue:!1},afterads:{type:d,defvalue:!1},clearance:{type:e,defvalue:b,useref:!0},xmargin:{type:e,defvalue:b,useref:!0},vertoffset:{type:e,defvalue:b,useref:!0},rowfactor:{type:e,defvalue:b,useref:!0},spotlength:{type:e,defvalue:b,useref:!0},shared:{type:d,defvalue:!1,useref:!0},hideonscr:{type:d,defvalue:!1,useref:!0},location:{type:e,defvalue:b},schema:{type:e,defvalue:b},position:{type:e,defvalue:b},header:{type:e,defvalue:b},footer:{type:e,defvalue:b},index:{type:e,defvalue:b},row:{type:c,defvalue:1,min:1,max:20},rowidx:{type:e,defvalue:b},fxin:{type:e,defvalue:b},refid:{type:e,defvalue:b},refcls:{type:e,defvalue:b},refidx:{type:e,defvalue:b},refpath:{type:e,defvalue:b},refchecks:{type:e,defvalue:b},refanchor:{type:e,defvalue:b},width:{type:e,defvalue:"auto"},maxwidth:{type:e,defvalue:b},minwidth:{type:e,defvalue:b},xfactor:{type:e,defvalue:b},xalign:{type:f,defvalue:"left",series:["left","center","right"]},xtrim:{type:c,defvalue:0},xoff:{type:c,defvalue:0},xsnap:{type:e,defvalue:b},height:{type:e,defvalue:"auto"},maxheight:{type:e,defvalue:b},minheight:{type:e,defvalue:b},yfactor:{type:e,defvalue:b},yfraction:{type:e,defvalue:b},yalign:{type:f,defvalue:"top",series:["top","center","bottom"]},ytrim:{type:c,defvalue:0},yoff:{type:c,defvalue:0},ysnap:{type:e,defvalue:b},zskn_focalh:{type:e,defvalue:b},zskn_corew:{type:e,defvalue:b},formfactor:{type:e,defvalue:b},dimsync:{type:f,defvalue:"none",series:["no","width","height"]},transition:{type:e,defvalue:b},clearcut:{type:d,defvalue:!1},opacity:{type:e,defvalue:b},expand:{type:d,defvalue:!1},compress:{type:d,defvalue:!1},showonenter:{type:d,defvalue:!1},holdoff:{type:e,defvalue:b,useref:!0},maxSeekTime:{type:e,defvalue:b,useref:!0},smart:{type:d,defvalue:!1,useref:!0},prime:{type:d,defvalue:!1,useref:!0},seektime:{type:e,defvalue:b,useref:!0},playtime:{type:e,defvalue:b,useref:!0},seekdelay:{type:e,defvalue:b,useref:!0},contshow:{type:d,defvalue:!1},flashad:{type:d,defvalue:!1},voff:{type:c,defvalue:0},visiboff:{type:c,defvalue:0},
floatpar:{type:e,defvalue:"left"},marginleft:{type:c,defvalue:0},marginright:{type:c,defvalue:0},margintop:{type:c,defvalue:0},marginbottom:{type:c,defvalue:0},maxday:{type:c,defvalue:0,min:0},maxhour:{type:c,defvalue:0,min:0},max5min:{type:c,defvalue:0,min:0},lowres:{type:d,defvalue:!1},zz_type:{type:e,defvalue:"unit"}},adpost_attributes:{enabled:{type:d,defvalue:!0},holdoff:{type:e,defvalue:b,useref:!0},maxSeekTime:{type:e,defvalue:b,useref:!0},sourceset:{type:e,defvalue:b,useref:!0},natformat:{type:e,defvalue:b,useref:!0},centscrn:{type:d,defvalue:!1,useref:!0},premium:{type:d,defvalue:!1},filler:{type:d,defvalue:!1},contshow:{type:d,defvalue:!1},maxpage:{type:c,defvalue:1},seektime:{type:e,defvalue:b,useref:!0},playtime:{type:e,defvalue:b,useref:!0},share:{type:e,defvalue:b},lowres:{type:d,defvalue:!1},zz_type:{type:e,defvalue:"adpost"}},segment_attributes:{enabled:{type:d,defvalue:!0},backup:{type:d,defvalue:!0},sourceset:{type:e,defvalue:b,useref:!0},srcfilter:{type:e,defvalue:b,useref:!0},natformat:{type:e,defvalue:b,useref:!0},autocontent:{type:d,defvalue:!0},floor:{type:e,defvalue:b,useref:!0},fitcover:{type:d,defvalue:!1},width:{type:e,defvalue:"auto"},maxwidth:{type:e,defvalue:b},minwidth:{type:e,defvalue:b},xfactor:{type:e,defvalue:b},xalign:{type:f,defvalue:"center",series:["left","center","right"]},xtrim:{type:c,defvalue:0},xoff:{type:c,defvalue:0},height:{type:e,defvalue:"auto"},maxheight:{type:e,defvalue:b},minheight:{type:e,defvalue:b},yfactor:{type:e,defvalue:b},yalign:{type:f,defvalue:"center",series:["top","center","bottom"]},ytrim:{type:c,defvalue:0},yoff:{type:c,defvalue:0},xoffad:{type:e,defvalue:b},yoffad:{type:e,defvalue:b},holdoff:{type:e,defvalue:b,useref:!0},maxSeekTime:{type:e,defvalue:b,useref:!0},maxcall:{type:c,defvalue:0},callspan:{type:c,defvalue:0},bidgoal:{type:c,defvalue:0},frame:{type:d,defvalue:!1},shade:{type:d,defvalue:!1},blackframe:{type:d,defvalue:!1},framecolor:{type:e,defvalue:b},radius:{type:c,defvalue:0},flexible:{type:d,defvalue:!1},vastdevice:{type:e,defvalue:b},initvol:{type:e,defvalue:b},progress:{type:d,defvalue:!0},promolink:{type:d,defvalue:!0},fxin:{type:f,defvalue:"none",series:["none","size","fade"]},fxout:{type:f,defvalue:"none",series:["none","size","fade"]},arrows:{type:d,defvalue:!1},mintime:{type:c,defvalue:0,min:0},maxtime:{type:c,defvalue:0,min:0},quit:{type:f,defvalue:"none",series:["close","skip","onnotactive","onnotvisible","never"]},audio:{type:f,defvalue:"never",series:["always","onvisible","onactive","onhover","onaction","never"]},seek:{type:f,defvalue:"always",series:["always","onvisible","onactive","onhover","onaction"]},load:{type:f,defvalue:"always",series:["always","onvisible","onactive","onhover","onaction"]},start:{type:f,defvalue:"always",series:["onvisible","always","onactive","onhover","onaction"]},pause:{type:f,defvalue:"never",series:["never","onnotvisible","onnotactive","onnothover","onnotaction"]},expand:{type:f,defvalue:"onstart",series:["onvisible","onstart"]},restap:{type:d,defvalue:!1},break:{type:f,defvalue:"never",series:["never","onvisible","onnotvisible","onactive","onhover","onaction"]},lowres:{type:d,defvalue:!1},zz_type:{type:e,defvalue:"segment"}}}},stm_stgproc=function(a,b,c,d,e,f,g,h){return function(a){function b(a){S.logger.writex({msg:a,prefix:"stageproc",inst:V})}function i(b){S.logger.writex({tgl:!0,msg:b,prefix:"stage:"+a.placementId+" (parser)"})}function j(){function c(a,b){var c=null;return a.forEach(function(a){null===c&&a.name===b&&(c=a)}),c}try{var d=S.inLineData.getStgFileData(),e=c(d,a.stageFileName);if(null===e)throw{msg:"file_not_found"};if("ok"!==e.status)throw{msg:"bad_filedata"};return e.synchro}catch(a){return b(),""+Math.round(1e6*Math.random())}}function k(a,c){var d=a+" ["+c+"]";b(),Z(d),i(d)}function l(){function b(a,b,c){if("ok"!==a)return O({status:"error",type:"stage_file",code:"900",msg:"stage file not available ["+g+".txt] - folder ["+d+"] - dataurl ["+f+"]"});ga=b,k("stage file retrieved ok",$),m(N(b))}k("loading stage file",$);var d=!0===_?"stages":"creatives",e=!0===_?j():0,f=U.dataRoot,g=$,h=!0;f.indexOf("localhost")>=0&&(h=!1),g.indexOf("$adf")>=0&&(h=!1),g.indexOf("@fsal")>=0&&(h=!1),new c({comps:S,cllBks:T,bootParams:U,callback:b,timeout:1e4,shorten:!0,inclear:a.inClear,lifeTime:a.lifeTime,mhfolder:a.mhfolder,secProt:a.secProt,dataBaseUrl:f,folderPath:d,fileName:g,fileExt:"txt",synchro:e,forcerefresh:na,env:a.bootParams.env,prodUrl:h})}function m(b){function c(a){if("ok"!==a.status)return O({status:"error",type:"include_files",code:"920",msg:"some include files not available - "+a.msg});k("include files ok for",$),n(a.content)}k("processing include files for",$);var d=!1;!0!==a.useLocalCache&&(d=!0);var f="dev"===U.env?null:0;new e({master:R,comps:a.comps,cllBks:a.cllBks,bootParams:a.bootParams,stageFileName:$,content:b,synchro:f,callback:c,timeout:1e4,shorten:!0,inClear:a.inClear,lifeTime:a.lifeTime,mhfolder:"libs",secProt:a.secProt,forcerefresh:d})}function n(b){function c(a){if("ok"!==a.status)return O({status:"error",type:"preprocessor",code:"930",msg:a.msg});o(a.content,a.destObj)}new d({master:R,comps:a.comps,cllBks:a.cllBks,bootParams:a.bootParams,stageFileName:$,mainFile:_,xtnCode:aa,textDataObj:a.textDataObj,content:b,input:ca,callback:c})}function o(b,c){var d=p(b,c);if("error"===d.status)return O({status:"error",type:"body_parse",code:"940-"+d.code,msg:d.msg});k("stage parsed ok",$),a.callback({stageCard:c,metha:{status:"ok"}}),ha=c,ia.status="ok",da=!1}function p(a,b){function c(a){if("sys"!==U.ctxId&&"object"===_typeof(U.adfrm_vars)&&"object"===_typeof(U.adfrm_vars.lwparams)){var b=U.adfrm_vars.lwparams;a.lw_enabled=b.lw_enabled,a.lw_reducer=b.lw_reducer,a.lw_sort=b.lw_sort,a.lw_maxitem=b.lw_maxitem,a.lw_ogtype=b.lw_ogtype,a.lw_chan_rx=b.lw_chan_rx,a.lw_chan_tx=la}}function d(){var a="undefined";return{stageName:a,layoutName:a,layoutIdx:a,sectionName:a,sectionIdx:a,unitName:a,unitIdx:a,adpostName:a,adpostIdx:a,segmentName:a,segmentIdx:a}}var e={status:"---"};try{return q(a,b,{unitCodes:la,holdoff:la,maxSeekTime:la,smart:!1,prime:!1,seektime:la,playtime:la,seekdelay:la,zindex:la,sourceset:la,natformat:la,centscrn:!1,style:la,priority:la,cost:la,onsold:!1,clearance:la,xmargin:la,vertoffset:la,rowfactor:la,spotlength:la,shared:!1},d(),_,ca),c(b.attributes),b.ssHrdObjList=ea,b.ssDynObjList=fa,e.status="ok",e.code="",e.msg="no errors found",e.data=null,e.err=null,e}catch(a){return e.status="error",e.code=a.code,e.msg=a.msg,e.data=a.data,e.err=a,e}}function q(a,b,c,d,e,f){var g,h;b.configurations=[],b.layouts=[],g=a;var i="STAGE";if(!0!==e&&(i="STAGEXT"),h=I(g,i),"ok"!==h.status)throw{code:100,msg:"no valid "+i+" tag",data:{stageContent:g}};if(b.version=parseInt(G(h.tagStr,"version")),b.name=$,!0!==e&&(b.name=G(h.tagStr,"name"),null===b.name))throw{code:110,msg:"STAGEXT files must have a name",data:{stageContent:h.tagStr}};ba=b.name,d.stageName=b.name,g=M(h.tagContent,["stageName"],d),h=I(g,"params","<section"),g=h.rem,b.attributes=D(h.tagContent,ma.stage_attributes,c);var j=JSON.parse(JSON.stringify(b.attributes));if(h=I(g,"configurations","<layout"),g=h.rem,"not_found"===h.status){var k={};k.attributes=D("",ma.config_attributes,{}),k.attributes.layout="default",b.configurations.push(k);var l={};return s(0,"name:default",g,l,j,d),void b.layouts.push(l)}if(r(h.tagContent,b.configurations),h=H(g,"layout"),g=h.rem,0!==h.tags.length)for(var m=0;m<h.tags.length;m++){var n={};s(m,h.tags[m].tagStr,h.tags[m].tagContent,n,j,d),b.layouts.push(n)}}function r(a,b){auxObj=H(a,"case");for(var c=0;c<auxObj.tags.length;c++){var d={};d.attributes=D(auxObj.tags[c].tagContent,ma.config_attributes,{}),b.push(d)}}function s(a,c,d,e,f,g){var h,i;b(),e.name=G(c,"name"),null===e.name&&(e.name=la),g.layoutIdx=a,e.name=M(e.name,["layoutIdx"],g),g.layoutName=e.name,h=M(d,["layoutName","layoutIdx"],g),i=I(h,"params","<section"),h=i.rem,e.attributes=D(i.tagContent,ma.layout_attributes,f);var j=JSON.parse(JSON.stringify(e.attributes));if(e.sections=[],i=H(h,"section"),h=i.rem,0!==i.tags.length)for(var k=0;k<i.tags.length;k++){var l={};!0===t(k,i.tags[k].tagStr,i.tags[k].tagContent,l,j,g)&&e.sections.push(l)}}function t(a,c,d,e,f,g){var h,j;if(b(),e.launched=!1,e.name=G(c,"name"),null===e.name&&(e.name=la),g.sectionIdx=a,e.name=M(e.name,["sectionIdx"],g),g.sectionName=e.name,h=M(d,["sectionName","sectionIdx"],g),j=I(h,"publishing","<unit"),"ok"!==j.status)throw{code:211,msg:"no valid publishing elements found",data:{tagStr:j.tagStr,tagContent:h}};if(h=j.rem,e.publishing=[],z(j.tagContent,e.publishing),j=I(h,"conditions","<unit"),"ok"!==j.status)throw{code:212,msg:"no valid conditions elements found",data:{tagStr:j.tagStr,tagContent:h}};if(h=j.rem,e.conditions=D(j.tagContent,ma.conditions,{}),j=I(h,"params","<unit"),h=j.rem,e.attributes=D(j.tagContent,ma.section_attributes,f),!0!==e.attributes.enabled){return i("section ["+e.name+"] disabled"),b(),!1}Q(e.attributes),j=I(h,"scene","<unit"),h=j.rem;var k={};!0!==x(j.tagContent,k,ma.scene_attributes)&&(k=D(j.tagContent,ma.scene_attributes,f)),e.scene=C(k),j=I(h,"events","<unit"),h=j.rem,e.events=D(j.tagContent,ma.event_attributes,f),j=I(h,"motiondata","<unit"),h=j.rem,e.motiondata=j.tagContent;var l=JSON.parse(JSON.stringify(e.attributes));if(e.units=[],j=H(h,"unit"),h=j.rem,0===j.tags.length)throw{code:240,msg:"no valid unit elements found",data:{tagStr:c,tagContent:j.tagContent}};for(var m=0;m<j.tags.length;m++){var n={};!0===u(m,j.tags[m].tagStr,j.tags[m].tagContent,n,l,g)&&e.units.push(n)}return!0}function u(a,c,d,e,f,g){var h,j;if(b(),e.launched=!1,e.adposts=[],e.name=G(c,"name"),null===e.name&&(e.name=la),g.unitIdx=a,e.name=M(e.name,["unitIdx"],g),g.unitName=e.name,h=M(d,["unitName","unitIdx"],g),j=I(h,"publishing","<adpost"),"ok"!==j.status)throw{code:311,msg:"no valid publishing elements found",data:{tagStr:j.tagStr,tagContent:h}};if(h=j.rem,e.publishing=[],z(j.tagContent,e.publishing),j=I(h,"conditions","<adpost"),"ok"!==j.status)throw{code:312,msg:"no valid conditions elements found",data:{tagStr:j.tagStr,tagContent:h}};if(h=j.rem,e.conditions=D(j.tagContent,ma.conditions,{}),j=I(h,"params","<adpost"),h=j.rem,e.attributes=D(j.tagContent,ma.unit_attributes,f),!0!==e.attributes.enabled){return i("unit ["+e.name+"] disabled"),b(),!1}Q(e.attributes),j=I(h,"scene","<adpost"),h=j.rem;var k={};!0!==x(j.tagContent,k,ma.scene_attributes)&&(k=D(j.tagContent,ma.scene_attributes,f)),e.scene=C(k),j=I(h,"events","<adpost"),h=j.rem,e.events=D(j.tagContent,ma.event_attributes,f),j=I(h,"motiondata","<adpost"),h=j.rem,e.motiondata={},y(j.tagContent,e.motiondata);var l=J(h,"<adpost");if(null!==l){var m=B(l.data);if(null!==m){var n=m.data,o=m.name,p=void 0!==l.fitcover&&l.fitcover,q={},r={},s=g.unitName+"_adbox";return v(0,"name:"+s,"<segment name:"+s+"_seg> <params> sourceset:"+o+", fitcover:"+p+", </params> </segment>",q,r,g,!0),e.adposts.push(q),e.adboxdata=n,!0}}var m=K(h,"<adpost");if(null!==m)return e.adframe=m.adframe,e.adposts=[],!0;var r=JSON.parse(JSON.stringify(e.attributes));if(j=H(h,"adpost"),h=j.rem,"ok"===j.status){for(var t=0;t<j.tags.length;t++){var q={};!0===v(t,j.tags[t].tagStr,j.tags[t].tagContent,q,r,g,!1)&&e.adposts.push(q)}return!0}if(j=I(h,"mediastream","/unit"),h=j.rem,"ok"===j.status){var q={};return!0===v(e.adposts.length,j.tagStr,j.tagContent,q,r,g,!1)&&(q.name="mediastream",e.adposts.push(q)),!0}return!0}function v(a,c,d,e,f,g,h){var j,k;if(b(),e.name=G(c,"name"),null===e.name&&(e.name=la),g.adpostIdx=a,e.name=M(e.name,["adpostIdx"],g),g.adpostName=e.name,j=M(d,["adpostName","adpostIdx"],g),k=I(j,"conditions","<segment"),j=k.rem,e.conditions=D(k.tagContent,ma.conditions,{}),k=I(j,"params","<segment"),j=k.rem,e.attributes=D(k.tagContent,ma.adpost_attributes,f),!0!==e.attributes.enabled)return i("adpost ["+e.name+"] disabled"),b(),!1;var l=JSON.parse(JSON.stringify(e.attributes));if(e.segments=[],k=H(j,"segment"),j=k.rem,0===k.tags.length)throw{code:400,msg:"no valid segment tags found",data:{tagStr:c,tagContent:k.tagContent}};for(var m=0;m<k.tags.length;m++){var n={};!0===w(m,k.tags[m].tagStr,k.tags[m].tagContent,n,l,g,h)&&e.segments.push(n)}return!0}function w(a,c,d,e,f,g,h){var j,k;if(b(),e.name=G(c,"name"),null===e.name&&(e.name=la),g.segmentIdx=a,e.name=M(e.name,["segmentIdx"],g),g.segmentName=e.name,j=M(d,["segmentName","segmentIdx"],g),k=I(j,"conditions","<segment"),j=k.rem,e.conditions=D(k.tagContent,ma.conditions,{}),k=I(j,"params","<segment"),j=k.rem,e.attributes=D(k.tagContent,ma.segment_attributes,f),!0!==e.attributes.enabled)return i("segment ["+e.name+"] disabled"),b(),!1;return!0!==h&&A(e.attributes.sourceset),!0}function x(a,b,c){function d(a,b,c){var d=I(b,a),f=d.rem;return""!==d.tagContent?(c[a]=d.tagContent.replace(/\s+/g,""),e=!0):c[a]="unspecified",f}var e=!1,f=a;for(var g in c)f=d(g,f,b);return e}function y(a,b){function c(a,b,c){var d=I(b,a),e=d.rem;return c[a]=d.tagContent,e}var d=a;return d=c("dynamic",d,b),d=c("default",d,b)}function z(a,b){for(var c=H(a,"code"),d=0;d<c.tags.length;d++){var e=c.tags[d].tagContent;b.push(e)}}function A(a){if(""!==a&&"unspecified"!==a){var b=null;if(ea.forEach(function(c){null===b&&c.name===a&&(b=c)}),null!==b)return b.count++,b;b={name:a,count:1},ea.push(b)}}function B(a){function b(a,b){function c(a,b){return{ssname:ba+"_"+a.ptname,tagname:a.ptname,data:b,mtype:a.mtype,width:1,height:1}}function d(a){var b=null;return fa.forEach(function(c){null===b&&c.ssname===a&&(b=c)}),b}var e=c(a,b);return null===d(e.ssname)&&fa.push(e),e}var c=W.parseEncJSONData(a);return null===c?null:{name:b(c,a).ssname,data:c}}function C(a){function b(a){function b(a,b){function c(a,b){var c=[],d=a.length-1;return a.forEach(function(a,e){c.push(a),e<d&&c.push(b)}),c}function d(a,b){b.forEach(function(b){a.push(b)})}function e(a){var b=[];return a.forEach(function(a){""!==a&&b.push(a)}),b}var f,g=[];return a.forEach(function(a){if(a.length<2)return void g.push(a);f=a.split(b),f=c(f,b),d(g,f)}),e(g)}if(a===la)return[];var c=[a];return c=b(c,"("),c=b(c,")"),c=b(c,"&"),c=b(c,"|"),c=b(c,"!")}var c={};for(var d in ma.scene_attributes)c[d]=b(a[d]);return c}function D(a,b,c,d){function e(a,b,d){for(var e in b)if("number"===b[e].type){var f=a[e],g=e+"_perc";if(!0===a[g]&&!0!==d){var h=c[e];if(void 0===h)throw{code:700,msg:"parsing error: key: "+e+" cannot by used with percentage values",data:{curValue:f,frameVal:h}};a[e]=Math.floor(h*f/100),a[g]=!1}}return a}function f(a,b,c,d){function e(a,b,c){for(var d in c)void 0===a[d]&&void 0!==b[d]&&(a[d]=b[d])}var f={};return e(f,b,a),-1!==d&&void 0!==d&&e(f,d,a),e(f,c,a),f}var g=!1;return-1===d&&(g=!0),e(f(b,F(a,b,c,g),E(b,c),d),b,g)}function E(a,b){var c={};for(var d in a){var e=a[d].defvalue;!0===a[d].useref&&void 0!==b[d]&&(e=b[d]),c[d]=e}return c}function F(a,b,c,d){function e(a,b,c,d,e){var f={status:"undef",code:"",msg:"",data:null},g=G(a,b);if(null===g)return f.status="not_found",f;if("keyword"===c[b].type)return g=g.toLowerCase(),c[b].series.indexOf(g)>=0?(f.status="ok",f.data=g,f):(f.status="error",f.msg="unknown value:'"+g+"'",f.data=g,f);if("string"===c[b].type)return f.status="ok",f.data=g,f;if("boolean"===c[b].type)return"true"!==(g=g.toLowerCase())&&"false"!==g?(f.status="error",f.msg="invalid value for '"+b+"': '"+g+"'",f.data=g,f):(f.status="ok",f.data="true"===g||"false"!==g&&null,f);if("number"===c[b].type){var h=g.indexOf("%");if(h<0){f.percent=!1;var i=parseInt(g),j=c[b].min,k=c[b].max;return f.status="ok",(void 0!==j&&i<j||void 0!==k&&i>k)&&(f.msg="out-of-range value for '"+b+"': "+g,f.status="error"),f.data=i,f}f.percent=!0;var i=parseInt(g.substring(0,h));if(f.status="ok",i<0||i>100)return f.msg="out-of-range value for '"+b+"': "+g,f.status="error",f.data=i,f;if(!0!==c[b].useref)return f.msg="percentage not allowed on: "+b+" - value: "+g,f.status="error",f.data=i,f;return void 0===d[b]?(f.msg="no reference magnitude for: "+b+" - value: "+g,f.status="error",f.data=i,f):(f.status="ok",f.data=i,f)}return f.status="error",f.msg="programming error: key:'"+b+"', type:'"+c[b].type+"'",f.data=g,f}var f={};for(var g in b){var h=e(a,g,b,c,d);if("ok"!==h.status){if("not_found"!==h.status)throw{code:710,msg:"parsing error: key:"+g+", msg: "+h.msg,data:a}}else if(f[g]=h.data,!0===h.percent){var i=g+"_perc";f[i]=!0}else{var i=g+"_perc";f[i]=!1}}return f}function G(a,b){function c(a,b){var c=","+b+":",d=a.indexOf(c);return d>=0?d+1:(c=b+":",d=a.indexOf(c),0===d?0:-1)}function d(a){var b=""+a;b=b.replace("(?![a-zA-Z0-9_.-])",",");var c=b.indexOf(",");return c>=0&&(b=b.substring(0,c)),b}var e=a.replace(/\s+/g,""),f=e.toLowerCase(),g=b.toLowerCase(),h=c(f,g);if(h<0)return null;var i=h+g.length+1;return f=f.substring(i),f=d(f),e.substring(i,i+f.length)}function H(a,b){for(var c={tags:[],rem:a,status:"ok"},d=""+a,e=null,f=100,g=0,h=0;;){if(++g>=f){c.status="error";break}if(e=I(d,b),d=e.rem,"ok"!==e.status){if("not_found"===e.status)break;c.status="error";break}c.tags.push(e),h++}return 0===h&&(c.status="not_found"),c.rem=d,c}function I(a,b,c){function d(a,b){var c={tagContent:"",rem:"",status:"ok"},d=""+a,e=d.indexOf(b);return e<0?(c.status="not_found",c):(c.rem=d.substring(e),c.tagContent=d.substring(0,e),c)}function e(a,b){var c,d,e,f,g,h,i,j,k={tagStr:"",tagContent:"",rem:"",status:"ok"},l="<"+b,m="</"+b+">",n="/>";k.rem=a;var o=""+a;if((h=o.indexOf(l))<0)return k.status="not_found",k;if(o=o.substring(h),(i=o.indexOf(m))<0){var p=o.indexOf(n);if(p>0)return p+=2,o=o.substring(0,p),k.rem=a.replace(o,""),k.tagContent="",k.status="empty_tag",k;throw{code:720,msg:"_getSubTag parse error",data:{elementName:b,base:a}}}if(i+=m.length,c=o.substring(0,i),k.rem=a.replace(c,""),d=""+c,(h=o.indexOf(l))<0)throw{code:730,msg:"_getSubTag parse error",data:{elementName:b,base:a}};return j=d.indexOf(">"),j+=1,d=d.substring(h,j),e=c.replace(d,""),i=e.indexOf(m),e=e.substring(i),g=c.replace(d,""),g=g.replace(e,""),k.tagContent=g,f=""+d,h=f.indexOf(l),h+=l.length,f=f.substring(h),j=f.indexOf(">"),f=f.substring(0,j),k.tagStr=f,k}if(void 0!==c){var f=d(a,c);if("ok"===f.status){var g=e(f.tagContent,b);return g.rem+=f.rem,g}}return e(a,b)}function J(a,b){var c=I(a,"adbox",b);if("ok"!==c.status||c.tagContent.length<=0)return null;var d=L(c.tagContent);if(void 0===d.data)throw{code:317,msg:'adbox "data" attrib not found',data:{tagStr:"adbox",tagContent:a}};return d}function K(a,b){var c=I(a,"adframe",b);if("ok"!==c.status||c.tagContent.length<=0)return null;var d=L(c.tagContent);if(void 0===d.classID)throw{code:316,msg:'adframe "classID" attrib not found',data:{tagStr:"adframe",tagContent:a}};return d.adfIdx=ka++,{adframe:d,auxObj:c}}function L(a,b){function c(a,b){for(var c in b)void 0===a[c]&&(a[c]=b[c])}var d=a.replace(/\s+/g,""),e=d.split(","),f={};return e.forEach(function(a){var b=a.split(":");0!==b[0].length&&(f[b[0]]=b[1])}),void 0===b?f:c(f,b)}function M(a,b,c){var d=""+a;return b.forEach(function(a){var b=c[a];if("undefined"!==b){var e=new RegExp("\\${"+a+"}","g");d=d.replace(e,b)}}),d}function N(a){function b(a){var b,c,d,e={status:"not_found",rem:""},f="\x3c!--",g="--\x3e";return(b=a.indexOf(f))<0?(e.rem=a,e):(d=a.substring(0,b),(c=a.indexOf(g))<0?(e.rem=a,e):(c+=g.length,d+=a.substring(c),e.status="found",e.rem=d,e))}for(var c,d=a,e=1e3;e>0&&(e--,c=b(d),"not_found"!==c.status);)d=c.rem;return d}function O(b){var c="stage_error_"+b.type+" ["+b.code+" - "+b.msg+"]";i(c),Z(c),Y.sendEvent("alerts","stage_proc/"+$,c),P(b),a.callback({stageCard:null,metha:b}),ia.msg=c,ia.code=b.code,ia.status="error",da=!1}function P(a){ja.push("sending ERROR debug email...");var b="";try{b=void 0!==a.data?JSON.stringify(a.data).replace(/\s+/g," ").replace(/\\t|\\r|\\n/g,""):JSON.stringify(a)}catch(a){b="(unable to extract error data)"}var c="";c+="Stage Name: "+$+"\n\n",c+="Code: "+a.code+"\n",c+="Context: "+b+"\n",c+="Message: "+a.msg+"\n",c+="============ STAGE TEXT ============\n\n",c+=ga+"\n\n",S.mailmaster.send("STAGE_PROC","parsing_error",c,ja)}function Q(a){if("unspecified"===a.schema){var b=a.location,c=a.position;"predef"===c?(a.schema="out_of_page",a.position=b):"fixed"===c?(a.schema="screen",a.position=b):(a.schema=b,a.position=c)}}var R=this,S=a.comps,T=a.cllBks,U=a.bootParams,V=Math.round(999*Math.random());b();var W=new h,X=new g,Y=S.trackhub,Z=T.addLogLine,$=a.stageFileName,_=a.mainFile,aa=a.xtnCode,ba="NA",_=a.mainFile,ca=a.input,da=!1,ea=[],fa=[],ga=null,ha={},ia={status:"undef",retrMode:null,retrDelay:null,code:"",msg:""},ja=["init"],ka=0,la="unspecified",ma=new f;R.isReady=function(){return!0!==da},R.getResult=function(){return{retObj:ia,stageCard:ha}},b();var na=!1;!0!==a.useLocalCache&&(na=!0),da=!0;var oa=X.getCode($);if(null!==oa){ga=oa,k("stage file retrieved from ROM",$);return void m(N(oa))}try{l()}catch(a){retObj.status="error",retObj.code=a.code,retObj.msg=a.msg,retObj.data=a.data,retObj.err=a}}}(0,0,stm_cachedfile,stm_preproc,stm_inclproc,stm_keywords,stm_romcode,textools),stm_root=function(a,b,c,d,e,f,g){return function(b){function f(a){r.logger.writex({msg:a,prefix:"stm_root",inst:z})}function h(a){r.logger.writex({tgl:!0,msg:a,prefix:"stage:"+t.placementId+" (stg_mgr)"})}function i(a,b,c){r.trackhub.sendEvent("stage","${"+t.placementId+"|*AllStages*}$/_s10 stgmgr/_s10 stage"+a,b,c)}function j(a){var d={comps:r,cllBks:s,input:b.input,callback:k,bootParams:t,testCase:t.testCase,startTime:t.startTime,secProt:t.secProt,textDataObj:a,useLocalCache:F,inClear:x,lifeTime:v,mhfolder:w,stageFileName:A,mainFile:B,xtnCode:C,placementId:t.placementId,addLogLine:u,sendEvent:i};return new c(d)}function k(a){G=a.stageCard,H=a.metha}function l(c){switch(m(c),J){case"INIT":if(!0===E){if(void 0===r.nodemanager)break;if(!0!==r.nodemanager.getDynStatus())break}if("adf"===t.ctxId&&null===(L=r.parcels.getp("globalStageData")))break;if(!0!==B&&null===(L=r.stageExec.ggsd()))break;j(L),f(),i("","_s20 stage_proc_lnch"),u("stage proc created"),K=c,J="WSI";case"WSI":if(c-K>a.stage.fileTimeout){b.callback({stageCard:null,metha:{status:"error",msg:"timeout"}}),I="stg_file_to",h("stage file timeout!"),i("","_s22 stage_proc_to"),J="STAGE_ERROR";break}if(null===H)break;if("ok"!==H.status){var d="msg: "+H.msg+", code: "+H.code;u(d),h("<<<< stage error >>>>   "+d),i("","_s24 stage_proc_error"),i("/_s90 stage_errors",d),b.callback({stageCard:null,metha:H}),I="stg_file_not_ok",J="STAGE_ERROR";break}"sys"!==t.ctxId&&"brk"!==t.ctxId||(t.cfg_bd_mod=G.attributes.cfg_bd_mod,t.cfg_vid_mod=G.attributes.cfg_vid_mod),f(),u("stage file available"),i("","_s21 stage_file_ok"),i("/_s10 tags",G.attributes.tag),i("/_s20 file_rtrv_tm_ms",c-K,{scl:"shorttimes",res:"lo"}),s.debugPing("/_s20 stgmgr","_30 sgtavl"),J="WFAB";case"WFAB":if("sys"===t.ctxId&&!0!==y){var e=r.blockdet.getStatus();if(null===e)break;if(!0===e){I="adblk",f(),u("ad block detected"),i("","_s31 ad_blk_found"),h("ad blocker detected!"),b.callback({stageCard:null,metha:{status:"error",msg:"ad_blck"}}),J="PARK";break}}f(),i("","_s32 ad_blk_not_found"),u("ad blok NOT det"),s.debugPing("/_s20 stgmgr","_20 allclr"),b.callback({stageCard:G,metha:H,mainFile:B}),u("stage file processed"),J="WFDI",K=c;case"WFDI":if(c-K>a.stage.sdsTimeout){h("WARNING: DSD data timeout"),i("","_s44 dsd_data_timeout"),J="POST_DSD";break}if(!1===r.inLineData.getSDSStatus()){h("WARNING: DSD data not available"),i("","_s45 dsd_data_error"),J="POST_DSD";break}if(!0!==r.inLineData.getSDSStatus())break;f(),u("DSD info available"),i("","_s42 dsd_data_ok"),J="POST_DSD";case"POST_DSD":var g=r.inLineData.getSSFileData();n(G.ssHrdObjList,G.ssDynObjList,g),u("source servers launchd"),o(G.ssHrdObjList,g),I="all_ok",i("","_s50 stgmr_done"),i("/_s40 all_done_tm_ms",c-t.startTime,{scl:"shorttimes",res:"lo"}),J="PARK";break;case"STAGE_ERROR":J="PARK";break;case"PARK":u("stgmgr parked"),r.heartH.unsubscribe(q.tick)}}function m(a){!0===N?!1===M&&(N=!1):!0===M&&(O++,N=!0)}function n(a,b,c){function e(a,b,c){var e={master:q,comps:r,cllBks:s,bootParams:t,testCase:t.testCase,vastDevice:t.vastDevice,startTime:t.startTime,secProt:t.secProt,ssFileData:b,useLocalCache:F,inClear:x,lifeTime:v,mhfolder:w,addLogLine:u,dummy:0};return!0===c?(e.sourceSetName=a.ssname,e.useCount=1,e.dynssobj=a):(e.sourceSetName=a.name,e.useCount=a.count,e.dynssobj=null),new d(e)}a.forEach(function(a){var b=e(a,c,!1);D.push(b)}),b.forEach(function(a){var b=e(a,[],!0);D.push(b)})}function o(a,b){function c(a,b){var c=!1;return b.forEach(function(b){!0!==c&&b.name===a&&(c=!0)}),c}function d(a,b){function c(a){}function d(){}function e(){}var f=new XMLHttpRequest;null!==f&&(f.open("POST",a),f.timeout=1e4,f.onload=c,f.onerror=d,f.ontimeout=e,f.send(b))}var e={dsdChannel:t.dsdchn,ssIds:[]};e.stgId=t.placementId;var f=!0;if(a.forEach(function(a){void 0===a.dynssobj&&(!0!==c(a.name,b)&&(f=!1),e.ssIds.push(a.name))}),0!==e.ssIds.length){var h=1;!0===f&&(h=.01),"dev"===t.env&&(h=100);if(!0===(new g).whirliGig(h)){d("//bfs.aws.forebase.com/stg/rprt?json=true",encodeURIComponent(JSON.stringify(e)))}}}function p(){r.heartL.stop(),r.heartH.stop(),window.removeEventListener("unload",p)}var q=this,r=b.comps,s=b.cllBks,t=b.bootParams,u=s.addLogLine,v=604800,w="stage",x=!1;r.quickVars.refreshParams();var y=r.quickVars.getParam("disbAdBlk",!1);s.debugPing("/_s20 stgmgr","_00 build");var z=Math.round(999*Math.random());f();var A=b.stageFileName,B=b.mainFile,C=b.xtnCode,D=(new e,[]),E=!1;"enf"!==t.cmpcode||"sys"!==t.ctxId&&"adf"!==t.ctxId||(E=!0);var F=!0;!0===a.localcache.disable?(F=!1,f()):!0===t.debugVars.disableLocCache&&(F=!1,f());var G=null,H=null,I="...";u("stage manager here"),s.debugPing("/_s20 stgmgr","_10 inst"),i("","_s10 inst");var J="INIT",K=0,L=null;window.addEventListener("unload",p);var M=!0,N=!0,O=0;q.getStgCard=function(){return G},q.getSrcSrvReport=function(){var a="Rot Idx: "+r.dtomanager.getRotIdx()+"\n\n";return D.forEach(function(b){a+=b.getLog()+"\n\n"}),a},q.fireEvent=function(a,b){},q.getStatus=function(){return I},q.tick=function(a){l(a)},r.heartH.subscribe(q.tick,"stgmgr"),q.tick(Date.now())}}(config,0,stm_stgproc,stm_srcsrvr,lscleanup,0,textools),trf_root=function(Config,DomTool,TexTools,CachedFile){return function(args){function _deltalog(a){_comps.logger.writex({msg:a,prefix:"trf_root",inst:_instnum})}function _tagLog(a){_comps.logger.writex({tgl:!0,msg:a,prefix:"trf_admgr"})}function _processXbidCampaignSnippet(a){function b(a){try{var b=document.createElement("html");b.innerHTML="<html><head></head><body>"+a+"</body></html>";var c=b.childNodes[1].childNodes[0].dataset;return{ctkn:c.tkn,thp_pixels:[c.trkDelv,c.trkView,c.trkClck]}}catch(a){return null}}var c=b(a);return null===c?null:{cmpgObj:_getCmpgObj(c.ctkn),thp_pixels:c.thp_pixels}}function _processLineCampaignSnippet(a){function b(a){try{var b=_functionName+"(",c=""+a,d=c.indexOf(b);if(d<0)return null;c=c.substring(d+b.length);var e=c.indexOf(")");if(e<0)return null;c=c.substring(0,e),c=c.replace(/\'+/g,'"'),c=c.replace(/\s+/g,"");var f=c.split(",");if(5!==f.length)return null;var g=[];return f.forEach(function(a){g.push(a.replace(/\"/g,""))}),{ctkn:g[0],thp_pixels:[g[1],g[2],g[3]]}}catch(a){return null}}var c=b(a);return null===c?null:{cmpgObj:_getCmpgObj(c.ctkn),thp_pixels:c.thp_pixels}}function _getCmpgObj(a){try{var b=_textools.d(a);return JSON.parse(b)}catch(a){return null}}function _testCampaignToken(a){return!0}function _generateXBIDCampaignSnippet(a){function b(a,b,c,d){var e="";return e+="<ins",e+=" data-tkn="+a,e+=' data-trk-delv="'+b+'"',e+=' data-trk-view="'+c+'"',e+=' data-trk-clck="'+d+'"',e+=" ></ins>"}return b(_generateToken({cmpID:a.cmpID}),a.pD||"",a.pV||"",a.pC||"")}function _generateLINECampaignSnippet(a){function b(a,b,c,d){var e="";return e+="\t<script>",e+="\tnew "+_functionName+'("'+a+'", "'+b+'", "'+c+'", "'+d+'");',e+="\tfunction "+_functionName+"(ctkn, pD, pV, pC) {",e+="\t\tvar maxLoop = 200, ver = 100, repc = 0;",e+="\t\tsp();",e+="\t\tfunction sp() {",e+="\t\t\twindow.top.postMessage(JSON.stringify({",e+='\t\t\t\t\ttype: "cmpg",',e+="\t\t\t\t\tver: ver,",e+="\t\t\t\t\tctkn: ctkn,",e+="\t\t\t\t\tthp_pixels: [pD, pV, pC],",e+="\t\t\t\t\trepc: repc,",e+="\t\t\t\t\ttm: Date.now(),",e+='\t\t\t\t}), "*");',e+="\t\t\trepc++;",e+="\t\t\tmaxLoop--;",e+="\t\t\tif (maxLoop > 0) {",e+="\t\t\t\twindow.setTimeout(sp, 200);",e+="\t\t\t}",e+="\t\t}",e+="\t}",e+="\t<\/script>",e.replace(/\s+/g," ")}return b(_generateToken({cmpID:a.cmpID}),a.pD||"",a.pV||"",a.pC||"")}function _generateToken(a){var b=JSON.stringify(a);return _textools.o(b)}function _procLineItemCampQueue(a){var b=_comps.msghub.getNextCmpgTag();if(null!==b)try{var c=_getCmpgObj(b.ctkn);if(null===c)throw{message:"bad campaign token"};_lineItemCmpQueue.push({cmpID:c.cmpID,thp_pixels:b.thp_pixels})}catch(a){_tagLog("Line Item snippet error - msg ["+a.message+"]")}}function _getBFSData(){function a(a,b){var c=null;return a.forEach(function(a){null===c&&a.name===b&&(c=a)}),c}try{var b=_comps.inLineData.getTrfFileData(),c=a(b,_bootParams.placementId);if(null===c)throw{msg:"file_not_found"};if("ok"!==c.status)throw{msg:"bad_filedata"};return{synchro:c.synchro,name:c.name}}catch(a){return _deltalog(),null}}function _processCacheFile(){function thenFunction(status,data,mode){function filterComments(a){function b(a){var b={stat:"not_found",rem:a},c=a.indexOf("//");if(c<0)return b;var d=a.substring(0,c),e=a.substring(c),f=e.indexOf("\n");if(c<0)return b;var g=e.substring(f);return b.rem=d+g,b.stat="found",b}for(var c,d=a,e=1e3;e>0&&(e--,c=b(d),"found"===c.stat);)d=c.rem;return d}if("ok"!==status)return exitError({status:"error",type:"retrieval",code:"950",msg:" ["+fileName+".txt] - folder ["+effFolderPath+"] - dataurl ["+dataBaseUrl+"]"});try{var noComments=filterComments(data),string="campObj = "+noComments,campObj;eval(string)}catch(a){return exitError({status:"error",type:"processing",code:"952",msg:" ["+fileName+"] - msg ["+a+"]"})}_tagLog("traffic file ok"),_trafficFileData=campObj}function exitError(a){var b="traffic_error ["+a.type+" - "+a.code+" - "+a.msg+"]";_tagLog(b),_addLogLine(b),_comps.trackhub.sendEvent("alerts","traffic_proc/"+_trafficFileName,b)}var useLocalCache=!0;!0===Config.localcache.disable?(useLocalCache=!1,_deltalog()):!0===_bootParams.debugVars.disableLocCache&&(useLocalCache=!1,_deltalog());var forcerefresh=!1;!0!==useLocalCache&&(forcerefresh=!0);var _trafficItemsLifeTime=86400,_trafficItemsMhFolder="traffic",_trafficItemsInClear=!1;_tagLog("loading traffic file ["+_bootParams.flexData.ssaName+" - "+_bootParams.flexData.ssaSctName+"]");var effFolderPath="traffic",dataBaseUrl=_bootParams.dataRoot,prodUrl=!(dataBaseUrl.indexOf("localhost")>=0),fileName=_trafficFileName;new CachedFile({comps:_comps,cllBks:_cllBks,bootParams:_bootParams,callback:thenFunction,timeout:1e4,shorten:!1,inclear:_trafficItemsInClear,lifeTime:_trafficItemsLifeTime,mhfolder:_trafficItemsMhFolder,secProt:_bootParams.secProt,dataBaseUrl:dataBaseUrl,folderPath:effFolderPath,fileName:fileName,fileExt:"json",synchro:_effSynchro,forcerefresh:forcerefresh,env:_bootParams.env,prodUrl:prodUrl})}function _generateFakeXbidCampaign(a,b,c,d){return _generateXBIDCampaignSnippet({cmpID:a,pD:b,pV:c,pC:d})}var that=this,_comps=args.comps,_cllBks=args.cllBks,_bootParams=args.bootParams,_addLogLine=_cllBks.addLogLine,_functionName="__FSCmpg",_instnum=Math.round(999*Math.random());_deltalog();var _textools=new TexTools,_trafficFileData=null,_lineItemCmpQueue=[];if(that.genXbidCmpSnp=function(a){return _generateXBIDCampaignSnippet(a)},that.genLineCmpSnp=function(a){return _generateLINECampaignSnippet(a)},that.prcXbidCmpSnp=function(a){return _processXbidCampaignSnippet(a)},that.gtrff=function(){return _trafficFileData},that.glicmps=function(){var a=[].concat(_lineItemCmpQueue);return _lineItemCmpQueue=[],a},that.tick=function(a){_procLineItemCampQueue(a)},"adf"!==_bootParams.ctxId){if("ok"!==_bootParams.flexData.status)return void _tagLog("not a flex placement");var bfsData=_getBFSData();if(null===bfsData)return void _tagLog("no BFS data for traffic file")
;var _effSynchro=bfsData.synchro,_trafficFileName=bfsData.name;if(_processCacheFile(),_comps.heartL.subscribe(that.tick,"trf_root"),"dev"===_bootParams.env)var xxx=_generateFakeXbidCampaign("MSNM_2021_JUL_1_LINE_1","THP_DELIVERY_PIXEL_HERE","THP_VIEW_PIXEL_HERE","THP_CLICK_PIXEL_HERE"),yyy=_getCmpgObj("eyNlcHROSilCK0A8RG5HQGVlMzs4OWo8OTlucDxBQkc5MiSA")}}}(config,domtool,textools,stm_cachedfile),stg_admgr=function(a,b,c){return function(a){function b(a){G.logger.writex({msg:a,prefix:"stg_admgr",inst:Y})}function d(a){G.logger.writex({tgl:!0,msg:a,prefix:"stg_admgr"})}function e(a){switch(ha){case"INIT":ia=a,ha="WFC";break;case"WFC":if(a-ia>1e4){d("traffic file timeout ["+ta+"]"),ha="PARK";break}var b=G.stageExec.gmstc();if(null===b)break;var c=G.tfcmgr.gtrff();if(null===c)break;f(c,b.inScopeVars),ha="PARK"}}function f(a,b){function c(a){function b(a){function b(a){function b(a){return null!==a&&"object"===_typeof(a)}function c(a){return"number"==typeof a}function d(a,b){return"object"===_typeof(a)&&a.length===b}return!0===b(a)&&(!0===d(a.dyw,7)&&(!0===d(a.hrs,24)&&(!0===c(a.str)&&!0===c(a.end))))}return"string"==typeof a.typ&&!0===b(a.dlmt)}if("object"!==_typeof(a.campaigns))return null;var c=!0;for(var d in a.campaigns){if(!0!==b(a.campaigns[d])){c=!1;break}}return!0!==c?null:a.campaigns}function e(a,b){function c(a,b){var c=!1;return b.forEach(function(b){a.toLowerCase().indexOf(b.toLowerCase())>=0&&(c=!0)}),c}var e=b.formatfilter;if("string"!=typeof e)return a;if(""===e)return a;if("unspecified"===e)return a;var f=e.split("|"),g={};for(var h in a){var i=a[h];!0!==c(i.fmt,f)?g[h]=i:d("campaign ["+h+"] filtered by dock format filter ["+i.fmt+"]")}return g}function f(a){var b={};for(var c in a){var d=a[c];void 0===b[d.typ]&&(b[d.typ]={}),b[d.typ][c]=d}return b}var j=c(a);if(null===j)return void d("bad traffic file ["+ta+"]");j=e(j,b),_=f(j),g(_[U]),h(_[R]),!0!==ja&&i(_[S]),$=!0}function g(a){function c(a){return"number"==typeof a.prc}if(void 0!==a){var d=[];for(var e in a){var f=a[e],g=r(e,f);!0===c(g)&&(!0===q(g)&&d.push(g))}aa=[],d.forEach(function(a){aa.push(a),b()}),y(aa,"IBID")}}function h(a){function b(a){return!0}if(void 0!==a){var c=[];for(var d in a){var e=a[d],f=r(d,e);!0===b(f)&&(!0===q(f)&&c.push(f))}y(c,"VOLM"),ja=!1,ka=null}}function i(a){function c(a){return"number"==typeof a.prc&&"number"==typeof a.prb}if(void 0!==a){la=!1,ma=null;var d=[];for(var e in a){var f=a[e],g=r(e,f);!0===c(g)&&(!0===q(g)&&(d.push(g),b()))}if(0!==d.length){y(d,"SPNS");var h=[];if(d.forEach(function(a){100*Math.random()<a.prb&&h.push(a)}),0!==h.length){h.forEach(function(a){b()});var i=Math.floor(Math.random()*h.length),j=h[i];la=!0,ma=j,ra=!0}}}}function j(a){var c=G.tfcmgr.prcXbidCmpSnp(a.bidData.adm);b(),null!==c&&W.push({prc:a.bidData.effPrc,cmpID:c.cmpgObj.cmpID,thp_pixels:c.thp_pixels})}function k(a){switch(fa){case"INIT":ga=a,fa="WFC";case"WFC":if(!0!==$)break;if(null===aa)break;fa="RDY";case"RDY":if(a-ga<M)break;l(),m(),d("DLVR - auction done"),fa="DONE"}}function l(){function a(a){function c(a){return!0}var d=a.prc,e=a.cmpID,f=a.thp_pixels,g=p(e,T);if(null===g)return b(),void z("/_s20 camp_not_auth",e,{},!1,"lo");var h=r(e,g,f);if(!0===c(h)){h.prc=d,b(),z("/_s10 camp_rcvd/_s10 by_type",h.type,{},!1,"lo"),z("/_s10 camp_rcvd/_s20 by_frmt",h.formatID,{},!1,"lo"),z("/_s10 camp_rcvd/_s30 by_dsa_id",h.dsaID,{},!1,"lo");x({formatID:h.formatID,dsaID:h.dsaID,cmpID:h.cmpID,prc:h.prc},!Z,!1),!0===q(h)&&(null===ba&&(ba=[]),ba.push(h))}}W.forEach(function(b){a(b)}),y(ba,"XBID")}function m(){var a=[];if(null!==aa&&(a=a.concat(aa)),null!==ba&&(a=a.concat(ba)),0===a.length)return pa=!1,void(qa=null);a.sort(function(a,b){return b.prc-a.prc});var c=a[0],d=[];if(a.forEach(function(a){a.prc===c.prc&&d.push(a)}),d.length>1){var e=Math.floor(Math.random()*d.length);c=a[e]}pa=!0,qa=c;b(),x(c,!Z,!0)}function n(a){switch(ea){case"INIT":ea="RDY";case"RDY":if(!0!==$)break;var b=G.tfcmgr.glicmps();if(0===b.length)break;o(b),ea="DONE"}}function o(a){function c(a){function c(a){return!0}var e=a.cmpID,f=a.thp_pixels,g=p(e,V);if(null===g)return d("line-item campaign not authorized ["+e+"]"),b(),void z("/_s20 camp_not_auth",e,{},!1,"lo");var h=r(e,g,f);return!0===c(h)&&(b(),z("/_s10 camp_rcvd/_s10 by_type",h.type,{},!1,"lo"),z("/_s10 camp_rcvd/_s20 by_frmt",h.formatID,{},!1,"lo"),z("/_s10 camp_rcvd/_s30 by_dsa_id",h.dsaID,{},!1,"lo"),y([h],"LINE"),!0===q(h)&&(na=!0,oa=h,!0))}var e=!1;a.forEach(function(a){!1===e&&!0===c(a)&&(e=!0)})}function p(a,b){if(null===_)return null;var c=_[b];if(void 0===c)return null;var d=c[a];return void 0===d?null:d}function q(a){function c(a,c){function d(){function a(a,b){var c,d,e=!1;for(d=0;d<a.length;d++)if(c=a[d],b.indexOf(c)>=0){e=!0;break}return e}var b={stat:"no",msg:""};if(void 0===e||void 0===e[c])return b.stat="go",b;var d=Da[c];return void 0===d?(b.stat="go",b):void 0!==e[c].excl&&e[c].excl.length>0&&!0===a(e[c].excl,d.tags)?(b.msg="excl: "+e[c].excl.join("|"),b):void 0!==e[c].incl&&e[c].incl.length>0&&!0!==a(e[c].incl,d.tags)?(b.msg="incl: "+e[c].incl.join("|"),b):(b.stat="go",b)}var e=a.tags;a.cmpID;return"go"===d().stat||(b(),!1)}function d(a){function c(a){function b(a,b){var c,d,e=!1;for(d=0;d<a.length;d++)if(c=a[d],b.indexOf(c)>=0){e=!0;break}return e}var c={stat:"no",msg:""};return void 0===a||void 0===a.cstm?(c.stat="go",c):void 0!==a.cstm.excl&&a.cstm.excl.length>0&&!0===b(a.cstm.excl,Ea)?(c.msg="excl: "+a.cstm.excl.join("|"),c):void 0!==a.cstm.incl&&a.cstm.incl.length>0&&!0!==b(a.cstm.incl,Ea)?(c.msg="excl: "+a.cstm.incl.join("|"),c):(c.stat="go",c)}var d=a.tags;a.cmpID;return"go"===c(d).stat||(b(),!1)}function e(a){function b(a){var b={stat:"no",msg:""};if(void 0===a.perf||void 0===a.dlmt)return b.stat="go",b;var c=a.perf,d=a.dlmt.imps;return d.mxtot>0&&c.tot.imp>d.mxtot?(b.msg="imps-mxtot",b):d.mx1m>0&&c["1m"].imp>d.mx1m?(b.msg="imps-mx1m",b):d.mx1w>0&&c["1w"].imp>d.mx1w?(b.msg="imps-mx1w",b):d.mx1d>0&&c["1d"].imp>d.mx1d?(b.msg="imps-mx1d",b):d.mx6h>0&&c["6h"].imp>d.mx6h?(b.msg="imps-mx6h",b):(b.stat="go",b)}function c(a){var b={stat:"no",msg:""};if(void 0===a.perf||void 0===a.dlmt)return b.stat="go",b;var c=a.perf,d=a.dlmt.spnd;return d.mxtot>0&&c.tot.mny>d.mxtot?(b.msg="spend-mxtot",b):d.mx1m>0&&c["1m"].mny>d.mx1m?(b.msg="spend-mx1m",b):d.mx1w>0&&c["1w"].mny>d.mx1w?(b.msg="spend-mx1w",b):d.mx1d>0&&c["1d"].mny>d.mx1d?(b.msg="spend-mx1d",b):d.mx6h>0&&c["6h"].mny>d.mx6h?(b.msg="spend-mx6h",b):(b.stat="go",b)}function d(a,b){function c(a,b,c){return"number"!=typeof b||0===b||w(P,"fsxp_"+a,b,c)}var d={stat:"no",msg:""};return!0!==c(b,a.mx1w,604800)?(d.msg="freq-max1w",d):!0!==c(b,a.mx1d,86400)?(d.msg="freq-max1d",d):!0!==c(b,a.mx1h,3600)?(d.msg="freq-max1h",d):!0!==c(b,a.mx5m,300)?(d.msg="freq-max5min",d):(d.stat="go",d)}var e,f=a.cmpID,g=a.dlmt,h={stat:"no",msg:""},i=new Date,j=Math.floor(i.getTime()/1e3),k=i.getDay(),l=i.getHours();return 0!==g.str&&j-g.str/1e3<0?(h.msg="start time",h):0!==g.end&&j-g.end/1e3>0?(h.msg="end time",h):1!==g.dyw[k]?(h.msg="day of week",h):1!==g.hrs[l]?(h.msg="hour of day",h):(e=b(a),"go"!==e.stat?(h.msg=e.msg,h):(e=c(a),"go"!==e.stat?(h.msg=e.msg,h):(e=d(g.freq?g.freq:g,f),"go"!==e.stat?(h.msg=e.msg,h):(h.stat="go",h))))}var f;return f=e(a),"go"!==f.stat?(b(),!1):!0===c(a,"topic")&&(!0===c(a,"local")&&(!0===c(a,"pagetype")&&!0===d(a)))}function r(a,b,c){function d(a){if(void 0===a)return"NA";var b=parseFloat(a);return!0===isNaN(b)?"error":b}function e(a){var b=[""],c=[""],d=[""];return null!==a&&"object"===_typeof(a)&&(b=a.delv,c=a.view,d=a.clck),{delv:b,view:c,clck:d}}function f(a){var b=[""],c=[""],d=[""];return null!==a&&"object"===_typeof(a)&&(b=[a[0]],c=[a[1]],d=[a[2]]),{delv:b,view:c,clck:d}}return{cmpID:a,type:b.typ,dsaID:b.dsaID,dsaCode:b.dsaCode,formatID:b.fmt,done:d(b.dne),flr:d(b.flr),prc:d(b.prc),prb:d(b.prb),dlmt:b.dlmt,perf:b.perf,xtnUrl:b.crt,cmp_pixels:e(b.pixels),thp_pixels:f(c),tags:b.tags}}function s(){var a="",b=document.querySelector("head > title");return null!==b&&(a=(""+b.innerHTML).toLowerCase()),a+"_"+I.hostPageUrl.toLowerCase()}function t(a){switch(ca){case"INIT":d("DLVR - init"),da=a,ca="WFEF";case"WFEF":if(!0!==$)break;!0===L&&(sa=!0),ca="WITO";case"WITO":if(!0!==na&&!0===J&&a-da<K)break;if(!0===na?d("DLVR - line item camp ready"):!0===ra?d("DLVR - prop camp ready"):!0===J&&d("DLVR - initial timeout over"),!0===na||!0===ra){da=a,ca="RDY";break}d("DLVR - enabling brokers"),sa=!0,da=a,ca="WFBR";break;case"WFBR":if(!0!==na&&!0!==pa)break;d("DLVR - bidding time over"),da=a,ca="RDY";case"RDY":if(!0===na&&null!==oa&&oa.type===V){B(),u(oa),ca="DONE";break}if("dev"===I.env&&!0===O)break;if(!0===ja&&null!==ka&&ka.type===R){A(),B(),u(ka),ca="DONE";break}if(!0===la&&null!==ma&&ma.type===S){A(),B(),u(ma),ca="DONE";break}if(!0===pa&&null!==qa&&(qa.type===T||qa.type===U)){A(),B(),u(qa),ca="DONE";break}if(a-da>N){A(),d("DLVR - demand time over -  inventory empty"),ca="PARK";break}break;case"DONE":Z=!0,b(),ca="PARK"}}function u(a){function c(a,c){b(),"click"===c&&D()}b(),d("DLVR - SHOWING CAMPAIGN ["+a.cmpID+"] from ["+a.dsaID+"]");var e="_admgr_"+a.cmpID;G.stageExec.lnchExt({xtnCode:e,fileName:a.xtnUrl,evclbk:c}),v(P,a.cmpID),v(Q,a.formatID),Fa=Object.assign({},a),C()}function v(a,b){"sys"===I.ctxId&&G.expreg_2.registerExposure(a,"fsxp_"+b)}function w(a,b,c,d){return!(G.expreg_2.getExpCount(a,"fsxp_"+b,d)>=c)}function x(a,b,c){var d="_dlvr";!0!==b&&(d="_non_dlvr");var e="/_s30 bidding"+d;if(!0===c)var f=e+"/_s20 win";else var f=e+"/_s10 bid";z(f+"/_s10 by_format",a.formatID),z(f+"/_s20 by_dsa",a.dsaID),z(f+"/_s30 by_cmpID",a.cmpID),z(f+"/_s40 by_prc",100*a.prc,{scl:"shorttimes",exp:-5})}function y(a,b){a&&(X=X.concat(a))}function z(a,b,c,d,e){G.flxanl.ecevt({path:a,event:b,evOpts:c,fastTrk:d,res:e})}function A(){G.flxanl.req(Ca)}function B(){G.flxanl.invlist(Ca,X)}function C(){if(null!==Fa){var a=Object.assign(Ca,Fa);G.flxanl.delv(a),E("delv",Fa)}}function D(){if(null!==Fa){var a=Object.assign(Ca,Fa);G.flxanl.clck(a),E("clck",Fa)}}function E(a,b){var c=b.cmp_pixels[a];c=[].concat(c,b.thp_pixels[a]),0!==c.length&&(console.log("KBEKBE click event forwarded to  beamCannon - event ["+a+"] - beamArray ["+JSON.stringify(c)+"]"),G.beamCannon.fire({cmpID:b.cmpID,event:a,beamArray:c}))}var F=this,G=a.comps,H=a.cllBks,I=a.bootParams,J=(H.addLogLine,!0),K=1e3,L=!0,M=3e3,N=6e3,O=!1,P="fs_ad_dlv",Q="fs_fmt_dlv",R="volm",S="spns",T="xbid",U="ibid",V="line",W=[],X=[],Y=Math.round(999*Math.random());b();var Z=(new c,!1),$=null,_=null,aa=null,ba=null,ca="INIT",da=0,ea="INIT",fa="INIT",ga=0,ha="INIT",ia=0,ja=!1,ka=null,la=!1,ma=null,na=!1,oa=null,pa=!1,qa=null,ra=!1,sa=!1,ta=a.flexzone,ua=null,va=!1,wa=I.flexData,xa=wa.ssaId?wa.ssaId:"ssa_id",ya=wa.ssaName?wa.ssaName:"ssa_name",za=wa.ssaSctId?wa.ssaSctId:"sector_id",Aa=wa.ssaSctName?wa.ssaSctName:"sector_name",Ba=!!wa.virtual&&wa.virtual,Ca={ssaId:xa,sectId:za,ssaName:ya,sectName:Aa,virtual:Ba},Da=G.tagdock.gro(),Ea=s(),Fa=null;F.nbd=function(a){j(a)},F.brken=function(){return sa},F.zoneScene=function(a){d("zone activated ["+ta+" - "+a+"]"),ua=a,"enter"===a&&(va=!0)},F.tick=function(a){!0===va&&(e(a),n(a),k(a),t(a))},G.heartL.subscribe(F.tick,"stg_admgr")}}(0,0,textools),skincalc=function(a){var b=this,c=a.bootParams;b.getSknPrms=function(a,b){var d=0;"unspecified"!==a.rowidx?d=parseInt(a.rowidx):void 0!==a.row&&!0!==isNaN(parseInt(a.row))&&(d=parseInt(a.row)-1);var e=!1;!0===a.shared&&(e=!0);var f=980;"unspecified"!==a.clearance&&(f=parseInt(a.clearance));var g=40;"unspecified"!==a.xmargin&&(g=parseInt(a.xmargin));var h=100;"unspecified"!==a.rowfactor&&(h=parseInt(a.rowfactor));var i=0;if("unspecified"!==a.vertoffset&&(i=parseInt(a.vertoffset)),"adf"===c.ctxId)var j=c.hostBodyHeight,k=c.hostScreenHeight;else var j=c.winInfo.bodyHeight,k=c.winInfo.screenHeight;j<k&&(j=k);var l=k*h/100,m=k*i/100,n=Math.floor(j/l);return{shareable:e,rowIdx:d,clearance:f,xmargin:g,rowHeight:l,vertOff:m,maxRowCnt:n,effMaxRowCnt:b<n?b:n}}},scenelogic=function(args){function _deltalog(a){_comps.logger.writex({msg:a,prefix:"scenelogic",inst:_instnum})}function _getCondSignalObj(a){var b=_condSignals[a];return void 0!==b?b:null}function _getCleanPageUrl(){var a=_bootParams.hostPageUrl;return"string"!=typeof a?null:(a=a.toLowerCase(),0===a.indexOf("https://")?a=a.replace("https://",""):0===a.indexOf("http://")&&(a=a.replace("http://","")),a)}function _refreshInputs(){_winInfo=_cllBks.getWindowInfo(),_scrollInfo=_cllBks.getScrollInfo(),_snippetValues=_cllBks.getSnippetValues(),_eventFlagValues=_cllBks.getEventFlagValues(),_deployedList=_cllBks.getDeployedList(),_contentList=_cllBks.getContentList(),_hoverList=_cllBks.getHoverList(),_clsbtnList=_cllBks.getCloseButtonList(),_mediaReadyList=_cllBks.getMediaReadyList(),_mediaOverList=_cllBks.getMediaOverList()}function _getConditionalSignal(a,b){if(0===_sceneObj[a].length)return b;_refreshInputs();var c=_getVal(_sceneObj[a]);return _deltalog(),"ok"===c.stat?!0===c.val?_sv_yes:_sv_no:c.stat===_sv_undef?_sv_undef:(c.stat,_sv_error)}function _getScrollThreshold(a){var b,c,d,e=a.toLowerCase(),f=!1;return 0===a.indexOf("-")&&(f=!0,e=e.substring(1)),(b=e.indexOf("x"))>=1?(c=e.substring(0,b),d=parseFloat(c)*_winInfo.windowHeight,!0===f&&(d=_scrollInfo.pos.top-d),d):(b=e.indexOf("%"))>=1?(c=e.substring(0,b),d=parseFloat(c)*_scrollInfo.pos.top/100,!0===f&&(d=_scrollInfo.pos.top-d),d):(d=parseFloat(e),!0===f&&(d=_scrollInfo.pos.top-d),d)}function getSnippetValue(a){return null===_snippetValues?null:void 0===_snippetValues[a]?null:_snippetValues[a]}function getEventFlag(a){return null!==_eventFlagValues&&(void 0!==_eventFlagValues[a]&&_eventFlagValues[a])}function _checkPartition(a){return null!==_cllBks.getPartitionObj(a)}function _checkFlagTag(a){return null!==_comps.msghub.getFlagTag(a)}function _checkDeployment(a){var b=args.domElmName;"string"==typeof a&&""!==a&&(b=a);for(var c=0;c<_deployedList.length;c++){var d=_deployedList[c];if(d.entityName===b)return d.deployed}return null}function _checkMediaReady(a){var b=args.domElmName;"string"==typeof a&&""!==a&&(b=a);for(var c=0;c<_mediaReadyList.length;c++){var d=_mediaReadyList[c];if(d.entityName===b)return d.mediaReady}return null}function _checkMediaOver(a){var b=args.domElmName;"string"==typeof a&&""!==a&&(b=a);for(var c=0;c<_mediaOverList.length;c++){var d=_mediaOverList[c];if(d.entityName===b)return d.mediaOver}return null}function _checkHover(a){var b=args.domElmName;"string"==typeof a&&""!==a&&(b=a);for(var c=0;c<_hoverList.length;c++){var d=_hoverList[c];if(d.entityName===b)return d.hover}return null}function _checkClose(a){var b=args.domElmName;"string"==typeof a&&""!==a&&(b=a);for(var c=0;c<_clsbtnList.length;c++){var d=_clsbtnList[c];if(d.entityName===b)return d.hover}return null}function _getVal(sceneFactors){function procFactorStr(a){var b=getMatchingMacroHandler(a);return null===b?{val:null,stat:_sv_error,msg:"no handler for '"+a+"'"}:null===(b=b.handFunc(b.argStr))?{val:null,stat:_sv_undef,msg:"value NA"}:(_deltalog(),{val:b,stat:"ok",msg:""})}function getMatchingMacroHandler(a){for(var b in _macros)if(0===a.indexOf(b))return{handFunc:_macros[b],argStr:a.replace(b,"")};return _deltalog(),null}function compileFactorString(a,b){var c="";return b.forEach(function(b,d){0!==d&&(c+="|"),c+=""+a[b]}),c}var outFactorArray=[],undefIndexes=[],errorIndexes=[];if(sceneFactors.forEach(function(a,b){if(a.length>1){var c=procFactorStr(a);c.stat===_sv_error?(errorIndexes.push(b),outFactorArray.push(_sv_error)):c.stat===_sv_undef?(undefIndexes.push(b),outFactorArray.push(_sv_undef)):outFactorArray.push(c.val)}else outFactorArray.push(a)}),errorIndexes.length>0)return{stat:_sv_error,val:null,msg:compileFactorString(sceneFactors,errorIndexes)};if(undefIndexes.length>0)return{stat:_sv_undef,val:null,msg:compileFactorString(sceneFactors,undefIndexes)};try{var boolExp=outFactorArray.join(""),result;return eval("result = "+boolExp),{stat:"ok",val:1===result||!0===result,msg:""}}catch(a){return{stat:_sv_error,val:null,msg:"excp - "+boolExp}}}function _testScript(a){return _getElementList("script",a).length>0}function _testFrame(a){return _getElementList("iframe",a).length>0}function _testDiv(a){return _getElementList("div",a).length>0}function _getElementList(a,b){var c=[];return _loopThroughElements(a,b,function(a){c.push(a)}),c}function _loopThroughElements(a,b,c){function d(a,b){function c(a,b,c){var d=a.getAttribute(c);if(null===d)return!1;var e=!0;return b.forEach(function(a){d.indexOf(a)<0&&(e=!1)}),e}var d=b.split(".");return!0===c(a,d,"id")||(!0===c(a,d,"class")||!0===c(a,d,"src"))}for(var e=window.document.getElementsByTagName(a),f=0;f<e.length;f++){var g=e[f];!0===d(g,b)&&c(g)}}var that=this,_comps=args.comps,_cllBks=args.cllBks,_bootParams=args.bootParams,_sceneObj=args.scene,_expEventType=args.expctrl.evtType,_expEventStr=args.expctrl.evtKey,_weekDays=["sun","mon","tue","wed","thu","fri","sat"],_sv_yes="yes",_sv_no="no",_sv_undef="undef",_sv_error="error",_condSignals={inst:{defval:_sv_yes,tm:0,lastResp:null},wait1:{defval:_sv_yes,tm:0,lastResp:null},wait2:{defval:_sv_yes,tm:0,lastResp:null},gate1:{defval:_sv_yes,tm:0,lastResp:null},gate2:{defval:_sv_yes,tm:0,lastResp:null},enter:{defval:_sv_yes,tm:0,lastResp:null},xpand:{defval:_sv_no,tm:0,lastResp:null},exit:{defval:_sv_no,tm:0,lastResp:null},unload:{defval:_sv_no,tm:0,lastResp:null}},_instnum=Math.round(999*Math.random()),_winInfo=null,_scrollInfo=null,_snippetValues=null,_eventFlagValues=null,_deployedList=null,_contentList=null,_hoverList=null,_clsbtnList=null,_mediaReadyList=null,_mediaOverList=null,_stepAnchor=0;that.getCondSignal=function(a){var b=Date.now(),c=_getCondSignalObj(a);if(null===c)return _sv_error;if(b-c.tm<200)return c.lastResp;var d=_getConditionalSignal(a,c.defval);return c.tm=b,c.lastResp=d,d},that.signStep=function(){_stepAnchor=Date.now()};var _macros={"#extop_day":function(a){return _comps.expreg_1.getExpCount(_expEventType,_expEventStr,864e5)<parseInt(a)?1:0},"#extop_hour":function(a){return _comps.expreg_1.getExpCount(_expEventType,_expEventStr,36e5)<parseInt(a)?1:0},"#extop_5min":function(a){return _comps.expreg_1.getExpCount(_expEventType,_expEventStr,3e5)<parseInt(a)?1:0},"#prob":function(a){return Math.random()<parseInt(a)/100?1:0},"#bool":function(a){return"1"===a||"true"===a?1:0},"#snippet":function(a){var b=getSnippetValue(a);return!0===b?1:!1===b?0:null},"#snippet_up":function(a){return null},"#snippet_down":function(a){return null},"#event":function(a){var b=getEventFlag(a);return!0===b?1:!1===b?0:null},"#event_up":function(a){return null},"#event_down":function(a){return null},"#deployed":function(a){return!0===_checkDeployment(a)?1:0},"#media_ready":function(a){return!0===_checkMediaReady(a)?1:0},"#media_over":function(a){return!0===_checkMediaOver(a)?1:0},"#partition":function(a){return!0===_checkPartition(a)?1:0},"#flag_tag":function(a){return!0===_checkFlagTag(a)?1:0},"#test_case":function(a){return _bootParams.testCase.toLowerCase()===a.toLowerCase()?1:0},"#test_group":function(a){return parseInt(_bootParams.testGroup)===parseInt(a)?1:0},"#url_starts":function(a){var b=_getCleanPageUrl();return null===b?null:0===b.indexOf(a.toLowerCase())?1:0},"#url_contains":function(a){var b=_getCleanPageUrl();return null===b?null:b.indexOf(a.toLowerCase())>=0?1:0},"#url_maxl":function(a){return void 0===_bootParams.hostPageUrl?null:_bootParams.hostPageUrl.length<=parseInt(a)?1:0},"#url_minl":function(a){return void 0===_bootParams.hostPageUrl?null:_bootParams.hostPageUrl.length>=parseInt(a)?1:0},"#title_contains":function(a){return void 0===_bootParams.hostPageTitle?null:_bootParams.hostPageTitle.toLowerCase().indexOf(a.toLowerCase())>=0?1:0},"#title_maxl":function(a){return void 0===_bootParams.hostPageTitle?null:_bootParams.hostPageTitle.length<=parseInt(a)?1:0},"#title_minl":function(a){return void 0===_bootParams.hostPageTitle?null:_bootParams.hostPageTitle.length>=parseInt(a)?1:0},"#width_more":function(a){return null===_winInfo?null:_winInfo.windowWidth>=parseInt(a)?1:0},"#width_less":function(a){return null===_winInfo?null:_winInfo.windowWidth<parseInt(a)?1:0},"#scroll_more":function(a){return null===_scrollInfo?null:_scrollInfo.pos.abs>=_getScrollThreshold(a)?1:0},"#scroll_less":function(a){return null===_scrollInfo?null:_scrollInfo.pos.abs<_getScrollThreshold(a)?1:0},"#scroll_now":function(a){return null===_scrollInfo?null:!0===_scrollInfo.scrlng?1:0},"#hover":function(a){return!0===_checkHover(a)?1:0},"#close":function(a){return!0===_checkClose(a)?1:0},"#pagetime_before":function(a){return(Date.now()-_bootParams.startTime)/1e3<parseInt(a)?1:0},"#pagetime_after":function(a){return(Date.now()-_bootParams.startTime)/1e3>=parseInt(a)?1:0},"#steptime_before":function(a){return(Date.now()-_stepAnchor)/1e3<parseInt(a)?1:0},"#steptime_after":function(a){return(Date.now()-_stepAnchor)/1e3>=parseInt(a)?1:0},"#week_day":function(a){var b=_weekDays.indexOf(a.toLowerCase());return b<0?null:(new Date).getDay()===b?1:0},"#dayhour_from":function(a){return(new Date).getHour()>=parseInt(a)?1:0},"#dayhour_till":function(a){return(new Date).getHour()<parseInt(a)?1:0},"#find_script":function(a){return!0===_testScript(a)?1:0},"#find_frame":function(a){return!0===_testFrame(a)?1:0},"#find_div":function(a){return!0===_testDiv(a)?1:0}}},barlogix=function(a){var b=this,c="unspecified",d=a.bootParams,e=Date.now(),f="";b.shouldPub=function(a,b){if("object"!==_typeof(a))return"no";if(1===a.length&&"released"===a[0])return"all";if(null===b)return"wait";if("string"!=typeof b.pCode)return"no";if(b.pCode.length<1)return"no";for(var c=0;c<a.length;c++)if(!(a[c].length<1)&&b.pCode===a[c])return"you";return"no"},b.checkEnvCond=function(a,b,f,g,h,i){function j(a){for(var b=0;b<g.length;b++){var c=g[b];if(c.entityName===a)return c.deployed}return null}function k(a){for(var b=0;b<h.length;b++){var c=h[b];if(c.entityName===a)return c.content}return null}function l(a){return null===f?null:void 0===f[a]?null:f[a]}var m={status:"dontknow",msg:""},n=!0;if(null!==b&&null!==f&&(n=!1),!0!==i&&!0===a.pinned)return m.status="go",m.msg="dont_care",m;if(a.delay!==c){var o=Date.now(),p=1e3*parseInt(a.delay);if(o-e<p)return m.status="wait",m}if(!0===i){if(a.ifwidthmore!==c){if(null===b)return m.status="dontknow",m;if(b.windowWidth<parseInt(a.ifwidthmore))return m.status="dontgo",m.msg="avoided_room",m}if(a.ifwidthless!==c){if(null===b)return m.status="dontknow",m;if(b.windowWidth>=parseInt(a.ifwidthless))return m.status="dontgo",m.msg="avoided_room",m}if(a.ifbrowser!==c){var q=d.envInfo.browserName.toLowerCase(),r=a.ifbrowser.toLowerCase();if(q.indexOf(r)<0)return m.status="dontgo",m.msg="avoided_browser",m}if(a.ifnotbrowser!==c){var q=d.envInfo.browserName.toLowerCase(),r=a.ifnotbrowser.toLowerCase();if(q.indexOf(r)>=0)return m.status="dontgo",m.msg="avoided_browser",m}}if("NA"!==f&&void 0!==a.iftrue&&a.iftrue!==c){if(!0===n)return m.status="dontknow",m;var s=a.iftrue,t=l(s);if(null===t)return m.status="dontknow",m;if(!0!==t)return m.status="dontgo",m.msg="avoided_snip",m}if("NA"!==f&&void 0!==a.ifnottrue&&a.ifnottrue!==c){if(!0===n)return m.status="dontknow",m;var s=a.ifnottrue,t=l(s);if(null===t)return m.status="dontknow",m;if(!0===t)return m.status="dontgo",m.msg="avoided_snip",m}if("NA"!==g&&void 0!==a.ifdeployed&&a.ifdeployed!==c){var u=j(a.ifdeployed);if(null===u)return m.status="dontknow",m;if(!0!==u)return m.status="dontgo",m.msg="avoided_link",m}if("NA"!==g&&void 0!==a.ifnotdeployed&&a.ifnotdeployed!==c){var u=j(a.ifnotdeployed);if(null===u)return m.status="dontknow",m;if(!0===u)return m.status="dontgo",m.msg="avoided_link",m}if("NA"!==h&&void 0!==a.ifcontent&&a.ifcontent!==c){var u=k(a.ifcontent);if(null===u)return m.status="dontknow",m;if(!0!==u)return m.status="dontgo",m.msg="avoided_cnt",m}if("NA"!==h&&void 0!==a.ifnotcontent&&a.ifnotcontent!==c){var u=k(a.ifnotcontent);if(null===u)return m.status="dontknow",m;if(!0===u)return m.status="dontgo",m.msg="avoided_cnt",m}if("NA"!==h&&void 0!==a.after&&a.after!==c){var u=k(a.after);return null===u?(m.status="dontknow",m):(m.status="go",m.msg="cond_met",m)}return m.status="go",m.msg="dont_care",m},b.checkReductions=function(a,b){function e(a){for(var b=a.toLowerCase(),c=["sun","mon","tue","wed","thu","fri","sat"],d=0;d<c.length;d++)if(b===c[d])return d;return"NaN"}function g(a,b,c){return b<=c?a>=b&&a<=c:!(a>c&&a<b)}function h(){var b={message:"",go:!1};if(!0===m){var c=!1;if(!0===a.ifcasea&&"A"!==d.testCase&&(c=!0),!0===a.ifcaseb&&"B"!==d.testCase&&(c=!0),!0===c)return b.message="by test case ("+d.testCase+")",b.go=!1,b}if(!0===n){if(!0!==a.ifcase.toLowerCase().indexOf(d.testCase.toLowerCase())>=0)return b.message="by test case ("+d.testCase+")",b.go=!1,b}if(!0===o){if(!0!==a.ifgroup.indexOf(d.testGroup)>=0)return b.message="by test group ("+d.testGroup+")",b.go=!1,b}if(p||q){var f=parseInt(a.fromhour),h=parseInt(a.tohour),i=!1;if((f<0||f>23||"NaN"===f)&&(i=!0),(h<0||h>23||"NaN"===h)&&(i=!0),!1!==i)return b.message="invalid hour interval ( ["+a.fromhour+"-"+a.tohour+"]",b.go=!1,b;if(!0!==g(k,f,h))return b.message="by hour interval ( ["+a.fromhour+"-"+a.tohour+"] : "+k+")",b.go=!1,b}if(r||s){var j=e(a.fromday),x=e(a.today),i=!1;if(null!==j&&"NaN"!==j||(i=!0),null!==x&&"NaN"!==x||(i=!0),!1!==i)return b.message="invalid day interval ( ["+a.fromday+"-"+a.today+"]",b.go=!1,b;if(!0!==g(l,j,x))return b.message="by day interval ( ["+a.fromday+"-"+a.today+"] : "+l+")",b.go=!1,b}return u||t?u&&w?(b.go=!0,b):t&&v?(b.go=!0,b):(b.message="prob:"+a.prob+", vbar:"+a.vbar,b.go=!1,b):(b.go=!0,b)}var i=!0,j=new Date,k=j.getHours(),l=j.getDay(),m=!0===a.ifcasea||!0===a.ifcaseb;!0===a.ifcasea&&a.ifcaseb&&(m=!1);var n=a.ifcase!==c&&void 0!==a.ifcase,o=a.ifgroup!==c&&void 0!==a.ifgroup,p=a.fromhour!==c,q=a.tohour!==c,r=a.fromday!==c,s=a.today!==c,t=!1,u=!1;void 0!==a.vbar&&a.vbar>0&&(t=!0),void 0!==a.prob&&a.prob>0&&(u=!0);var v=!0;t&&b<a.vbar&&(v=!1);var w=!0,x=Math.round(100*Math.random());u&&x>a.prob&&(w=!1);var i=h();return!0===i.go?(x<10&&(x="0"+x),b<10&&(b="0"+b),f="params: ",f+="prob ("+a.prob+":"+x+"), ",f+="vbar ("+a.vbar+":"+b+"), ",f+="fromhour ("+a.fromhour+":"+k+"), ",f+="tohour ("+a.tohour+":"+k+")",f+="fromday ("+a.fromday+":"+l+"), ",f+="today ("+a.today+":"+l+")",!0):(f=i.message,!1)},b.getMessage=function(){return f}},overlaywnd=function(a){function b(){p=Date.now()}function c(){p=0}function d(a,b,c,d){function e(a){var b={left:0,top:0};null!==a&&(b=a.getBoundingClientRect());var c=0,d=0;return"relative"===getComputedStyle(window.document.body).position&&(c=parseInt(getComputedStyle(window.document.body)["margin-left"].replace("px","")),d=parseInt(getComputedStyle(window.document.body)["margin-top"].replace("px",""))),{left:b.left-c,top:b.top-d}}var f=500,g=400,h=80,i=80;!0===c&&(h=0,i=0);var j=e(d),k=window.innerWidth-30,l=window.innerHeight,m=a.getBoundingClientRect(),n=m.left+j.left,o=m.top+j.top,p=n+window.top.pageXOffset+i,q=p+f;!0!==c&&q>window.top.pageXOffset+k&&(q=n+window.top.pageXOffset+m.width-i,p=q-f);var r=o+window.top.pageYOffset+h,s=r+g;!0!==c&&s>window.top.pageYOffset+l&&(s=o+window.top.pageYOffset+m.height-h,r=s-g);var t=14,u=n+window.top.pageXOffset-t,v=o+window.top.pageYOffset-t,w=m.width,x=m.height,y={left:p,top:r,width:f,height:g,highLeft:u,hightTop:v,highWidth:w,highHeight:x,highBorder:t};if(null!==b){var z=b.getBoundingClientRect(),A=z.left+j.left,B=z.top+j.top;y.refshowBorder=14,y.refshowLeft=A+window.top.pageXOffset-y.refshowBorder,y.refshowTop=B+window.top.pageYOffset-y.refshowBorder,y.refshowWidth=z.width,y.refshowHeight=z.height}return y}var e=this,f=a.comps,g=(a.bootParams,a.cllBks,"ovr_"+a.abstrElmID),h=a.domBoxElm,i=a.confined,j=a.refElm,k=a.hostElm,l=999999999,m=0,n=0,o=0,p=Date.now(),q=document.createElement("div");q.id=g,document.body.appendChild(q);var r=document.createElement("div");q.appendChild(r);var s=d(h,j,i,k),t=JSON.stringify(s),u=!1;q.addEventListener("mousemove",b),r.addEventListener("mousemove",b),q.addEventListener("scroll",b),q.addEventListener("mouseleave",c);var v=q.style;v.left=s.left+"px",v.top=s.top+"px",v.minWidth=s.width+"px",v.minHeight=s.height+"px",v.maxWidth=s.width+"px",v.maxHeight=s.height+"px",v.padding="0",v.display="inline-block",v.overflowY="scroll",v.zIndex=""+l,v.position="absolute",v.float="left",v.pointerEvents="auto",v.background="#efefff",v.opacity="0.96",v.border="2px solid #292929",!0===i&&(v.border="0px");var w=r.style;w.width="auto",w.height="auto",w.fontSize="14px",w.padding="14px 8px 14px 8px",w.opacity="1",w.overflow="hidden",w.textOverflow="ellipsis",!0===i&&(w.fontSize="12px",w.padding="8px 4px 8px 4px");var x=document.createElement("div");x.id="highl_"+g,document.body.appendChild(x);var y=x.style;if(y.left=s.highLeft+"px",y.top=s.hightTop+"px",y.width=s.highWidth+"px",y.minWidth=s.highWidth+"px",y.maxWidth=s.highWidth+"px",y.height=s.highHeight+"px",y.minHeight=s.highHeight+"px",y.maxHeight=s.highHeight+"px",y.border=s.highBorder+"px dashed #8888ec",y.display="inline-block",y.zIndex=""+(l-1),y.position="absolute",y.float="left",y.pointerEvents="none",y.background="#e8e8f8",y.opacity="0.6",null!==j){e.refshowElm=document.createElement("div"),e.refshowElm.id="refshow_"+g,document.body.appendChild(e.refshowElm);var z=e.refshowElm.style;z.left=s.refshowLeft+"px",z.top=s.refshowTop+"px",z.width=s.refshowWidth+"px",z.minWidth=s.refshowWidth+"px",z.maxWidth=s.refshowWidth+"px",z.height=s.refshowHeight+"px",z.minHeight=s.refshowHeight+"px",z.maxHeight=s.refshowHeight+"px",z.border=s.refshowBorder+"px dotted #cccc78",z.display="none",z.zIndex=""+(l-2),z.position="absolute",z.float="left",z.pointerEvents="none",z.opacity="0.8"}e.setStrings=function(a){null!==q&&(r.innerHTML=a)},e.tick=function(a){if(null!==j){if(a-n>200){n=a;var b=d(h,j,i,k);JSON.stringify(b)!==t&&(u=!0)}if(a-o>60){o=a,m+=1,m>=10&&(m=0);var c=e.refshowElm.style;c.display=m>=5&&m<=6?"inline-block":"none"}}},e.checkDims=function(){return u},e.isMouseMovg=function(){return Date.now()-p<2e3},e.kill=function(){function a(a){for(var b=0;a.firstChild&&b<1e3;)b++,a.removeChild(a.firstChild)}a(q),document.body.removeChild(q),document.body.removeChild(x),null!==j&&document.body.removeChild(e.refshowElm),f.heartL.unsubscribe(e.tick)},f.heartL.subscribe(e.tick,g),e.tick(Date.now())},dbxcalc=function(args){function _deltalog(a){_comps.logger.writex({msg:a,prefix:"dbxcalc",inst:_instnum})}function _tagLog(a){_comps.logger.writex({tgl:!0,msg:a,prefix:"dbxcalc"})}function _initDomParams(){return{error:!1,msg:"NA",inscode:"",insargs:"",dynZ:null,statTop:!1,visibON:!0,dispON:!0,left:0,top:0,width:_hostWnd.innerWidth,height:_hostWnd.innerHeight,xwidth:_hostWnd.innerWidth,refElm:null,position:"absolute",floatpar:"left",expandable:!1,marginLeft:0,marginRight:0,marginTop:0,marginBottom:0,zLevel:1,overflow:"visible",transition:0,opacity:1,border:"0"}}function _debugPicker(a){if("dev"===_bootParams.env){if("enter"===_debugObject.curSceneCode);if(_debugObject.boxLocus.indexOf("unt_right")>=0);if("sys"===_bootParams.ctxId);if("adf"===_bootParams.ctxId);}}function _getElmDomParams(a,b,c){_debugPicker(c);var d="insertion_not_possible_now ";if("infif"===_refCode)return _getParams_InFif(a,c);a.position="relative",a.expandable=!0,a.floatpar=c.floatpar,a.marginLeft=parseInt(c.marginleft),a.marginRight=parseInt(c.marginright),a.marginTop=parseInt(c.margintop),a.marginBottom=parseInt(c.marginbottom),!0===c.clearcut&&(a.overflow="hidden"),"unspecified"!==c.transition&&(a.transition=parseFloat(c.transition)),"unspecified"!==c.opacity&&(a.opacity=parseFloat(c.opacity));var e={};switch(_effSchema){case"unspecified":if("confined"===_refCode)return _getParams_Confined(a,c);e=_getParams_InPage(b,c);break;case"insect":e=_getParams_InSection(b,c);break;case"screen":e=_getParams_Screen(c);break;case"out_of_page":e=_getParams_OutOfPage(c);break;case"dynskin":e=_getParams_DynSkin(b,c);break;case"zskin":e=_getParams_ZoomSkin(b,c);break;case"edge":e=_getParams_Edge(b,c);break;case"slave":e=_getParams_Slave(b,c);break;default:e.status="error",
e.msg="unknown schema"}if("error"===e.status){var f="ERROR: "+d+" - "+e.msg+" - "+_effSchema;return a.error=!0,a.msg=f,a}a.inscode=e.inscode,a.insargs=e.insarg,a.width=Math.round(e.width),a.height=Math.round(e.height),a.left=Math.round(e.left+c.xoff),a.top=Math.round(e.top+c.yoff),a.xwidth=Math.round(e.xwidth),a.refElm=e.refElm,a.position=e.position,a.expandable=e.expandable,a.statTop=e.statTop;var g=c.xtrim,h=a.width/2*.9;g>=h&&(g=h),g<0&&(g=0);var i=c.ytrim,j=a.height/2*.9;return i>=j&&(i=j),i<0&&(i=0),a.left+=Math.round(g),a.top+=Math.round(i),a.width-=Math.round(2*g),a.height-=Math.round(2*i),void 0!==e.zLevel&&(a.zLevel=e.zLevel),a}function _getParams_Confined(a,b){return a.inscode="confined",a}function _getParams_InFif(a,b){return"auto"!==b.width&&(a.width=parseInt(b.width)),"auto"!==b.height&&(a.height=parseInt(b.height)),a.inscode="infif",a}function _getParams_InSection(a,b){function c(a,b){return{status:"error",msg:"ERROR: "+a+" - "+b}}function d(a,b,c,d){function e(a,b,c,d,e){var f,g,h;if(a/c<=e)return a;for(f=0,h=null;f<10&&(f++,!((g=(a-b*(f-1))/f/c)<d));)if(g>=d&&g<=e){h=g;break}if(null!==h)return Math.round(c*h);var i=(d+e)/2;return Math.round(c*i)}var f,g,h,i=_galleryParams.xspacer,j=_galleryParams.yspacer;if(h=c.getBoundingClientRect(),g="auto"===b.height?h.height-2*j:parseInt(b.height),"unspecified"!==b.yfactor&&(g=g*parseInt(b.yfactor)/100),"unspecified"!==b.maxheight){var k=parseInt(b.maxheight);g>k&&(g=k)}if("unspecified"!==b.minheight){var l=parseInt(b.minheight);g<l&&(g=l)}if(f="fit"===b.width?h.width:"auto"===b.width?e(h.width,i,g,1.15,1.7):parseInt(b.width),"unspecified"!==b.xfactor&&(f=f*parseInt(b.xfactor)/100),"unspecified"!==b.maxwidth){var m=parseInt(b.maxwidth);f>m&&(f=m)}if("unspecified"!==b.minwidth){var n=parseInt(b.minwidth);f<n&&(f=n)}a.width=Math.round(f),a.height=Math.round(g),a.xwidth=Math.round(f+i),a.left=(a.width+i)*d,a.top=(h.height-a.height)/2}function e(a,b,c){var d,e,f;if(f=c.getBoundingClientRect(),e="auto"===b.height?f.height:parseInt(b.height),"unspecified"!==b.yfactor&&(e=e*parseInt(b.yfactor)/100),"unspecified"!==b.maxheight){var g=parseInt(b.maxheight);e>g&&(e=g)}if("unspecified"!==b.minheight){var h=parseInt(b.minheight);e<h&&(e=h)}if(d="auto"===b.width?f.width:parseInt(b.width),"unspecified"!==b.xfactor&&(d=d*parseInt(b.xfactor)/100),"unspecified"!==b.maxwidth){var i=parseInt(b.maxwidth);d>i&&(d=i)}if("unspecified"!==b.minwidth){var j=parseInt(b.minwidth);d<j&&(d=j)}a.width=Math.round(d),a.height=Math.round(e),a.xwidth=Math.round(d),a.left=Math.round(f.left+(f.width-a.width)/2),a.top=Math.round(f.top+(f.height-a.height)/2),a.position="fixed"}var f="could_not_find_reference",g={};g.status="ok",g.msg="NA",g.inscode="",g.insargs="",g.refElm=a,g.position=null,g.expandable=!0,g.statTop=!1;var h={};switch(_effPosition){case"gallery":if(null===g.refElm)return c(f,_effPosition);var i=g.refElm;d(h,b,i,_glryIdx),g.position="absolute",g.inscode="ref_inside_last";break;case"overlay":if(null===g.refElm)return c(f,_effPosition);var i=g.refElm;e(h,b,i),g.position=h.position,g.inscode="ref_inside_last";break;default:if(null===g.refElm)return c(f,_effPosition);var i=g.refElm;_calcDomBoxWidthHeight(h,b,i,_hostWnd,!0),_calcDomBoxLeftTop(h,b,i,_hostWnd),g.position="absolute",g.inscode="ref_inside_last"}return g.left=h.left,g.top=h.top,g.width=h.width,g.height=h.height,g.xwidth=h.xwidth,g}function _getParams_InPage(a,b){function c(a,b){return{status:"error",msg:"ERROR: "+a+" - "+b}}var d,e={},f={},g="could_not_find_reference";switch(e.status="ok",e.msg="NA",e.inscode="",e.insargs="",e.refElm=a,e.position="relative",e.expandable=!0,e.statTop=!1,_effPosition){case"before":if(null===e.refElm)return c(g,_effPosition);d=e.refElm.parentElement,_calcDomBoxWidthHeight(f,b,d,_hostWnd,!0),_calcDomBoxLeftTop(f,b,d,_hostWnd),e.inscode="ref_before";break;case"after":if(null===e.refElm)return c(g,_effPosition);d=e.refElm.parentElement,_calcDomBoxWidthHeight(f,b,d,_hostWnd,!0),_calcDomBoxLeftTop(f,b,d,_hostWnd),e.inscode="ref_after";break;case"ontop":if(null===e.refElm)return c(g,_effPosition);e.expandable=!1,e.statTop=!0,d=e.refElm,_calcDomBoxWidthHeight(f,b,d,_hostWnd,!0),_calcDomBoxLeftTop(f,b,d,_hostWnd,!0,!1),e.position=f.position,e.inscode="ref_ontop";break;case"inlist":if(null===e.refElm)return c(g,_effPosition);d=e.refElm,_calcDomBoxWidthHeight(f,b,d,_hostWnd,!0),_calcDomBoxLeftTop(f,b,d,_hostWnd),e.inscode="ref_in_list",e.insargs=b.index;break;case"unspecified":if(e.expandable=!1,null===e.refElm)return c(g,_effPosition);d=e.refElm.parentElement,_calcDomBoxWidthHeight(f,b,d,_hostWnd,!0),_calcDomBoxLeftTop(f,b,d,_hostWnd),f.left=0,f.top=0,e.inscode="after_tag";break;case"first":if(null===e.refElm)return c(g,_effPosition);d=e.refElm,_calcDomBoxWidthHeight(f,b,d,_hostWnd,!1),_calcDomBoxLeftTop(f,b,d,_hostWnd),e.inscode="ref_inside_first";break;case"afterfirst":if(null===e.refElm)return c(g,_effPosition);d=e.refElm,_calcDomBoxWidthHeight(f,b,d,_hostWnd,!1),_calcDomBoxLeftTop(f,b,d,_hostWnd),e.inscode="ref_inside_after_first";break;case"last":if(null===e.refElm)return c(g,_effPosition);d=e.refElm,_calcDomBoxWidthHeight(f,b,d,_hostWnd,!1),_calcDomBoxLeftTop(f,b,d,_hostWnd),e.inscode="ref_inside_last";break;case"beforelast":if(null===e.refElm)return c(g,_effPosition);d=e.refElm,_calcDomBoxWidthHeight(f,b,d,_hostWnd,!1),_calcDomBoxLeftTop(f,b,d,_hostWnd),e.inscode="ref_inside_before_last";break;default:return c("unknown position",_effPosition)}return e.left=f.left,e.top=f.top,e.width=f.width,e.height=f.height,e.xwidth=f.xwidth,e}function _getParams_DynSkin(a,b){function c(a,b){a.left=0,a.width=_hostWnd.document.body.clientWidth,a.top=0,a.height=_hostWnd.innerHeight;var c=parseInt(b.width);!1===isNaN(c)&&(a.width=c,a.left=(_hostWnd.document.body.clientWidth-c)/2);var d=parseInt(b.height);!1===isNaN(d)&&(a.height=d)}function d(a,b,c,d){var e,f,g,h,i,j,k,l={status:"ok",msg:"NA"},m=_hostWnd.document.body.clientWidth,n=_hostWnd.innerHeight,o=!1;if(null!==c)i=c.getBoundingClientRect();else{var p=1e3;i={},i.left=(m-p)/2,i.top=100,i.width=p,i.height=n}var q=_parseDimArgumentCompx(b.width,b.height,i,m,n);if(null===q)return l.status="error",l.msg="cannot interpret specified dims",l;switch(j=q.width,k=q.height,e=j,f=k,null!==c&&("width"===b.dimsync?f=e*(k/j):"height"===b.dimsync&&(e=f*(j/k))),d){case"right":g=i.right,h=0;break;case"left":g=i.left-e,h=0;break;case"top":g=i.left+(i.right-i.left-e)/2,h=0;break;default:return l.status="error",l.msg="cannot interpret specified position ["+d+"]",l}return!0===o&&(g+=window.pageXOffset,h+=window.pageYOffset),a.width=Math.round(e),a.height=Math.round(f),a.left=Math.round(g),a.top=Math.round(h),l}var e={},f={};if(f.status="ok",f.msg="NA",f.inscode="",f.insargs="",f.refElm=a,f.position="fixed",f.expandable=!1,f.statTop=!1,"background"===_effPosition)c(e,b),f.position="fixed",f.inscode="body_first";else{f.inscode=!0===_twin?"body_last":"body_first";var g=d(e,b,f.refElm,_effPosition);if("ok"!==g.status)return f.status="error",f.msg=g.msg,f}return null!==_newSkinInfo&&(!0===_newSkinInfo.newItem[2]?(_curScrollStatus=!0,_curAbsoluteOffset=_newSkinInfo.newItem[1]):(_curScrollStatus=!1,_curAbsoluteOffset=_newSkinInfo.newItem[1]),_newSkinInfo=null),!0===_curScrollStatus&&(f.position="absolute"),f.left=e.left,f.top=e.top+_curAbsoluteOffset,f.width=e.width,f.height=e.height,f}function _getParams_ZoomSkin(a,b){function c(a,b,c){var d,e,f,g,h,i,j,k,l,m=_hostWnd.document.body.clientWidth;_hostWnd.innerHeight;e=1,f=0,g=0,i=0,h=parseInt(c.width),!0===isNaN(h)&&(h=_hostWnd.document.body.clientWidth),j=parseInt(c.height),!0===isNaN(j)&&(j=_hostWnd.innerHeight),k=c.zskn_focalh,!0===isNaN(parseInt(k))&&(k=_zs_defFocalHeight),l=c.zskn_corew,!0===isNaN(parseInt(l))&&(l=_zs_defCoreWidth),d=null!==b?b.offsetWidth:.7*m,e=1+(d/l-1)*_zs_ZoomStrength,g=(m-h)/2,"new"===_calMethod?(f=(j/2-k/20)*(1-e),i=-f):(f=(j/2-k/_zs_focalFactor)*(1-e),i=-f+_zs_yOff+e*_zs_yRate),a.width=h,a.height=j,a.left=g,a.top=i,a.zLevel=e}var d={},e={};e.status="ok",e.msg="NA",e.inscode="",e.insargs="",e.refElm=a,e.position="fixed",e.expandable=!1,e.statTop=!1,c(d,a,b),e.position="fixed",e.inscode="body_first";return null!==_newSkinInfo&&(!0===_newSkinInfo.newItem[2]?(_curScrollStatus=!0,_curAbsoluteOffset=_newSkinInfo.newItem[1]):(_curScrollStatus=!1,_curAbsoluteOffset=_newSkinInfo.newItem[1]),_newSkinInfo=null),!0===_curScrollStatus&&(e.position="absolute"),e.left=d.left,e.top=d.top+_curAbsoluteOffset,e.width=d.width,e.height=d.height,e.zLevel=d.zLevel,e}function _getParams_Edge(a,b){function c(a,b,c,d){var e,f,g,h,i,j,k,l={status:"ok",msg:"NA"},m=_hostWnd.document.body.clientWidth,n=_hostWnd.innerHeight,o=.45*m,p=.8*n;i={left:(m-o)/2,right:(m-o)/2+o,width:o,top:(n-p)/2,bottom:(n-p)/2+p,height:p},null!==c&&(i=c.getBoundingClientRect());var q=_parseDimArgumentCompx(b.width,b.height,i,m,n);if(null===q)return l.status="error",l.msg="cannot interpret specified dims",l;switch(j=q.width,k=q.height,e=j,f=k,"width"===b.dimsync?f=e*(k/j):"height"===b.dimsync&&(e=f*(j/k)),d){case"right":g=m-e,h=(n-f)/2;break;case"left":g=0,h=(n-f)/2;break;case"top":g=(m-e)/2,h=0;break;case"bottom":g=(m-e)/2,h=n-f;break;case"center":g=(m-e)/2,h=(n-f)/2;break;case"right_bottom":g=m-e-10,h=n-f-30;break;default:return l.status="error",l.msg="cannot interpret specified position ["+d+"]",l}var q=_calcSnapOptions(b,d,i,g,h,e,f);return g=q.boxLeft,h=q.boxTop,a.width=Math.round(e),a.height=Math.round(f),a.left=Math.round(g),a.top=Math.round(h),l}var d={};d.status="ok",d.msg="NA",d.inscode="",d.insargs="",d.refElm=a,d.position="fixed",d.expandable=!1,d.statTop=!1;var e={};d.inscode="body_last";var f=c(e,b,d.refElm,_effPosition);return"ok"!==f.status?(d.status="error",d.msg=f.msg,d):(d.left=e.left,d.top=e.top,d.width=e.width,d.height=e.height,d)}function _getParams_Slave(a,b){function c(a,b,c,d){var e={status:"ok",msg:"NA"};if(null===c)return e.status="error",e.msg="no master",e;var f,g,h,i,j=(_hostWnd.document.body.clientWidth,_hostWnd.innerHeight,c.getBoundingClientRect());if(f=parseInt(b.width),!0===isNaN(f)){if("auto"!==b.width)return e.status="error",e.msg="width",e;f=j.width}if(g=parseInt(b.height),!0===isNaN(g)){if("auto"!==b.height)return e.status="error",e.msg="height",e;g=j.height}switch(d){case"left":i=j.top,h=j.left-f;break;case"right":i=j.top,h=j.right;break;case"top":i=j.top-g,h=j.left;break;case"bottom":i=j.bottom,h=j.left;break;default:return e.status="error",e.msg="cannot interpret specified position ["+d+"]",e}return a.width=Math.round(f),a.height=Math.round(g),a.left=Math.round(h),a.top=Math.round(i),e}var d={};d.status="ok",d.msg="NA",d.inscode="",d.insargs="",d.refElm=a,d.position="fixed",d.expandable=!1,d.statTop=!1;var e={};d.inscode="body_last";var f=c(e,b,d.refElm,_effPosition);return"ok"!==f.status?(d.status="error",d.msg=f.msg,d):(d.left=e.left,d.top=e.top,d.width=e.width,d.height=e.height,d)}function _getParams_Screen(a){var b,c=0,d=0,e=0,f=0,g=0,h=_hostWnd.document.body.clientWidth,i=_hostWnd.innerHeight,j=(h-_skinParams.clearance)/2,k=0,l={};_calcDomBoxWidthHeight(l,a,null,_hostWnd,!0),c=l.width,d=l.height;var m={};switch(m.status="ok",m.msg="NA",m.inscode="",m.insargs="",m.refElm=null,m.position="fixed",m.expandable=!0,m.statTop=!1,_effPosition){case"left":if(m.inscode="body_last",g=(i-d)/2,m.position="fixed",g+d,j-(c+_skinParams.xmargin)>=0){f=j-_skinParams.xmargin,e=f-c;break}if((b=j-c)>0){f=j-b,e=f-c;break}e=j-c,f=j;break;case"right":if(m.inscode="body_last",g=(i-d)/2,m.position="fixed",g+d,j-(c+_skinParams.xmargin)>=0){e=h-j+_skinParams.xmargin,f=e+c;break}if((b=j-c)>0){e=h-j+b,f=e+c;break}e=h-j,f=e+c;break;case"center":m.inscode="body_last",g=(i-d)/2,m.position="fixed",g+d,e=(h-c)/2,f=e+c;break;case"top":m.inscode="body_last",g=0+k+_skinParams.vertOff,m.position="fixed",g+d,e=(h-c)/2,f=e+c;break;case"bottom":m.inscode="body_last",g=i-k-d,m.position="fixed",g+d,e=(h-c)/2,f=e+c;break;case"topleft":m.inscode="body_last",g=0+k+_skinParams.vertOff,m.position="fixed",g+d,e=k,f=e+c;break;case"topright":m.inscode="body_last",g=0+k+_skinParams.vertOff,m.position="fixed",g+d,e=window.document.body.clientWidth-k-c,f=e+c;break;case"botleft":m.inscode="body_last",g=i-k-d,m.position="fixed",g+d,e=k,f=e+c;break;case"botright":m.inscode="body_last",g=i-k-d,m.position="fixed",g+d,e=window.document.body.clientWidth-k-c,f=e+c;break;default:return m.status="error",m.msg="unknown position - "+_effPosition,m}return m.left=e,m.top=g,m.width=c,m.height=d,m.xwidth=c,m}function _getParams_OutOfPage(a){var b,c=0,d=0,e=0,f=0,g=0,h=_hostWnd.document.body.clientWidth,i=(_hostWnd.innerHeight,(h-_skinParams.clearance)/2),j={};_calcDomBoxWidthHeight(j,a,null,_hostWnd,!0),c=j.width,d=j.height;var k={};switch(k.status="ok",k.msg="NA",k.inscode="",k.insargs="",k.refElm=null,k.position="fixed",k.expandable=!0,k.statTop=!1,_effPosition){case"left":if(k.inscode="body_last",g=_skinParams.rowIdx*_skinParams.rowHeight+(_skinParams.rowHeight-d)/2+_skinParams.vertOff,k.position="absolute",g+d,i-(c+_skinParams.xmargin)>=0){f=i-_skinParams.xmargin,e=f-c;break}if((b=i-c)>0){f=i-b,e=f-c;break}e=i-c,f=i;break;case"right":if(k.inscode="body_last",g=_skinParams.rowIdx*_skinParams.rowHeight+(_skinParams.rowHeight-d)/2+_skinParams.vertOff,k.position="absolute",g+d,i-(c+_skinParams.xmargin)>=0){e=h-i+_skinParams.xmargin,f=e+c;break}if((b=i-c)>0){e=h-i+b,f=e+c;break}e=h-i,f=e+c;break;default:return k.status="error",k.msg="unknown position - "+_effPosition,k}return k.left=e,k.top=g,k.width=c,k.height=d,k.xwidth=c,k}function _calcSnapOptions(a,b,c,d,e,f,g){var h=_hostWnd.document.body.clientWidth,i=_hostWnd.innerHeight,j=c.right-c.left,k=.7*i,l=.05*j,m=.05*k,n=20,o=10,p=h/2,q=i/2,r=d,s=e;if("midpnt"===a.xsnap)switch(b){case"left":r=p-f;break;case"right":r=p}else if("fringe"===a.xsnap)switch(b){case"left":r=c.left-f-n;break;case"right":r=c.right+n}else if("wide"===a.xsnap)switch(b){case"left":r=c.left-f-n-l;break;case"right":r=c.right+n+l}else if("halfout"===a.xsnap)switch(b){case"left":r=0-f/2;break;case"right":r=h-f/2}else if("out"===a.xsnap)switch(b){case"left":r=0-f;break;case"right":r=h}if("midpnt"===a.ysnap)switch(b){case"top":s=q-g;break;case"bottom":s=q}else if("susp"===a.ysnap)switch(b){case"top":s=0+o;break;case"bottom":s=i-g-o}else if("wide"===a.ysnap)switch(b){case"top":s=0+o-m;break;case"bottom":s=i-g-o+m}else if("halfout"===a.ysnap)switch(b){case"top":s=0-g/2;break;case"bottom":s=i-g/2}else if("out"===a.ysnap)switch(b){case"top":s=0-g;break;case"bottom":s=i}return{boxLeft:r,boxTop:s}}function _parseDimArgumentCompx(widthForm,heightForm,masterRect,frameWidth,frameHeight){function evalWidth(a,b,c,d,e,f,g){try{var h=evalFormula(a,void 0,d,e,f,g);if(null!==b){if(null===(effWidth_min=evalFormula(b,h,d,e,f,g)))throw{msg:"min width"};h<effWidth_min&&(h=effWidth_min)}if(null!==c){if(null===(effWidth_max=evalFormula(c,h,d,e,f,g)))throw{msg:"max width"};h>effWidth_max&&(h=effWidth_max)}return h}catch(a){}return null}function evalHeight(a,b,c,d,e,f,g){try{var h=evalFormula(a,d,void 0,e,f,g);if(null!==b){if(null===(effHeight_min=evalFormula(b,d,h,e,f,g)))throw{msg:"min height"};h<effHeight_min&&(h=effHeight_min)}if(null!==c){if(null===(effHeight_max=evalFormula(c,d,h,e,f,g)))throw{msg:"max height"};h>effHeight_max&&(h=effHeight_max)}return h}catch(a){}return null}function evalFormula(formula,width,height,masterRect,frameWidth,frameHeight){var auxStr=""+formula;try{auxStr=auxStr.replace("width",width),auxStr=auxStr.replace("height",height),auxStr=auxStr.replace("refw",masterRect.width),auxStr=auxStr.replace("refh",masterRect.height),auxStr=auxStr.replace("frmw",frameWidth),auxStr=auxStr.replace("frmh",frameHeight);var result;if(eval("result = "+auxStr),!1===isNaN(result))return result}catch(a){}return null}function threeDecs(a){return Math.round(1e3*a)/1e3}var widthFormula=""+widthForm,heightFormula=""+heightForm,effWidth,effHeight,effWidth_min,effHeight_min,effWidth_max,effHeight_max,auxArray,widthspec=widthFormula,widthspec_min=null,widthspec_max=null;widthFormula.indexOf("[")>0&&(auxArray=widthFormula.split("["),widthspec=auxArray[0],auxArray=auxArray[1].split("]"),auxArray=auxArray[0].split("|"),widthspec_min=auxArray[0],widthspec_max=auxArray[1]);var heightspec=heightFormula,heightspec_min=null,heightspec_max=null;return heightFormula.indexOf("[")>0&&(auxArray=heightFormula.split("["),heightspec=auxArray[0],auxArray=auxArray[1].split("]"),auxArray=auxArray[0].split("|"),heightspec_min=auxArray[0],heightspec_max=auxArray[1]),effWidth=evalWidth(widthspec,widthspec_min,widthspec_max,void 0,masterRect,frameWidth,frameHeight),effHeight=evalHeight(heightspec,heightspec_min,heightspec_max,effWidth,masterRect,frameWidth,frameHeight),null!==effWidth&&null!==effHeight||(effHeight=evalHeight(heightspec,heightspec_min,heightspec_max,void 0,masterRect,frameWidth,frameHeight),effWidth=evalWidth(widthspec,widthspec_min,widthspec_max,effHeight,masterRect,frameWidth,frameHeight)),null===effWidth||null===effHeight?null:{width:threeDecs(effWidth),height:threeDecs(effHeight)}}function _calcDomBoxWidthHeight(a,b,c,d,e){var f,g,h={status:"error",msg:"NA"},i=_hostWnd.document.body.clientWidth,j=_hostWnd.innerHeight;a.width=0,a.height=0;var k={width:i,height:j};if(null!==c){var l=window.getComputedStyle(c,null);k.width=parseInt(l.getPropertyValue("width").replace("px","")),k.height=parseInt(l.getPropertyValue("height").replace("px","")),0!==b.xoff&&(k.width=c.clientWidth,k.height=c.clientHeight)}f=k.width,g=k.height;var m=_parseDimArgumentCompx(b.width,b.height,k,i,j);if(null!==m)f=m.width,g=m.height;else{if("auto"===b.width)f=k.width;else if(f=parseInt(b.width),!0===isNaN(f))return h.msg="cannot interpret width spec",h;if("auto"===b.height&&!0===e)g=k.height,"unspecified"!==b.yfraction?g=Math.round(g*parseInt(b.yfraction)/100):"unspecified"!==b.formfactor&&(g=f*parseInt(b.formfactor)/100);else if(g=parseInt(b.height),!0===isNaN(g))return h.msg="cannot interpret height spec",h}if("unspecified"!==b.xfactor&&(f=f*parseInt(b.xfactor)/100),"unspecified"!==b.maxwidth){var n=parseInt(b.maxwidth);f>n&&(f=n)}if("unspecified"!==b.minwidth){var o=parseInt(b.minwidth);f<o&&(f=o)}if("unspecified"!==b.yfactor&&(g=g*parseInt(b.yfactor)/100),"unspecified"!==b.maxheight){var p=parseInt(b.maxheight);g>p&&(g=p)}if("unspecified"!==b.minheight){var q=parseInt(b.minheight);g<q&&(g=q)}return a.width=Math.round(f),a.height=Math.round(g),a.xwidth=a.width,h.status="ok",h}function _calcDomBoxLeftTop(a,b,c,d,e,f){var g,h,i,j={status:"error",msg:"NA"};a.left=0,a.top=0,a.position="x";var k=c.getBoundingClientRect();if(k.width=c.clientWidth,k.height=c.clientHeight,g=k.left,h=k.top,i="x",!0===e)if(!0===f)i="fixed";else{var l=0,m=0;"relative"===getComputedStyle(window.document.body).position&&(l=parseInt(getComputedStyle(window.document.body)["margin-left"].replace("px","")),m=parseInt(getComputedStyle(window.document.body)["margin-top"].replace("px",""))),g=(k.width-a.width)/2+k.left+(window.pageXOffset-l),h=(k.height-a.height)/2+k.top+(window.pageYOffset-m),i="absolute"}else{switch(b.xalign){case"left":g=0;break;case"center":g=(k.width-a.width)/2;break;case"right":g=k.width-a.width;break;default:g=0}switch(b.yalign){case"top":h=0;break;case"center":h=(k.height-a.height)/2;break;case"bottom":h=k.height-a.height;break;default:h=0}}return a.left=Math.round(g),a.top=Math.round(h),a.position=i,j}var that=this,_zs_ZoomStrength=.95,_zs_yOff=-4,_zs_yRate=-10,_zs_focalFactor=2,_zs_defFocalHeight=90,_zs_defCoreWidth=970,_calMethod="iol",_comps=args.comps,_cllBks=args.cllBks,_bootParams=args.bootParams,_instnum=Math.round(999*Math.random());_deltalog();var _effSchema=args.effSchema,_effPosition=args.effPosition,_hostWnd=args.hostWnd,_refCode=args.refCode,_skinParams=args.skinParams,_galleryParams=args.galleryParams,_glryIdx=args.glryIdx,_twin=args.twin,_debugObject=args.debugObject,_newSkinInfo=null,_curScrollStatus=!1,_curAbsoluteOffset=0;that.initDomParams=function(){return _initDomParams()},that.getElmDomParams=function(a,b,c){return _getElmDomParams(a,b,c)},that.sknScrl=function(a){_newSkinInfo=a}},dombox=function(a,b,c,d,e){return function(f){function g(a){T.logger.writex({msg:a,prefix:"dombox - "+_+" - box:"+fa,inst:ha})}function h(a){T.logger.writex({tgl:!0,msg:a,prefix:"msghub"})}function i(a,b,c){T.trackhub.sendEvent("stgexec","dombox/${"+X+"|*AllPlcmts*}$/"+a,b,c)}function j(){if("dynskin"===wa){var a=Date.now();a-Da<100||S.tick(a)}}function k(){ta.removeEventListener("scroll",j),ta.removeEventListener("unload",k)}function l(a){var b=ia.parseEncJSONData(a.default);null===b&&(b={});var c=ia.parseEncJSONData(a.dynamic);return null===c&&(c={}),ia.objxt(b,c)}function m(a){return!1}function n(a,b){W(a,b)}function o(a){return"restr"===a||"refless"!==a&&("confined"!==a&&("infif"!==a&&"dref"!==a))}function p(a,b){function c(a,b,c){var d=b;return null!==c&&(d=c),a.document.getElementById(d)}function d(a,b){return b>=a.length?null:a[b]}function e(a,b){function c(a,b){function c(a,b){var c=!1;return a.forEach(function(a){a===b&&(c=!0)}),c}var d=!0,e=""+a.className,f=e.split(" ");return b.forEach(function(a){!0!==c(f,a)&&(d=!1)}),d}for(var d=[],e=""+b,f=e.split(" "),g=0;g<a.length;g++){var h=a[g];!0===c(h,f)&&d.push(h)}return d}function g(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d],f=e.id;"string"==typeof f&&(""!==f&&f.indexOf(b)>=0&&c.push(e))}return c}if("refless"===a)return null;if("confined"===a)return null;if("infif"===a)return null;if("restr"===a)return f.trgDomElm;if("aref"===a)return null;if("pref"===a)return null;if("dref"===a)return c(ta,f.targetTagId,va);if(void 0===b.refcls)return null;if(void 0===b.refid)return null;if(void 0===b.refidx)return null;var h=!1;"unspecified"!==b.refcls&&(h=!0);var i=!1;"unspecified"!==b.refid&&(i=!0);var j=!1;"unspecified"!==b.refidx&&(j=!0);var k=ta.document.getElementsByTagName("*");if(!0===h){var l=b.refcls.replace(/\./g," "),m=e(k,l);if(1===m.length)return m[0];if(!0===i){var n=g(m,b.refid);return 1===n.length?n[0]:null}return!0===j?d(m,b.refidx):null}if(!0===i){var o=g(k,b.refid);return 1===o.length?o[0]:!0===j?d(o,b.refidx):null}return null}function q(a){function b(a){function b(a){var b=0;return JSON.stringify(a,function(a,c){switch(_typeof(c)){case"object":return b++,b>1?"{}":c;case"string":case"boolean":case"number":return c}})}var c=b(a);if(c!==Qa)return Qa=c,!0;var d=JSON.stringify(V.getWindowInfo());return d!==fb&&(fb=d,!0)}if(a-Ta<200)return!1;if(Ta=a,ya!==za&&n(!0===ya?"visibOn":"visibOff"),za=ya,null!==Ia&&null!==jb&&!0===Za){var c=H(gb,ja);if(!0===c.domElmParams.error)return!1;Pa=c.domElmParams,!0===b(Pa)&&(g(),n("dimchange",{width:Pa.width,height:Pa.coreH}),D("chklp"))}}function r(){T.domdock.findElm({xpath:ja.refpath,strings:ja.refchecks,xtnCode:da,repPos:!0,repNeg:!0,callback:function(a){hb=a}})}function s(){ib=T.domdock.getAnchElm(ja.refanchor)}function t(){var a=V.getStageItemId(ja.master_id);return ta.document.getElementById(a)}function u(b){function c(){return"out_op_page"!==wa&&"screen"!==wa||la.rowIdx<la.maxRowCnt}function d(){var a="";return a+="refpath: '"+ja.refpath+"'",a+="refcls: '"+ja.refcls+"'",a+=" - refid: '"+ja.refid+"'",a+=" - refidx: '"+ja.refidx+"'"}function e(a){function b(a){a.forEach(function(a){ya=!0===a.isIntersecting})}if(void 0===window.IntersectionObserver)return null;var c=.5;!0===ja.allview&&(c=.01);var d=new window.IntersectionObserver(b,{threshold:c});return d.observe(a),d}switch(Wa){case"INIT":if("noref"===(jb=A(ja))){Xa="no_reference_case",n("lcherr_ex",{msg:Xa+" - ("+d()+")"}),g(),Wa="PARK";break}Ha=w(),Ga=v(),"aref"===jb&&s(),"pref"===jb&&r(),Ya=b,Wa="WAIT_LOOP";case"WAIT_LOOP":if(!1!==m(b))break;if(b-Ya>a.stage.orderTimeout){Xa="reference_timeout",n("lcherr_to",{msg:Xa+" - ("+d()+")"}),g(),Wa="PARK";break}if(null===(gb="slave"===jb?t():"aref"===jb?ib:"pref"===jb?hb:p(jb,ja))&&!0===o(jb))break;var f=H(gb,ja);if(!0===f.domElmParams.error){Xa=f.domElmParams.msg,n("lcherr_to",{msg:Xa+" - ("+d()+")"}),g(),Wa="PARK";break}if(!0!==c()){n("lchwrn_noroom",{msg:"no_room - (id: "+_+")"}),g(),Wa="PARK";break}Pa=f.domElmParams;var f=G(f.domElmParams,ja);if("ok"!==f.status){Xa=f.msg,n("lcherr_ex",{msg:Xa+" - ("+d()+")"}),g(),Wa="PARK";break}Ia=f.domBoxElm,Ja=f.headElm,Ka=f.coreElm,La=f.footElm,Wa="WROK";case"WROK":if(!1!==m(b))break;D("lnchpr"),n("dimchange",{width:Pa.width,height:Pa.coreH}),Ia.addEventListener("mouseenter",function(){pb=!0,x()}),Ia.addEventListener("mouseleave",function(){pb=!1,x()}),Ka.addEventListener("scroll",function(){y()}),Ia.addEventListener("unload",function(){z()}),Aa=e(Ia),Ca=M(),n("lchok",{upper:Ca}),g(),Za=!0,Wa="PARK"}}function v(){return new b({master:S,comps:T,cllBks:V,bootParams:U,effSchema:wa,effPosition:xa,hostWnd:ta,refCode:jb,skinParams:la,galleryParams:na,glryIdx:oa,twin:ga,debugObject:Ha})}function w(){var a;return"dev"!==U.env?"NA":(a={curSceneCode:bb,boxLocus:ca,boxType:ea,effSchema:wa,effPosition:xa,attributes:ja,isAdFrame:qa,insInFIF:ra,hostElm:sa,hostWnd:ta,restrLoc:ua,visibNow:ya,originTagId:va},_defineProperty(a,"originTagId",va),_defineProperty(a,"originTagId",va),_defineProperty(a,"adfrm_vars",U.adfrm_vars),_defineProperty(a,"confined",U.confined),_defineProperty(a,"ctxId",U.ctxId),_defineProperty(a,"hostPageUrl",U.hostPageUrl),_defineProperty(a,"hostPlcmId",U.hostPlcmId),_defineProperty(a,"placementId",U.placementId),_defineProperty(a,"qsParams",U.qsParams),_defineProperty(a,"screenHeight",U.screenHeight),_defineProperty(a,"screenWidth",U.screenWidth),_defineProperty(a,"testCase",U.testCase),_defineProperty(a,"testGroup",U.testGroup),_defineProperty(a,"versionTag",U.versionTag),a)}function x(){!0===pb?(n("hoverOn"),kb=Date.now()):(n("hoverOff"),kb=0)}function y(){n("scrl",{xpos:Ka.scrollLeft,xwidth:Pa.xwidth})}function z(){Ia.removeEventListener("mouseenter",x),Ia.removeEventListener("mouseleave",x),Ka.removeEventListener("scroll",y),Ia.removeEventListener("unload",z)}function A(a){function b(){return void 0!==a.refcls&&(void 0!==a.refid&&(void 0!==a.refidx&&("unspecified"!==a.refid||"unspecified"!==a.refcls)))}function c(){return void 0!==a.refanchor&&"unspecified"!==a.refanchor}function d(){return void 0!==a.refpath&&"unspecified"!==a.refpath}return"slave"===wa?"slave":"insect"===wa?"restr":"out_of_page"===wa||"screen"===wa?"refless":!0===ra?"infif":!0===c()?"aref":!0===d()?"pref":!0===b()?"xref":!0===pa?"confined":f.targetTagId.length>0?"dref":"noref"}function B(a){$a=a}function C(a){null!==$a&&(a-_a<200||!1===m(a)&&(D($a),$a=null,_a=a))}function D(a){function b(a){function b(a,b){var c={};for(var d in a)c[d]=a[d];if(void 0!==b)for(var d in b)c[d]=b[d];return c}var c;switch(a){case"init":c=b(ja,ka.init);break;case"enter":c=b(ja,ka.enter);break;case"xpand":c=b(ja,ka.xpand);break;case"exit":c=b(ja,ka.exit);break;default:return null}var d=H(gb,c);return!0===d.domElmParams.error?null:d.domElmParams}function c(a){var b="";for(var c in a)void 0!==a[c]&&(b+=c+":"+a[c]+"; ");return b}function d(a,b){var c=parseInt(f.zindex);return!0===isNaN(c)&&(c=null),!0===a||!0===b?null!==c?c+1:"sys"===U.ctxId?"999999":1:"overlay"===xa||!1===b?null!==c?c-1:"sys"===U.ctxId?"-999999":-1:null!==c?c:null}function e(a,b){var c="slide_from_bot",d="slide_from_right",e="fade_in",f=ja.fxin;f===c&&(a.transition="top 1.5s linear"),f===d&&(a.transition="left 1.5s linear"),f===e&&(a.transition="opacity 1.5s linear"),"size_in"===f&&(a.transition="width 1.5s linear");var h=b.width,i=b.height,j=b.top,k=b.left,l=b.opacity;ab=!0;var m=!1;"init"===bb&&(!0===ja.expand?m=!0:!0===ja.showonenter&&(ab=!1)),"exit"===bb&&(!0===ja.compress?m=!0:!0===ja.showonenter&&(ab=!1)),!0===m&&(g(),h=1,i=1,f===c&&(j=U.winInfo.windowHeight+100),f===d&&(k=U.winInfo.windowWidth+100),f===e&&(l=.01)),a.opacity=l,a.top=j+"px",a.left=k+"px",a.width=h+"px",a["min-width"]=h+"px",a["max-width"]=h+"px",a.height=i+"px",a["min-height"]=i+"px",a["max-height"]=i+"px"}function h(a,b,c,d){var e="visible",f="visible";!0===qa?(e="hidden",f="hidden"):"sec"===ea&&!0===ub&&(e="scroll",f="hidden"),b["overflow-x"]=e,b["overflow-y"]=f,b["scroll-snap-type"]="sec"===ea&&!0===ub&&!0!==d?"x mandatory":"none","unt"===ea&&!0===ub&&("auto"===vb&&(vb="start"),a["scroll-snap-align"]=vb)}function i(a,b,c,d){a.position="absolute",a.top=0,a.overflow="hidden",a.width=d.width+"px",a.height=d.headY+"px",a["background-color"]="#a0c0f0",b.position="absolute",b.overflow="hidden",b.width=d.width+"px",b.left="0px",b.height=d.coreH+"px",b.top=d.headY+"px",c.position="absolute",c.bottom=0,c.overflow="hidden",c.width=d.width+"px",c.height=d.footY+"px",c["background-color"]="#f0e0d0"}if(null!==Ia){if(!1!==eb)return void(Ia.style.cssText="display : none; ");var j=b(bb),k={},l={},m={},o={};k.left=j.left+"px",k.top=j.top+"px",k.position=j.position,k.visibility=!0===j.visibON?"visible":"hidden",k.display=!0===j.dispON?"block":"none",k["margin-left"]=j.marginLeft+"px",k["margin-right"]=j.marginRight+"px",k["margin-top"]=j.marginTop+"px",k["margin-bottom"]=j.marginBottom+"px",k.padding="0px",k.border=j.border,k.float=j.floatpar,k.overflow=j.overflow,k["transition-duration"]=j.transition+"s",k.opacity=j.opacity,k.top=j.top+"px",k.left=j.left+"px",k.width=j.width+"px",k["min-width"]=j.width+"px",k["max-width"]=j.width+"px",k.height=j.height+"px",k["min-height"]=j.height+"px",k["max-height"]=j.height+"px",Ra=d(j.statTop,j.dynZ),k["z-index"]=!0===ga?"999999999":null!==Ra?""+Ra:"auto",1!==j.zLevel&&(k.transform="scale("+j.zLevel+", "+j.zLevel+")",k["transform-origin"]="center"),e(k,j),"unspecified"!==ja.link&&(k.cursor="pointer"),i(l,m,o,j),h(k,m,j,xb),Ia.style.cssText=c(k),null!==Ja&&(Ja.style.cssText=c(l)),null!==Ka&&(Ka.style.cssText=c(m)),null!==Ja&&(La.style.cssText=c(o)),g(),!0===Ua?(V.applyStyleSnippet(Ia,Ea,"ext_frame"),V.applyStyleSnippet(Ka,Ea,"int_frame"),V.applyStyleSnippet(Ka,Ea,"dom_frame")):n("updatePos"),Ua=!1}}function E(a){if(null!==Ka)return void 0===Ka.scrollTo?void(Ka.scrollLeft=Ka.scrollLeft+a):void Ka.scrollTo({top:0,left:Ka.scrollLeft+a,behavior:"smooth"})}function F(a){if(null!==Ka)return void 0===Ka.scrollTo?void(Ka.scrollLeft=a):void Ka.scrollTo({top:0,left:a,behavior:"smooth"})}function G(a,b){function c(a){var b="ERROR: executing dombox insertion - "+a;return h(b),{status:"error",msg:b}}function d(a,b,c,d){function e(a,b,c,d){var e,f,h,i;if(-1===c)return void g(a,b,a.firstChild,c,"T");var j=[];for(e=0,f=0;e<a.children.length&&!(f>=d);e++,f++)void 0!==(h=a.children[e])&&(i=parseInt(h.getAttribute("data-instidx")),"T"===h.getAttribute("data-instgrp")&&!0!==isNaN(i)&&(i<0||j.push({elm:h,idxNumber:i})));if(0===j.length)return void g(a,b,a.firstChild,c,"T");if(c<=j[0].idxNumber)return void g(a,b,a.firstChild,c,"T");if(c>=j[j.length-1].idxNumber)return void g(a,b,j[j.length-1].elm.nextSibling,c,"T");for(e=0;e<j.length;e++)if(c>=j[e].idxNumber){g(a,b,j[e].elm.nextSibling,c,"T");break}}function f(a,b,c,d){var e,f,i,j;if(-1===c)return void h(a,b,c,"B");var k=[];for(e=a.children.length-1,f=0;e>=0&&!(f>=d);e--,f++)void 0!==(i=a.children[a.children.length-1-e])&&(j=parseInt(i.getAttribute("data-instidx")),"B"===i.getAttribute("data-instgrp")&&!0!==isNaN(j)&&(j<0||k.push({elm:i,idxNumber:j})));if(0===k.length)return void h(a,b,c,"B");if(c<=k[0].idxNumber)return void g(a,b,k[0].elm,c,"B");if(c>=k[k.length-1].idxNumber)return void h(a,b,c,"B");for(e=0;e<k.length;e++)if(c<=k[e].idxNumber){g(a,b,k[e].elm,c,"B");break}}function g(a,b,c,d,e){b.setAttribute("data-instidx",d),b.setAttribute("data-instgrp",e),a.insertBefore(b,c)}function h(a,c,d,e){c.setAttribute("data-instidx",d),c.setAttribute("data-instgrp",e),b.appendChild(c)}var i=100;return!0===d?f(b,a,c,i):e(b,a,c,i)}function e(a,b){function c(a,b,c){var d=ta.document.createElement("div");if(d.id=b,void 0!==c){var e=d.style;c.forEach(function(a){e[a[0]]=a[1]})}return a.appendChild(d),d}function d(a){a.onclick=function(){n("dbx_click",{})}}var e=null,f=null,g=null;return"unspecified"!==b.header&&(e=c(a,Ma),e.innerHTML="This is the Header",d(e)),f=c(a,Na),d(f),"unspecified"!==b.footer&&(g=c(a,Oa),
g.innerHTML="This is the Footer",d(g)),{headElm:e,coreElm:f,footElm:g}}function f(a){window.document.body.appendChild(a)}function j(a,b,c,d,e,f){function g(){window.removeEventListener("message",h),window.removeEventListener("unload",g)}function h(a){try{var b=JSON.parse(a.data);"sandbox"===b.type&&("psb"===b.mode||"cnf"===b.mode?window.top.postMessage(JSON.stringify({type:b.type,mode:b.mode,ver:b.ver,sbVer:b.sbVer,divID:b.divID}),"*"):"asn"===b.mode&&window.top.postMessage(JSON.stringify({type:b.type,mode:b.mode,cnt:b.cnt,fbxID:b.fbxID,sbVer:b.sbVer,divID:b.divID}),"*"))}catch(a){}}var i=!1;return parseInt(getComputedStyle(c).width.replace("px",""))<d&&(c.style.width=d+"px",i=!0),parseInt(getComputedStyle(c).height.replace("px",""))<e&&(c.style.height=e+"px",i=!0),b.document.body.appendChild(a),b.addEventListener("message",h,!1),b.addEventListener("unload",g,!1),b._fb_data_={},b._fb_data_.ctxID=Math.round(999999999*Math.random()),V.installStyle(b,f,!1),i}function k(a,b,c,d){function e(a,b){var c=[];if(void 0===a.childNodes[0])return c;for(var d=0;d<a.childNodes.length;d++){var e=a.childNodes[d];if(!(void 0!==e.id&&e.id.indexOf(b)>=0)){var f="dummystring_"+e;f=f.toLowerCase(),f.indexOf("iframe")>0?c.push(e):1!==e.nodeType||c.push(e)}}return c}var f=e(b,c),g=f.length,h=!1,i=!1;if(void 0===f||null===f||0===g)h=!0;else{var j=0;switch(d){case"unspecified":case"first":j=0;break;case"afterfirst":g<1&&(i=!0),j=1;break;case"last":g<1&&(i=!0),h=!0;break;case"beforelast":g<2&&(i=!0),j=g-1;break;default:j=Math.floor(parseInt(d)),isNaN(j)&&(i=!0),j<0&&(i=!0),j>40&&(i=!0)}j<0?i=!0:j>=f.length&&(i=!0)}if(!0===i)return!1;if(!0===h)b.appendChild(a);else{var k=f[j];b.insertBefore(a,k)}return!0}function l(a){for(var b=a.firstChild,c=10;c>0&&(c--,1!==b.nodeType);)if(null===(b=b.nextSibling))return null;for(b=b.nextSibling,c=10;c>0&&(c--,1!==b.nodeType);)if(null===(b=b.nextSibling))return null;return b}function m(a){for(var b=a.lastChild.previousSibling,c=10;c>0&&(c--,1!==b.nodeType);)if(null===(b=b.previousSibling))return null;return b}Fa.push("_execDomBox");var o={status:"---",msg:""},p=a.refElm,q=a.inscode,r=ta.document.createElement("div");r.id=aa,r.setAttribute("id",aa),r.setAttribute("class","_fb_dbx"),r.setAttribute("data-stgloc",ca);var s=e(r,b);switch(q){case"confined":f(r);break;case"infif":i("fif_adjusted",!0===j(r,ta,sa,a.width,a.height,Ea)?"YES":"NO");break;case"body_first":d(r,ta.document.body,b.instidx,!1);break;case"body_last":d(r,ta.document.body,b.instidx,!0);break;case"ref_inside_first":if(null===p)return c(q);p.insertBefore(r,p.firstChild);break;case"ref_inside_last":if(null===p)return c(q);p.appendChild(r);break;case"ref_inside_after_first":if(null===p)return c(q);var t=l(p);if(null===t)return c(q);p.insertBefore(r,t);break;case"ref_inside_before_last":if(null===p)return c(q);var t=m(p);if(null===t)return c(q);p.insertBefore(r,t);break;case"ref_in_list":if(null===p)return c(q);if(!0!==k(r,p,ba,b.index))return c(q);break;case"ref_before":if(null===p)return c(q);p.parentElement.insertBefore(r,p);break;case"ref_after":if(null===p)return c(q);p.parentElement.insertBefore(r,p.nextSibling);break;case"ref_ontop":if(null===p)return c(q);ta.document.body.appendChild(r);break;case"after_tag":if(null===p)return c(q);p.parentElement.insertBefore(r,p.nextSibling);break;default:return g(),c(q)}return i("ins_mode",q),g(),o.headElm=s.headElm,o.coreElm=s.coreElm,o.footElm=s.footElm,o.domBoxElm=r,o.domElmParams=a,o.status="ok",o}function H(a,b){function c(a){if(!0===la.shareable)switch(ma){case"NOT_IN_SHOW":a.dynZ=null,!1===Sa&&(a.visibON=!1);break;case"IN_SHOW":a.dynZ=!0,a.visibON=!0,Sa=!0;break;default:a.dynZ=null,!1===Sa&&(a.visibON=!1)}else"fore"===cb?(a.visibON=!0,a.dynZ=!0):"back"===cb?(a.visibON=!1,a.dynZ=!1):(a.visibON=!0,a.dynZ=null);!0!==ab&&(a.visibON=!1),!0===db&&(a.dispON=!1)}function d(a,b){a.headY=0,"unspecified"!==b.header&&(a.headY=30),a.footY=0,"unspecified"!==b.footer&&(a.footY=30),a.coreH=a.height-a.headY-a.footY}var e={status:"ok",domElmParams:null,msg:null};return e.domElmParams=Ga.initDomParams(),e.domElmParams.$debugInfo=Ha,e.domElmParams=Ga.getElmDomParams(e.domElmParams,a,b),c(e.domElmParams),d(e.domElmParams,b),!0===e.domElmParams.error&&(e.status="error",e.msg=e.domElmParams.msg),e}function I(){function a(a){if(null!==a)for(var b=0;a.firstChild&&b<1e3;)b++,a.removeChild(a.firstChild)}function b(a){null!==a&&a.parentNode.removeChild(a)}P(),a(Ia),b(Ia),Ia=null,eb=!0,Fa.push("_deleteDomBox")}function J(){Fa.push("removeMedia"),!1===eb&&(db=!0,B("rmvmd"))}function K(){}function L(){null!==Pa&&!1===eb&&B("forebk")}function M(){if(!0===pa)return!0;if(null===Ia)return!0;var a=Ia.getBoundingClientRect(),b={top:0,bottom:0};null!==sa&&(b=sa.getBoundingClientRect());var c=a.top+b.top,d=window.top.document.body;return c<(parseInt(getComputedStyle(d).height.replace("px",""))+parseInt(getComputedStyle(d)["margin-top"].replace("px","")))*Ba/100}function N(a){var b=!1;switch(a-kb<1e4&&(b=!0),lb){case"INIT":if(!0!==$()){lb="NOT_SHOWING";break}if(!0===tb){lb="NOT_SHOWING";break}if(!0!==b){lb="NOT_SHOWING";break}lb="BEFORE_SHOWING";break;case"NOT_SHOWING":if(!0===b&&!0!==tb){mb=a,lb="BEFORE_SHOWING";break}break;case"BEFORE_SHOWING":if(!0!==$()){lb="NOT_SHOWING";break}if(!0===tb){lb="NOT_SHOWING";break}if(!0===Q()){lb="NOT_SHOWING";break}if(!0!==b){lb="NOT_SHOWING";break}if(a-mb>400){O(),nb=a,lb="SHOWING";break}break;case"SHOWING":if(!0!==$()){P(),lb="NOT_SHOWING";break}if(!0===R())break;if(!0===tb){P(),lb="NOT_SHOWING";break}if(!0===Q()){P(),lb="NOT_SHOWING";break}if(a-nb>1e4){P(),lb="NOT_SHOWING";break}if(!0!==b){mb=a,lb="AFTER_SHOWING";break}break;case"AFTER_SHOWING":if(!0!==$()){P(),lb="NOT_SHOWING";break}if(!0===tb){P(),lb="NOT_SHOWING";break}if(!0===Q()){P(),lb="NOT_SHOWING";break}if(!0===b){lb="SHOWING";break}if(a-mb>200){P(),lb="NOT_SHOWING";break}}}function O(){if(null!==Ia){var a={comps:f.comps,bootParams:f.bootParams,cllBks:f.cllBks,abstrElmID:_,domBoxElm:Ia,confined:pa,refElm:gb,hostElm:sa};if(null!==va&&"dref"!==jb&&(a.hostElm=window.document.getElementById(va)),null!==(ob=new c(a))){var b=Y();null!==ob&&(ob.setStrings(b),qb=!0)}}}function P(){null!==ob&&(ob.kill(),ob=null,qb=!1)}function Q(){return null!==ob&&ob.checkDims()}function R(){return null!==ob&&ob.isMouseMovg()}var S=this,T=(f.master,f.comps),U=f.bootParams,V=f.cllBks,W=f.msgClbk,X=f.plcmID,Y=f.ovlStrClbk,Z=f.enableOvr,$=f.mayShowOvrNow,_=f.abstrElmID,aa=f.domElmId,ba=f.domElmIdPrfx,ca=f.boxLocus,da=f.xtnCode,ea=f.type,fa=f.boxName,ga=f.twin,ha=Math.round(999*Math.random());g();var ia=new e,ja=(new d({hostWnd:ta}),f.attributes),ka=l(f.motiondata),la=f.skinParams,ma=null,na=f.glryParams,oa=f.glryIdx,pa=f.confined,qa=f.isAdFrame,ra=f.insInFIF,sa=f.hostElm,ta=f.hostWnd,ua=f.restrLoc,va=null;"string"==typeof f.contFrmTagId&&"NA"!==f.contFrmTagId&&""!==f.contFrmTagId&&(va=f.contFrmTagId);var wa=""+ja.schema,xa=""+ja.position;!0===ua&&(wa="insect");var ya=!1,za=null,Aa=null,Ba=T.quickVars.getParam("upperThrshPrc",a.smartunits.upperThrshPrc),Ca=!0;ta.addEventListener("scroll",j),ta.addEventListener("unload",k);var Da=0,Ea=f.stylename,Fa=[],Ga=null,Ha="NA",Ia=null,Ja=null,Ka=null,La=null,Ma="_dbx_header",Na="_dbx_core",Oa="_dbx_footer",Pa=null,Qa="",Ra=null,Sa=!1,Ta=0,Ua=!0,Va=null,Wa="INIT",Xa="NA",Ya=0,Za=!1,$a=null,_a=0,ab=!0,bb="init",cb=null,db=!1,eb=!1,fb=null,gb=null,hb=null,ib=null,jb=null,kb=0,lb="INIT",mb=0,nb=0,ob=null,pb=!1,qb=!1,rb=!1,sb=null,tb=!1;ta.document.body.addEventListener("keydown",function(a){!0===a.ctrlKey&&(tb=!0)}),ta.document.body.addEventListener("keyup",function(a){!0!==a.ctrlKey&&(tb=!1)});var ub=!1,vb=null,wb=null,xb=!1;S.insLink=function(a){var b=!0===U.secProt?"https://":"http://",c=document.createElement("a");c.setAttribute("style","width:100%; height:100%; background:transparent; border:0;"),c.setAttribute("href",b+a),c.setAttribute("target","_blank"),c.innerHTML="<div style='width:100%; height:100%; background:transparent; border:0; '></div>",c.onclick=function(){n("dbx_click",{})},Ka.appendChild(c)},S.setupScrl_S=function(a){ub=a.enab,Ka.scrollLeft=0,B("scrlsetp")},S.setupScrl_U=function(a){ub=a.enab,wb=a.framew,vb=a.snaps,D("scrlsetp")},S.scrlStep=function(a){E(a)},S.fxSrlPos=function(a){F(a)},S.frxSc=function(a){xb=a,D("frzsc")},S.actUpdt=function(a){var b=a.curStatus;rb=b.scroll.scrlng,sb=Date.now()},S.sknScrl=function(a){Ga.sknScrl(a)},S.tick=function(a){!1===eb&&(u(a),null!==Ia&&(!0===Z&&N(a),q(a),C(a)))},S.isReady=function(){return Za},S.isOvrOn=function(){return qb},S.getDomElm=function(){return Ka},S.getHostWnd=function(){return ta},S.isVisib=function(){return ya},S.getDomParams=function(){return Pa},S.getDomBoxStatus=function(){return null===Pa?null:{left:Pa.left,top:Pa.top,width:Pa.width,height:Pa.coreH,visibON:Pa.visibON,dispON:Pa.dispON,pinned:!1,xwidth:Pa.xwidth,xscrpos:Ka.scrollLeft}},S.getXScrlP=function(){return null===Ka?0:Ka.scrollLeft},S.getCurZIndex=function(){return Ra},S.removeMedia=function(){return J()},S.enableMedia=function(){return K()},S.delDomBox=function(){I()},S.sceneChange=function(a){g(),bb=a,B("scene")},S.setNewStyle=function(a,b){V.applyStyleSnippet(Ia,a,"ext_frame",Va),V.applyStyleSnippet(Ka,a,"int_frame",Va),g(),Va=a},S.setShare=function(a){ma=a,B("share")},S.setForeBack=function(a){cb=a,L()}}}(config,dbxcalc,overlaywnd,domtool,textools),adpost=function(a,b,c,d,e){return function(c){function f(a){H.logger.writex({msg:a,prefix:W,inst:Y})}function g(a){H.logger.writex({tgl:!0,msg:a,prefix:"adpost:"+c.unitName+" (adpst_exec)"})}function h(a,b){H.logger.debugAlert(a,b)}function i(a,b,c){return{domain:"adposts",event:a,data:b,evOpts:c}}function j(a,b,c){var d=c||{};!0===V&&void 0===d.res&&(d.res="lo"),$.seb("/"+qa+a,b,d),$.seb("/*AllAdPosts*/"+(!0===sa?U:"dmb")+a,b,d)}function k(a,b,c){function d(a){return a<10?"0"+a:""+a}return"_fb_ap_"+a+"_"+d(b)+"_"+c}function l(a){if(!0!==Ua){Ua=!0;var c="Message:\n";c+=a.message+"\n",void 0!==a.stack&&(c+="\nStack:\n",c+=a.stack.toString()+"\n\n");var d={origin:W,red:b.analytics.emailDefRed,from:"FMP_LOOP",subject:"exception_adpost",text:c};H.mailmaster&&H.mailmaster.sendObj(d),h("AdPost: _catchCallback",d)}}function m(){f(),Da=document.createElement("div"),Da.id=W,o(!1)}function n(a){f();var b=null;void 0!==a.firstChild&&(b=a.firstChild),a.insertBefore(Da,b)}function o(a){function b(a){var b={};b.show=a,b.width=ba,b.height=ca,b.left=0,b.top=0,b.position="absolute",b.curZIndex="auto";var c=L.getCurZIndex();null!==c&&(b.curZIndex=""+c),Ta=b}function c(a){var b="";for(var c in a)void 0!==a[c]&&(b+=c+":"+a[c]+"; ");return b}b(a);var d={};d.left=Ta.left+"px",d.top=Ta.top+"px",d.width=Ta.width+"px",d.height=Ta.height+"px",d["min-width"]=Ta.width+"px",d["min-height"]=Ta.height+"px",d["max-width"]=Ta.width+"px",d["max-height"]=Ta.height+"px",d.position=Ta.position,d["z-index"]=""+Ta.curZIndex,d["pointer-events"]="none",d.display=!0===Ta.show?"inline":"none",Da.style.cssText=c(d)}function p(){Aa=!0}function q(){function a(a){for(var b=0;a.firstChild&&b<1e3;)b++,a.removeChild(a.firstChild)}null!==Da&&(f(),a(Da),ea.removeChild(Da))}function r(a){!1===Za&&!0===Va&&!0===E.shdSecLoad()&&(D.adNtf({evt:"secLoad",data:{}}),f(),Za=!0)}function s(a){switch(!0!==Ca&&a-Ba>5e3&&(f(),D.fireEvent("adp_running",{unitName:pa}),Ca=!0),Fa){case"INIT":Ha=a,Ja=a,B(_,"lnch",{delay:a-N}),C(_,"lnch",{delay:a-N}),B(_,"start"),C(_,"start"),j("","_s20 start"),Fa="NEWSGM";case"NEWSGM":var c=x(Ia);if("eov"===c.status){Fa="CLS";break}if("error"===c.status){Fa="CLS";break}Fa="SEGL";case"SEGL":if(!1!==cb)break;var c=y(Ia,Ma,a);if(Ea={segmIdx:Ia,segmName:c.name,ssName:c.ssName,vast:c.vastSeg,logic:c.logic,msg:c.msg},"error"===c.status){Fa="CLS";break}if("delivered"===c.status){Fa="CLS";break}if("disabled"===c.status||"skipped"===c.status||"avoided"===c.status){var d={unitfbxID:T,adpID:X,segmIdx:Ea.segmIdx,segmName:Ea.segmName,ssName:Ea.ssName,vast:Ea.vast,logic:Ea.logic,reason:Ea.msg};D.fireEvent("segm_skipped",d),g("segment "+Ea.segmName+" skipped - reason: "+c.msg),Ia++,Ja=a,Fa="NEWSGM";break}if("..."===c.status){if(a-Ja<b.media.segTimeOut)break;var e="segment TIMEOUT: "+Ea.segmName+" - msg: "+Ea.msg;f(),M(e);var d={unitfbxID:T,adpID:X,segmIdx:Ea.segmIdx,segmName:Ea.segmName,ssName:Ea.ssName,vast:Ea.vast,logic:Ea.logic,reason:Ea.msg};D.fireEvent("segm_to",d),g("segment "+Ea.segmName+" timed out - reason: "+Ea.msg),j("","_s34 segm_to - "+Ea.msg,{res:"hi"}),Ia++,Ja=a,Fa="NEWSGM";break}Fa="WMMR";case"WMMR":if(!0!==Ka.isReady())break;var d={unitfbxID:T,adpID:X,segmIdx:Ea.segmIdx,segmName:Ea.segmName,ssName:Ea.ssName,vast:Ea.vast,logic:Ea.logic};D.fireEvent("new_segm",d),g("segment "+Ea.segmName+" launched"),j("","_s30 segm"),Fa="WCD";case"WCD":if(!0===db){Ka.unload(),Fa="EXT";break}if(!0!==Ka.isContentDef())break;var c=A();if("ok"===c.status&&!0===c.content)Na=Math.round((a-c.contVldTm-Ha)/100)/10,null===Oa&&(Oa=Na),Pa=a,w(a,c);else;Fa="WSE";case"WSE":if(!0===db){Ka.unload(),Fa="EXT";break}if(!0!==Ka.isContentDef()){Na=null,Pa=null,v(),Fa="WCD";break}if(!0===Ka.isBusy())break;Ma=Ka.isSegComplete();var d={unitfbxID:T,adpID:X,segmIdx:Ea.segmIdx,segmName:Ea.segmName,segmComp:Ma};if(D.fireEvent("segm_clsd",d),g("segment "+Ea.segmName+" unloaded - status: "+(!0===Ma?"content":"no_content")),!0===ya&&!0!==Ma){za=!0,Ka.unload(),Fa="EXT";break}Ia++,Ja=a,Fa="NEWSGM";break;case"CLS":!0!==Ma&&(B(_,"nocnt"),C(_,"nocnt")),Ga=!1,Fa="WES";case"WES":if(!0!==db)break;null!==Ka&&Ka.unload(),Fa="EXT";case"EXT":if(null!==Ka&&!0!==Ka.getUnloadStat())break;t(),q(),Ja=a,eb=!0,D.fireEvent("adp_end",{adpName:qa,adpIdx:F,adpID:X,unitfbxID:T,adpType:U}),Ka=null,La=null,E.fireEvent("adp_removeinst",X),$.rap(),Fa="PARK"}}function t(){!0!==$a&&($a=!0,D.fireEvent("mediaover",{unitfbxID:T}))}function u(){function a(){for(var a=[],b=0;b<120;b++)if(b%4==0){var c={thrsh:b,sent:!1};a.push(c)}return a}function b(a){for(var b=0;b<40;b++){var c=l[b];void 0!==c&&(!0!==c.sent&&(a<c.thrsh||(j("/_s90 user_actv/_s10 visib_time_dist",c.thrsh,{scl:"mediumtimes",res:"lo"}),f(),c.sent=!0)))}}var c=this,d=!1,e=!1,g="INIT",h=0,i=0,k=0,l=a();c.run=function(a){e=a},c.tick=function(a){if(!0===e)switch(g){case"INIT":g="NONV";break;case"NONV":if(!0!==d)break;h++,1===h?(f(),j("/_s90 user_actv","_s10 frst_visib")):h>1&&(f(),j("/_s90 user_actv","_s11 re_visib")),i=a,D.fireEvent("adp_show",{adpName:qa,adpIdx:F,adpID:X,unitfbxID:T,adpType:U,playTime:ja}),g="YESV";break;case"YESV":if(!0!==d){g="NONV";break}if(a-i<1e3)break;k+=a-i,i=a,b(Math.round(k/1e3))}},c.setVisibilty=function(a){d=a},c.getVisibilty=function(){return d},c.getAccVisibTime=function(){return Math.round(k/1e3)}}function v(){!0===Qa&&(Qa=!1,Ra=null,fb=null,gb=0,j("","_s32 segm_cont_void",{res:"hi"}))}function w(a,b){if(!0!==Qa){Qa=!0,fb=a,Ra=Math.round(999999999999*Math.random());var c={segRetInfo:b,segmIdx:Ia,contID:Ra,contTime:Na};if(B(_,"cnt",c),C(_,"cnt",c),!0!==Sa){Sa=!0,!0===b.active&&f(),D.fireEvent("adp_content",{unitName:pa,active:b.active,vast:b.vast,logic:b.logic}),j("","_s31 segm_cont"),j("/_s10 cont/_s10 by_adp_idx",F),j("/_s10 cont/_s20 by_seek_time",Oa,{scl:"mediumtimes",res:"lo"}),j("/_s10 cont/_s30 by_seg_idx",Ia);j("/_s10 cont/_s40 by_node",b.tagName.replace(b.sourcesetName+"_",""));var d="";!0===b.vast?d+="/vast":d+="/disp",!0===b.active?d+="/active":d+="/passive",j("/_s10 cont/_s50 by_src_type",d);var e="wf";"bd"===b.logic&&(e="bd"),j("/_s10 cont/_s60 by_logic",e),K.fireLdrEvt("/_s60 adpost","_s20 cont")}}}function x(a){var b={status:"error",msg:""};if(a>=G.segments.length)return b.status="eov",b.msg="end_of_media",b;var c=G.segments[a];if(void 0===c)return b;if(null===c)return b;c.attributes.sourceset;return b.status="ok",b.msg="",b}function y(b,d,e){var g,h={status:"error",msg:"NA",name:"NA",ssName:"NA",vastSeg:null,logic:"NA"},i=G.segments[b];if(h.name=i.name,h.ssName=i.attributes.sourceset,!0===i.attributes.backup&&!0===d)return h.status="delivered",h.msg="delivered",h;if(!0!==J.debugVars.disableBarLogic&&!0!==Z.checkReductions(i.conditions,0))return f(),h.status="skipped",h.msg="reduct",h;f();var j=H.sourceadmin.getSSInfo(i.attributes.sourceset);if(null===j)return h.status="...",h.msg="ss_not_yet_available",h;if(i.mdType=j.mdType,i.packId=j.packid,i.segmType=j.segmType,h.logic=i.segmType,"vid"===i.mdType?h.vastSeg=!0:h.vastSeg=!1,"vid"===i.mdType){if("unspecified"!==i.attributes.vastdevice&&(ua=i.attributes.vastdevice),K.loadVastLibs(fa,ua),"fb"!==ua){if(void 0===fa.jwplayer||null===fa.jwplayer)return h.status="...",h.msg="jw_not_available",h;fa.jwplayer.key=lb}wa="html5",f()}var k=z(i.attributes,Ta.width,Ta.height);k.status;var m=(g={master:D,adPostContElm:Da,unitDomElm:ea,hostWnd:fa,myUnitObj:L,comps:H,cllBks:K,plcmParams:I,bootParams:J,startTime:N,stageID:O,sectID:P,unitID:Q,partID:R,assetID:S,unitName:pa,smart:sa,useLowRes:V,adpID:X,adpName:qa,segmentdata:i,natFormat:i.attributes.natformat,centscrn:G.attributes.centscrn,mdType:i.mdType,packId:i.packId,segmType:i.segmType,adPostWidth:Ta.width,adPostHeight:Ta.height,segmWidth:k.width,segmHeight:k.height,unitY:da,userval:c.userval,getActFlags:c.getActFlags,debugVars:c.debugVars,secProt:c.secProt,promolinkuri:c.promolinkuri,logolinkuri:c.logolinkuri,segmIdx:b,env:c.env,IE:c.IE,catchCallback:l,main_wrapper_id:W,internalContainer:"",unitfbxID:T,vastDevice:ua,hasFlash:va,primaryMethod:wa,cost:ga,onsold:ha,stageName:la,stageAttributes:ma,unitAttributes:c.unitAttributes,activeLayout:na,sectionName:oa},_defineProperty(g,"unitName",pa),_defineProperty(g,"adpName",qa),_defineProperty(g,"adpType",U),_defineProperty(g,"adPostContID",W),_defineProperty(g,"segmentName",i.name),_defineProperty(g,"unitNumID",ra),_defineProperty(g,"priority",ta),_defineProperty(g,"clientID",c.clientID),_defineProperty(g,"imprID",c.imprID),_defineProperty(g,"accChnID_stage",_),_defineProperty(g,"accChnID_unit",aa),_defineProperty(g,"stylename",ka),_defineProperty(g,"flashad",c.flashad),_defineProperty(g,"trfAdManager",c.trfAdManager),_defineProperty(g,"brokerUnit",c.brokerUnit),g);return Ka=new a(m),La=i,h.status="ok",h.msg="launched",h}function z(a,c,d){var e,f,g={status:"ok",msg:"",width:null,height:null};if("auto"!==a.width)e=parseInt(a.width);else{e=c,"unspecified"!==a.xfactor&&(e=c*parseInt(a.xfactor)/100);var h=c*(1+b.stage.secMaxFactor/100);if(e>h&&(e=h,g.msg="adpost_width_clamped_for_safety",g.status="warning"),"unspecified"!==a.maxwidth){var i=parseInt(a.maxwidth);e>i&&(e=i)}if("unspecified"!==a.minwidth){var j=parseInt(a.minwidth);e<j&&(e=j)}}if("auto"!==a.height)f=parseInt(a.height);else{f=d,"unspecified"!==a.yfactor&&(f=d*parseInt(a.yfactor)/100);var k=d*(1+b.stage.secMaxFactor/100);if(f>k&&(f=k,g.msg="adpost_height_clamped_for_safety",g.status="warning"),"unspecified"!==a.maxheight){var l=parseInt(a.maxheight);f>l&&(f=l)}if("unspecified"!==a.minheight){var m=parseInt(a.minheight);f<m&&(f=m)}}return g.width=Math.round(e),g.height=Math.round(f),g}function A(){try{return Ka.getContStatus()}catch(a){}return{status:"unknown"}}function B(a,b,c){var d={event:b,group:"seek_adp",ver:100,data:{adpID:X}},e=d.data;switch(b){case"inst":e.untID=Q,e.cst=ga>0?ga:"NA",e.ons=ha?"1":"0",e.adpnam=qa;break;case"lnch":e.dly=Math.round(c.delay/1e3);break;case"start":break;case"cnt":e.cntID=c.contID,e.sgmID=c.segRetInfo.segmentID,e.sgmnam=c.segRetInfo.segmName,e.tagnam=c.segRetInfo.tagName,e.nodenam=c.segRetInfo.nodeName,e.vast=c.segRetInfo.vast?"1":"0",e.actv=c.segRetInfo.active?"1":"0",e.log=c.segRetInfo.logic,e.clprc=c.segRetInfo.clPrc>0?c.segRetInfo.clPrc:"NA",e.idx=c.segmIdx,e.ctm=c.contTime>0?c.contTime:"NA";break;case"nocnt":break;case"tick_un":e.cntID=c.contID,e.tmval=c.tmval,e.tkidx=c.tickIdx}$.sap(a,d)}function C(a,b,c){var d=X,e=qa;!0!==sa&&(e=pa+"_ap"+(F<10?"0"+F:""+F)+"_"+U);var f={event:b,group:"seek_unit",ver:100,data:{untID:d,untnam:e}},g=f.data;switch(g.cst=ga>0?ga:"NA",g.ons=ha?"1":"0",b){case"inst":g.sctID=P;break;case"lnch":g.cst=ga>0?ga:"NA",g.ons=ha?"1":"0",g.dly=Math.round(c.delay/1e3);break;case"start":break;case"cnt":g.cntID=c.contID,g.sgmID=c.segRetInfo.segmentID,g.sgmnam=c.segRetInfo.segmName,g.tagnam=c.segRetInfo.tagName,g.nodenam=c.segRetInfo.nodeName,g.vast=c.segRetInfo.vast?"1":"0",g.actv=c.segRetInfo.active?"1":"0",g.log=c.segRetInfo.logic,g.clprc=c.segRetInfo.clPrc>0?c.segRetInfo.clPrc:"NA",g.idx=c.segmIdx,g.ctm=c.contTime>0?c.contTime:"NA";break;case"nocnt":break;case"tick_un":g.cntID=c.contID,g.tmval=c.tmval,g.tkidx=c.tickIdx}$.sap(a,f)}var D=this,E=c.master,F=c.adPostIdx,G=c.adpostdata,H=c.comps,I=c.plcmParams,J=c.bootParams,K=c.cllBks,L=c.myUnitObj,M=K.addLogLine,N=c.startTime,O=(c.debugVars,Date.now(),c.stageID),P=c.sectID,Q=c.unitID,R=c.partID,S=c.assetID,T=c.unitfbxID,U="nrm";!0===G.attributes.premium?U="prm":!0===G.attributes.filler&&(U="fil");var V=c.useLowRes;!0===G.attributes.lowres&&(V=!0),"fil"===U&&(V=!0);var W=k(T,F,U),X=Math.round(999999999999*Math.random()),Y=Math.round(999*Math.random());f();var Z=new e({bootParams:J}),$=new d({comps:H,assembleFunct:i}),_=c.accChnID_stage,aa=c.accChnID_unit,ba=0+c.unitWidth,ca=0+c.unitHeight,da=0+c.unitY,ea=c.unitDomElm,fa=c.hostWnd,ga=c.cost,ha=c.onsold,ia=b.smartunits.defSeekTime;!0!==isNaN(parseInt(G.attributes.seektime))&&(ia=parseInt(G.attributes.seektime)),ia>b.smartunits.maxSeekTime&&(ia=b.smartunits.maxSeekTime),ia<b.smartunits.minSeekTime&&(ia=b.smartunits.minSeekTime);var ja=b.smartunits.defPlayTime;!0!==isNaN(parseInt(G.attributes.playtime))&&(ja=parseInt(G.attributes.playtime)),ja>b.smartunits.maxPlayTime&&(ja=b.smartunits.maxPlayTime),ja<b.smartunits.minPlayTime&&(ja=b.smartunits.minPlayTime);var ka=c.stylename,la=(c.refElmId,c.stageName),ma=c.stageAttributes,na=c.activeLayout,oa=c.sectionName,pa=c.unitName,qa=G.name,ra=c.unitNumID,sa=c.smart,ta=c.priority;K.fireLdrEvt("/_s60 adpost","_s10 inst");var ua=c.bootParams.vastDevice,va=c.bootParams.hasFlash,wa="html5";B(_,"inst"),C(_,"inst");var xa=0,ya=!1,za=!1,Aa=!1,Ba=Date.now(),Ca=!1,Da=null,Ea={},Fa="INIT",Ga=!0,Ha=null,Ia=0,Ja=null,Ka=null,La=null,Ma=!1,Na=null,Oa=null,Pa=null,Qa=!1,Ra=null,Sa=!1,Ta={},Ua=!1,Va=!1,Wa=0,Xa=!1,Ya=!1,Za=!1,$a=!1,_a=0,ab=!1,bb=!1,cb=!1,db=!1,eb=!1,fb=null,gb=0,hb={},ib=!1,jb=0,kb=new u,lb="Ui9XB1lm1DDnVlOsaKrEBP7NrOg03ZuDqbSv3w==";D.fireEvent=function(a,b){switch(a){case"mediaready":Va=!0,Wa=Date.now();break;case"cont_expd":j("","_s45 cnt_exp"),g("cnt_exp");break;case"cont_clsd_befx":j("","_s46 cnt_clsd_befx"),g("cnt_clsd_befx");break;case"cont_clsd_aftx":j("","_s47 cnt_clsd_aftx"),g("cnt_clsd_aftx");break;case"adImpression":Xa=!0;break;case"adImprEnd":Ya=!0,t();break;case"adbxclick":case"click":var c=Date.now()-xa,d={adpName:qa,delay:c};E.fireEvent("adp_click",d),j("/_s90 user_actv","_s40 click",{res:"max"}),j("/_s90 user_actv/_s20 click_time_dist",Math.round(c/1e3),{res:"max",scl:"mediumtimes"});break;case"hoverOn":ib=!0,jb=Date.now();break;case"hoverOff":ib=!1,jb=0;break;case"error_mediacont":case"whitesp":za=!0;break;case"tryingsource":hb=b;break;case"adbxswipe":E.fireEvent("adp_swipe",d)}E.fireEvent(a,b)},D.fireEvent("adp_start",{adpName:qa,adpIdx:F,adpID:X,unitfbxID:T,adpType:U}),D.getContStatus=function(){return A()},D.getConTm=function(){return Na},D.freeze=function(){p()},D.render=function(a){if(!1===Aa)return o(a)},D.destroy=function(){return q()},D.updCntDims=function(a,b,c){if(!1===Aa&&(ba=a,ca=b,o(c),null!==Ka&&null!==La&&!0===La.attributes.fitcover)){var d=z(La.attributes,ba,ca);Ka.updCntDims(d.width,d.height,c)}},D.isReady=function(){return Va},D.goFw=function(){!1===Aa&&!1===ya&&(ya=!0,Ka.placeMedia(),xa=Date.now(),kb.run(!0),D.fireEvent("adp_gofw",{adpName:qa,adpIdx:F,adpID:X,unitfbxID:T}),j("","_s40 gofw"),j("/_s90 user_actv","_s01 gofw (ref)"),g("adp gofw - "+qa+" ("+D.getLastTagName()+")"))},D.adNtf=function(a){null!==Ka&&Ka.adNtf(a)},D.isSeekTime=function(){return!1!==Aa||ab},D.isPlayOver=function(){return!1!==Aa||bb},D.getNetShowTime=function(){return kb.getAccVisibTime()},D.isAdImprOn=function(){return Xa},D.isAdImprEnd=function(){return!1!==Aa||Ya},D.exit=function(){db=!0,kb.run(!1)},D.isBusy=function(){return!1===Aa&&Ga},D.isHover=function(){return ib},D.getExitStat=function(){return!1!==Aa||eb},D.getName=function(){return qa},D.getNameExt=function(){var a=X%999;return a<10?a="00"+a:a<100&&(a="0"+a),qa+"-"+a},D.getLastTagName=function(){return null===Ka?"NA_adp":Ka.getLastTagName()},D.getInstId=function(){return X},D.getContId=function(){return W},D.isError=function(){return!1!==Aa||za},D.getCurSrcInfo=function(){return!1!==Aa&&(hb.sourceName="error",hb.sourcesetName="error"),hb},D.setVisib=function(a){kb.setVisibilty(a)},D.isVisibleNow=function(){return kb.getVisibilty()},D.isFiller=function(){return G.attributes.filler},D.isContShow=function(){return G.attributes.contshow},D.isPremium=function(){return G.attributes.premium},D.getAdPostIdx=function(){return F},D.actUpdt=function(a){cb=a.curStatus.scroll.scrlng,null!==Ka&&Ka.actUpdt(a)},D.$0_unit=pa,D.$1_adpst=qa,m(),n(ea),j("","_s10 inst"),D.tick=function(a){if(!1===Aa&&!0!==eb){if(null!==fb&&a-fb>b.accbeam.tickPerOther&&gb<b.accbeam.tickCountOther){var c={contID:Ra,tmval:Math.round(b.accbeam.tickPerOther/1e3),tickIdx:gb};B(_,"tick_un",c),C(_,"tick_un",c),fb=a,gb++,gb>=b.accbeam.valTickCountOther&&$.rap()}if(s(a),null!==Ka&&Ka.tick(a),r(a),kb.tick(a),!(a-_a<1e3)){_a=a;var d=kb.getAccVisibTime();d>ia&&(ab=!0),d>ja&&(bb=!0),!0===ib&&a-jb>5e3&&(ib=!1,jb=0),f()}}}}}(fmp__root,config,0,an_buffer,barlogix),unit_flow=function(a,b,c){return function(d){function e(a){O.logger.writex({msg:a,prefix:"unit_flow - "+V,inst:ha})}function f(a){O.logger.writex({tgl:!0,msg:a,prefix:"unit:"+T.unitName+" (unit_dom)"})}function g(a,b,c){var d=c||{};!0===ba&&void 0===d.res&&(d.res="lo"),O.trackhub.sendEvent("units","/*AllUnits*"+a,b,d),O.trackhub.sendEvent("units","/"+T.unitName+a,b,d)}function h(a,b,c,d,e){function f(a,b,c,d){g("/_s00 by_type/"+a+b,c,d)}function h(a,b,c,d){g("/_s00 by_adpst/"+a+b,c,d)}g(c,d,e),""!==a&&f(a,c,d,e),""!==b&&h(b,c,d,e)}function i(a,b,c,d){h(a,b,c,Math.round(d/1e3),{scl:"mediumtimes"})}function j(a,b){O.logger.debugAlert(a,b)}function k(a){var b=this,c="/"+a,d=0,e=0,f=0,i=0;b.addOne=function(a,b){function j(a,b,c,d){h(a,b,c,d)}var k=!1;return"prm"===a?(d++,j(a,b,c,d),1===d&&(k=!0)):"nrm"===a?(e++,j(a,b,c,e),1===e&&(k=!0)):(f++,j(a,b,c,f),1===f&&(k=!0)),i++,g(c,i),k}}function l(a){ub=!0,q();var b="unit_execution_error: exception - unitID: "+V+" - name: "+ia+" - msg: "+a;e(),S(b),f("unit_execution_error: exception - msg: "+a),K.fireEvent("unitError_Exec",{unitName:ia,unitfbxID:V,msg:""+a}),J(a,"DOMUNIT_EXEC_ERROR","exception")}function m(a){var b=[];va.forEach(function(c){c.getInstId()!==a&&b.push(c)}),va=b}function n(a,b){switch(a){case"visibOn":xa=!0;break;case"visibOff":xa=!1;break;case"updatePos":o()}}function o(){if(!0===ua){var a=X.getDomBoxStatus();e(),null!==Ma&&Ma.updCntDims(a.width,a.height,a.dispON)}}function p(){if(!0===ua){var a=X.getDomBoxStatus();e(),va.forEach(function(b){null!==b&&b.updCntDims(a.width,a.height,a.dispON)})}}function q(a){va.forEach(function(a){f("freezing adpost: "+a.getName()+" ("+a.getLastTagName()+")"),a.freeze()})}function r(a){va.forEach(function(b){f("killing adpost: "+b.getName()+" ("+b.getLastTagName()+") - code: "+a),b.freeze(),b.destroy()})}function s(a){return!(a-Ea<gb)&&R.canSearchVideo(ja)}function t(a,b){!0===R.getRelSearchVideo(!0,ja)?(e(),Da=a):e()}function u(a){var b=!1;if(null===a?b=!0:a===Da&&(b=!0),Ea=0,null!==Da&&!0===b)return R.getRelSearchVideo(!1),e(),void(Da=null);e()}function v(a){return!(a-Fa<hb)&&R.canShowVideo(ja)}function w(a){R.getRelShowVideo(!0,ja);e()}function x(a){R.getRelShowVideo(!1),Fa=a,e()}function y(){return R.canSwitchNow()}function z(){return R.updateSwitchTimer()}function A(){return null===Ma||(!0!==xa||(!0===Ma.isFiller()||!0!==Ma.isPremium()&&Ma.getNetShowTime()>4))}function B(a){function b(){if(null!==Ma&&!0===Ma.isNewError()&&!0!==db){db=!0,Ya=!0,cb=!0;var a="NA",b="NA";null!==Ma&&(a=Ma.getName(),Ma.getNameExt(),b=Ma.getType()),e(),h(b,a,"","_s52 ap_blank")}}function c(){Ra!==Sa&&(e(),Sa=Ra)}function d(a,b,c,d,e){function f(a,b){return!0}function g(a,b){return!0}function h(a,b){return null===a||!0===a.isSeekTime()}if(0!==e&&c<e)return!1;if(!0===d)return!0;switch(a){case"":return!0;case"fil":return f(b,c);case"prm":return g(b,c);case"nrm":return h(b,c)}return!0}function f(a,b,c,d){function f(a){return 0!==pb.length}function g(a){return!(I(nb,a)<1)}function h(a){return!(I(ob,a)<1)}function i(a,b){function c(a){function b(a,b){if(b<a[0].expIntv[0])return 0;if(b>a[a.length-1].expIntv[1])return a.length-1;var c=null;return a.forEach(function(a,d){null===c&&b>=a.expIntv[0]&&b<a.expIntv[1]&&(c=d)}),c}function c(a,b){return a.useCnt!==b.useCnt?a.useCnt-b.useCnt:a.failCnt!==b.failCnt?a.failCnt-b.failCnt:a.lastFail!==b.lastFail?a.lastFail-b.lastFail:a.idx-b.idx}if(0===a.length)return null;var d=0;if(a.forEach(function(a){if(a.effShare=100,"unspecified"!==a.data.attributes.share){var b=parseInt(a.data.attributes.share);!1===isNaN(b)&&(a.effShare=b,d++)}}),0===d)return a.sort(c),a[0];var e=0;a.forEach(function(a){e+=a.effShare});var f,g=1e5,h=0;return a.forEach(function(a){f=g*(a.effShare/e),a.useCnt>0&&(f=Math.round(f/a.useCnt)),a.expIntv=[h,h+f],h+=f}),a[b(a,Math.floor(Math.random()*h))]}var d=null;if("prm"===a)d=c(nb);else if("fil"===a)d=c(pb);else{if("nrm"!==a)throw{msg:"unkown_ap_def"};d=c(ob)}return null!==d&&(d.useCnt++,e()),d}function j(){var a=null,b="";return mb.forEach(function(b){null===a&&0===b.useCnt&&(b.useCnt=1,a=b)}),null!==a&&(b=!0===a.data.attributes.premium?"prm":!0===a.data.attributes.filler?"fil":"nrm"),{adPostType:b,adPostDef:a}}function k(a){return!0===Z.contshow||!0===a.isContShow()}var l="",m=Math.round(999999999*Math.random()),n=s(c);if(!0!==_){var o=j();return{mediaType:o.adPostType,adPostDef:o.adPostDef,searchID:m}}if(!0===d)l=!0===f(c)?"fil":!0===h(c)?"nrm":!0===g(c)?"prm":"";else switch(a){case"fil":l=!0===$?!0===n&&!0===g(c)?"prm":!0===h(c)?"nrm":!0===k(b)?"fil":"":!0===h(c)?"nrm":!0===n&&!0===g(c)?"prm":!0===k(b)?"fil":"";break;case"prm":l=!0===h(c)?"nrm":!0===f(c)?"fil":"";break;case"nrm":l=!0===n&&!0===g(c)?"prm":!0===k(b)&&!0===f(c)?"fil":!0===h(c)?"nrm":"";break;default:l=!0===f(c)?"fil":!0===h(c)?"nrm":!0===n&&!0===g(c)?"prm":""}var p=null;return""!==l&&(p=i(l,c)),null!==p?{mediaType:l,adPostDef:p,searchID:m}:{mediaType:"",adPostDef:null,searchID:0}}function j(a,b,c,d,e){var f="go",g="wait",h="abort";if(!0===qa){if("overlay"!==Z.position&&!0===Ga)return g;if("overlay"===Z.position&&!0!==Ga)return g}var i=!1;switch(null!==b&&!0===y()&&(i=!0),a){case"fil":return!0===e?f:!0===i?f:g;case"prm":return!0===e?!0!==v(d)?h:!0!==ya?g:f:!0!==c.isContStable()?g:!0!==ya?g:!0!==v(d)?g:(za=!1,f);case"nrm":return!0===e?f:!0!==c.isContStable()?g:!0===i?f:g}return g}function k(a,b,c,d,e){function f(a,b,c){return 0===a.getAdPostIdx()||!0===a.isPlayOver()}function g(a,b,c){if(!0===a.isAdImprOn()){if(!0===a.isAdImprEnd())return!0}else if(!0===a.isPlayOver(b))return!0;return!1}function h(a,b,c){return!0===a.isPlayOver()||!0===c&&a.getNetShowTime()>lb}if(!0===d)return!0;if(""===a)return!0;if(!0===b.isHover())return!1;switch(a){case"fil":if(!0===f(b,c,e))return!0;break;case"prm":if(!0===g(b,c,e))return!0;break;case"nrm":if(!0===h(b,c,e))return!0}return!1}switch(c(),b(),Ra){case"INIT":if(!0!==ua)break;i("","","/_s08 setup_times",a-Za),Ta="",Va="",Ua="",Wa=0,Xa=null,$a=a,cb=!0,Ra="HOME";case"HOME":if(va.length>=kb){e(),Ra="PARK";break}if(!0===Ba){e(),Ra="PARK";break}if(!1!==ca)break;if(!0!==d(Ua,Ma,a,cb,eb))break;var l=f(Ua,Ma,a,cb);if(""===l.mediaType){null===l.adPostDef&&!0!==Ca&&(Ca=!0,e(),K.fireEvent("mediaExhausted",{unitName:ia,unitfbxID:V}));break}e(),Ta=l.mediaType,Wa=l.searchID,Xa=l.adPostDef,Ya=!1,Oa=C({adPostDef:Xa,searchID:Wa}),_a=a,"prm"===Oa.getType()&&t(Wa,a);0!==l.adPostDef.lastFail&&""+Math.round((a-l.adPostDef.lastFail)/100)/10,e(),h(Ta,Oa.getName(),"","_s20 ap_launch"),g("/_s00 by_type","_s00 ap_launch - (ref)"),g("/_s00 by_type","_s10 ap_launch - "+Ta),
i(Ta,Oa.getName(),"/_s10 launch_times",a-$a),!0===qb.addOne(Ta,Oa.getName())&&i(Ta,Oa.getName(),"/_s11 first_launch_times",a-$a),Ra="WAIT_ADP_RDY";case"WAIT_ADP_RDY":if(!0===Ba){e(),Ra="PARK";break}if(!0===Ya){Ya=!1,e(),h(Ta,Oa.getName(),"","_s22 ap_aborted_at_search"),Pa="abort",_a=0,Ta="",Ra="WFAB";break}var m=Oa.getResult();if("..."===m)break;if("prm"===Ta&&u(Wa),"apcr_ready"!==m){"apcr_empty"===m&&(e(),h(Ta,Oa.getName(),"","_s24 ap_empty")),"apcr_faulty"===m&&(e(),h(Ta,Oa.getName(),"","_s25 ap_faulty"),h(Ta,Oa.getName(),"/_s95 faulty_tags",Oa.getLastTagName())),0!==_a&&(i(Ta,Oa.getName(),"/_s20 search_times_nocont",a-_a),_a=0),Pa="abort",Xa.lastFail=a,Xa.failCnt+=1,Ta="",Ra="WFAB";break}K.foreMsg("adprdy",{unitexec:L,unitname:T.unitName,unitid:T.unitDomElmID,unitattr:T.unitAttributes}),"prm"===Ta&&(Aa=!0),ab=a,e(),h(Ta,Oa.getName(),"","_s30 ap_cont_avail"),0!==_a&&(i(Ta,Oa.getName(),"/_s25 search_times_cont",a-_a),_a=0),Ra="WAIT_ADP_TURN";case"WAIT_ADP_TURN":if(!0===Ba){e(),Ra="PARK";break}if(!0===db){db=!1,e(),h(Ta,Oa.getName(),"","_s22 ap_aborted_at_waiting"),Pa="abort",_a=0,Ta="",Ra="WFAB";break}if(a<fa&&"prm"!==Ma.getType())break;var n=j(Ta,Ma,Oa,a,cb);if("abort"===n){e(),h(Ta,Oa.getName(),"","_s32 ap_aborted_at_wait"),Pa="abort",Xa.lastFail=a,Xa.failCnt+=1,Ta="",Ra="WFAB";break}if("go"!==n)break;if(!0!==k(Va,Ma,a,cb,Aa))break;Ra="WAIT_ALL_CLR";case"WAIT_ALL_CLR":if(!1!==ca)break;if(null!==da&&a<da){e();break}"prm"===Va&&x(a),Aa=!1,"prm"===Ta&&w(a),z(),e(),h(Ta,Oa.getName(),"","_s40 ap_cont_shown");var o=rb.addOne(Ta,Oa.getName());0!==ab&&(i(Ta,Oa.getName(),"/_s30 wait_times",a-ab),ab=0),Pa="switch",Va="",ea=a,null!==Ma&&(i(Ma.getType(),Ma.getName(),"/_s40 show_times",Ma.getNetShowTime()),!0===o&&i(Ma.getType(),Ma.getName(),"/_s41 first_show_times",Ma.getNetShowTime())),Ra="WAIT_SW";case"WAIT_SW":if(!0===Qa){e(),Qa=!1,bb=a,Ra="STDBY";break}if(null!==Pa)break;Ma.adNtf({evt:"onshow",data:{}}),e(),Ua=Ta,Va=Ta,Ta="",cb=!1,Ra="HOME";break;case"WFAB":if(!0===Qa){null!==Oa&&Oa.getNameExt(),e(),Qa=!1,bb=a,Ra="STDBY";break}if(null!==Pa)break;bb=a,Ra="STDBY";break;case"STDBY":if(a-bb<1e3)break;Ta="",cb=!0,Ra="HOME"}}function C(a){var b={idx:wa,adPostDef:a.adPostDef,searchID:a.searchID},c=new D(b);return va.push(c),wa++,c}function D(a){function c(a){function b(){l!==m&&(e(),m=l)}switch(b(),l){case"INIT":p=a,l="WFR";break;case"WFR":if(!0===n.isError()||a-p>M){e(),f("faulty adpost: "+n.getName()+" ("+n.getContId()+")"),n.exit(),o="apcr_faulty",l="PARK";break}if(!0!==n.isBusy()){e(),f("empty adpost: "+n.getName()+" ("+n.getContId()+")"),n.exit(),o="apcr_empty",l="PARK";break}if(!0!==n.isReady())break;e(),f("ready to activate adpost: "+n.getName()+" ("+n.getLastTagName()+")"),o="apcr_ready",l="PARK"}}function g(a,c){function e(a,c){var e=X.getDomBoxStatus();tb.push("createAdPost");var f=X.getDomElm(),g=f.getBoundingClientRect().top,h={master:K,adPostIdx:c,comps:O,cllBks:R,plcmParams:P,bootParams:Q,startTime:U,env:P.env,IE:Q.IE,stageID:T.stageID,sectID:T.sectID,unitID:T.unitID,partID:T.partID,assetID:T.assetID,unitfbxID:V,refElmId:ja,unitDomElm:f,hostWnd:Y,myUnitObj:L,stageName:ma,stageAttributes:na,unitAttributes:Z,activeLayout:oa,sectionName:pa,unitName:ia,unitNumID:W,priority:Z.priority,smart:_,useLowRes:ba,cost:ka,onsold:la,stylename:T.stylename,flashad:Z.flashad,unitWidth:e.width,unitHeight:e.height,unitY:g,vastDevice:ra,userval:sa,debugVars:ta,addLogLine:S,secProt:sb,getActFlags:T.getActFlags,clientID:T.clientID,imprID:T.imprID,accChnID_stage:T.accChnID_stage,accChnID_unit:T.accChnID_unit,adpostdata:a,trfAdManager:d.trfAdManager,brokerUnit:d.brokerUnit};S(V+" adpost launching...");var i=new b(h);return null!==i&&i.render(!0),i}return e(a.data,c)}var h=this,i=a.idx,j=a.adPostDef,k=a.searchID,l="INIT",m=null,n=null,o="...",p=0,q=!1;h.tick=function(a){c(a),n.tick(a)},h.getResult=function(){return o},h.getSearchID=function(){return k},h.getInstIdx=function(){return i},h.getAdPostDef=function(){return j},h.getName=function(){return n.getName()},h.getNameExt=function(){return n.getNameExt()},h.getLastTagName=function(){return n.getLastTagName()},h.getType=function(){return!0===j.data.attributes.premium?"prm":!0===j.data.attributes.filler?"fil":"nrm"},h.getContId=function(){return n.getContId()},h.getExitStat=function(){return n.getExitStat()},h.getAdPostIdx=function(){return n.getAdPostIdx()},h.getInstId=function(){return n.getInstId()},h.isAdImprEnd=function(){return n.isAdImprEnd()},h.isAdImprOn=function(){return n.isAdImprOn()},h.isVisibleNow=function(){return n.isVisibleNow()},h.isPremium=function(){return n.isPremium()},h.isFiller=function(){return n.isFiller()},h.isContShow=function(){return n.isContShow()},h.isSeekTime=function(){return n.isSeekTime()},h.isPlayOver=function(){return n.isPlayOver()},h.getNetShowTime=function(){return n.getNetShowTime()},h.isHover=function(){return n.isHover()},h.getNetShowTime=function(){return n.getNetShowTime()},h.isContStable=function(){var a=n.getContStatus();return"bd"===a.logic||!0===a.vast||"ok"===a.status&&(!0===a.content&&!0===a.mediaValid)},h.actUpdt=function(a){return n.actUpdt(a)},h.goFw=function(){return n.goFw()},h.adNtf=function(a){return n.adNtf(a)},h.exit=function(){return n.exit()},h.setVisib=function(a){return n.setVisib(a)},h.updCntDims=function(a,b,c){return n.updCntDims(a,b,c)},h.isError=function(){return n.isError()},h.isNewError=function(){return!0!==q&&(!0===n.isError()&&(q=!0,!0))},h.getCurSrcInfo=function(){return n.getCurSrcInfo()},h.freeze=function(){return n.freeze()},h.destroy=function(){return n.destroy()},n=g(j,i),e(),f("launched adpost: "+n.getName()+" ("+n.getContId()+")")}function E(a){function b(){Ja!==Ka&&(e(),Ka=Ja)}switch(b(),Ja){case"INIT":if(!0!==ua)break;Pa=null,Ja="RDY";break;case"RDY":if(null===Pa)break;if(e(),Qa=!1,"abort"===Pa){Na=Oa,Oa=null,Ja="EXT";break}if(null===Ma){Ja="ANA";break}Na=Ma,Ja="EXT";case"EXT":Na.exit(),e(),La=a,Ja="WPAG";case"WPAG":if(a-La>5e3){Qa=!0,Ja="ERR";break}if(!0!==Na.getExitStat())break;if(Na=null,"abort"===Pa){Pa=null,Ja="RDY";break}Ja="ANA";case"ANA":Ma=Oa,Oa=null,Ma.goFw(),L.plcMed(),o(),e(),f("activating adpost: "+Ma.getName()+" ("+Ma.getLastTagName()+")"),Pa=null,Ja="RDY";break;case"ERR":if(!1!==Qa)break;Pa=null,Ja="RDY"}}function F(a){null!==Ma&&Ma.setVisib(xa),ya=xa}function G(){var a=0;T.adpostdata.forEach(function(b){if(!0===H(b)){var c={};c.data=JSON.parse(JSON.stringify(b)),c.idx=a,c.useCnt=0,c.failCnt=0,c.lastFail=0,mb.push(c),!0===b.attributes.premium?nb.push(c):!0===b.attributes.filler?pb.push(c):ob.push(c),a++}})}function H(a){if(!0===Q.debugVars.disableBarLogic)return!0;if(!0!==ga.checkReductions(a.conditions,0))return e(),h("","","","_s14 ap_skipped"),!1;e();var b=ga.checkEnvCond(a.conditions,R.getWindowInfo(),R.getSnippetValues(),R.getDeployedList(),R.getContentList(),!1);if("go"===b.status)return h("","","","_s12 ap_deployed"),!0;var c="NA";return"dontknow"===b.status?c="dontknow":"wait"===b.status?c="wait":"avoided_room"===b.msg?c="room":"avoided_snip"===b.msg?c="snip":"avoided_browser"===b.msg?c="browser":"avoided_link"===b.msg?c="link":"avoided_cnt"===b.msg&&(c="cnt"),h("","","","_s16 ap_avoided ["+c+"]"),!1}function I(a,b){var c=0;return a.forEach(function(a){a.failCnt>=jb||b-a.lastFail<ib||a.useCnt>a.data.attributes.maxpage||(c+=a.data.attributes.maxpage-a.useCnt)}),c}function J(a,b,c){function d(a){if(null===a)return"{null}";if(void 0===a)return"undefined";var b="";for(var c in a){var d=a[c];d=null===d?"null":void 0===d?"undefined":d.toString(),b+=c+" = "+d+"\n"}return b}var e="Message:  ";e+=a+"\n\n",void 0!==a.stack&&(e+="\nStack:\n",e+=a.stack.toString()+"\n\n"),e+="====== Unit Data: ======\n\n"+d({unitNumID:W,fbxID:V,reference:ja,stageName:ma,stageAttributes:na,activeLayout:oa,sectionName:pa,unitName:ia,vastDevice:ra,stylename:T.stylename})+"\n\n",e+="====== Unit Attributes: ======\n\n"+d(Z)+"\n\n",e+="====== DOM Params: ======\n\n"+d(X.getDomParams())+"\n\n";var f={debugStrings:[],from:b,subject:c,text:e};O.mailmaster.sendObj(f),j(b+" --\x3e "+c,f)}var K=this,L=d.master,M=6e4,N=6e3,O=d.comps,P=d.plcmParams,Q=d.bootParams,R=d.cllBks,S=R.addLogLine,T=d.unitOptions,U=d.startTime,V=d.fbxID,W=d.unitNumID,X=T.domBox,Y=(T.stageID,T.sectID,T.unitID,T.assetID,T.unitInFIF,T.unitHostElm,T.hostWnd),Z=T.unitAttributes,$=Z.prime,_=d.unitOptions.smart,aa=d.unitOptions.seekdelay,ba=d.unitOptions.useLowRes,ca=!1,da=null,ea=null,fa=0,ga=new a({bootParams:Q});Q.secProt;var ha=Math.round(999*Math.random());e(),!0===Q.confined&&e();var ia=T.unitName,ja=T.unitDomElmID,ka=(T.unitDomElmIdPrfx,T.cost),la=T.onsold,ma=T.stageName,na=T.stageAttributes,oa=T.activeLayout,pa=T.sectionName,qa=T.phySect,ra=T.vastDevice,sa=T.userval,ta=T.debugVars,ua=(T.afterAds,T.floatpar,!1),va=[],wa=0,xa=!1,ya=!1,za=!1,Aa=!1,Ba=!1,Ca=!1,Da=null,Ea=0,Fa=0,Ga=!1,Ha=null,Ia=null,Ja="INIT",Ka="",La=0,Ma=null,Na=null,Oa=null,Pa=null,Qa=!1,Ra="INIT",Sa="",Ta="",Ua="",Va="",Wa=0,Xa=null,Ya=!1,Za=Date.now(),$a=0,_a=0,ab=0,bb=0,cb=!1,db=!1,eb=0;if("unspecified"!==aa){var fb=parseInt(aa);!0!==isNaN(fb)&&(eb=Date.now()+1e3*fb)}O.quickVars.refreshParams();var gb=1e3*O.quickVars.getParam("prmSearchHoldOff",c.smartunits.prmSearchHoldOff),hb=1e3*O.quickVars.getParam("prmShowHoldOff",c.smartunits.prmShowHoldOff),ib=1e3*O.quickVars.getParam("lastFailHoldOff",c.smartunits.lastFailHoldOff),jb=O.quickVars.getParam("_maxFailCnt",c.smartunits.maxFailCnt),kb=O.quickVars.getParam("maxAdPostCount",c.smartunits.maxAdPostCount),lb=O.quickVars.getParam("pullOutTime",c.smartunits.pullOutTime),mb=[],nb=[],ob=[],pb=[];G();var qb=new k("_s50 count_dist_search"),rb=new k("_s51 count_dist_show"),sb=P.secProt,tb=[],ub=!1,vb=!1;K.fireEvent=function(a,b){switch(a){case"mediaready":case"mediaover":break;case"adImprEnd":za=!0,x(Date.now());break;case"adProg":b.pos;break;case"hoverOn":fa=Date.now()+N;break;case"hoverOff":break;case"adp_click":Ba=!0;break;case"adp_removeinst":m(b)}L.fireEvent(a,b)},K.gcapi=function(){return Ma},K.runAdPosts=function(a){ua=a},K.updAllAdps=function(){return p()},K.killAllAdps=function(a){r(a),vb=!0},K.domBoxMsg=function(a,b){n(a,b)},K.actUpdt=function(a){ca=a.curStatus.scroll.scrlng,null!==Ma&&Ma.actUpdt(a),null!==Oa&&Oa.actUpdt(a)},K.adNtf=function(a){null!==Ma&&Ma.adNtf(a)},K.shdSecLoad=function(a){return L.shdSecLoad()},K.setStandBy=function(a){da=a},K.getStandBy=function(){return ea},K.tick=function(a){function b(a){va.forEach(function(b){b.tick(a)})}if(X&&!0!==vb&&!0!==ub)try{B(a),E(a),F(a),b(a)}catch(a){l(a)}},K.foreCmd=function(a,b){switch(a){case"canfore":return A();case"fore_ON":Ga=!0;break;case"fore_OFF":Ga=!1;break;case"fore_in":Ha=!0;break;case"fore_out":Ha=!1;break;case"back_in":Ia=!0;break;case"back_out":Ia=!1}},K.foreMsg=function(a,b){return L.foreMsg(a,b)},h("","","","_s10 unit_inst")}}(barlogix,adpost,config),unit_actv=function(a){return function(b){function c(a){g.logger.writex({msg:a,prefix:"unit_actv",inst:h})}function d(a){switch(t=s,j.isMouseAction=t,u){case"INIT":if(!0!==i.isReady())break;u="READY";break;case"READY":c(),n=a,u="INVISIBLE",j.isUnitVisible=!1,j.isUnitActive=!1,j.isUnitHovering=!1,C="sleep";break;case"INVISIBLE":if(!0!==v)break;m?(m=!1,i.fireEvent("frst_visib")):i.fireEvent("re_visib"),c(),o=a,u="VISIBLE",j.isUnitVisible=!0,j.isUnitActive=!1,j.isUnitHovering=!1,C="visible";break;case"VISIBLE":if(!0===f.isInFrame()||!0===f.isInMedia()){l?(l=!1,i.fireEvent("frst_actv")):i.fireEvent("re_actv"),q=a,p=a,c(),u="ACTIVE",j.isUnitVisible=!0,j.isUnitActive=!0,j.isUnitHovering=!1,C="active";break}if(!0!==v){c(),n=a,u="INVISIBLE",j.isUnitVisible=!1,j.isUnitActive=!1,j.isUnitHovering=!1,C="sleep";break}break;case"ACTIVE":if(!0!==f.isInFrame()&&!0!==f.isInMedia()){c(),o=a,u="VISIBLE",j.isUnitVisible=!0,j.isUnitActive=!1,C="visible";break}if(!0===f.isInMedia()){r=a,c(),k?(k=!1,i.fireEvent("frst_hvr")):i.fireEvent("re_hvr"),u="IN_MEDIA",j.isUnitVisible=!0,j.isUnitActive=!0,j.isUnitHovering=!0,C="hover";break}break;case"IN_MEDIA":if(!1===f.isInMedia()){c(),p=a,u="ACTIVE",j.isUnitVisible=!0,j.isUnitActive=!0,j.isUnitHovering=!1,C="active";break}}}function e(b){switch(B){case"INIT":if(!0!==i.isReady())break;B="STATE_STEADY";break;case"STATE_STEADY":if(!0===w){s=!0,c(),B="STATE_MOVING";break}break;case"STATE_MOVING":if(!0===w)break;A=b,B="STATE_MOVING_PERSISTENCE";break;case"STATE_MOVING_PERSISTENCE":if(!0===w){B="STATE_MOVING";break}if(b-A>a.mouseProcessor.idleTimeLimit){c(),s=!1,B="STATE_STEADY";break}}}var f=this,g=b.comps,h=Math.round(999*Math.random());c();var i=b.master,j=b.activityFlags,k=(b.unitName,!0),l=!0,m=!0,n=0,o=0,p=0,q=0,r=0,s=!1,t=!1,u="INIT",v=!1,w=!1,x=!1,y=!1,z=!1,A=0,B="INIT",C="";f.actUpdt=function(a){},f.tick=function(a){d(a),e(a)},f.activityReport=function(a){w=a.isDocActive,x=a.isDocVisible},f.visibReport=function(a){v=a},f.mouseActionReport=function(a){!0===a.inFrame?(y=!0,c()):(y=!1,c())},f.mouseHoverReport=function(a){z=a,c()},f.isActive=function(){return"ACTIVE"===u||("INACTIVE_PERSISTENCE"===u||"IN_MEDIA"===u)},f.isInFrame=function(){return y},f.isInMedia=function(){return z},f.isAction=function(){return!1}}}(config),unit_capbox=function(a){return function(b){function c(a){m.logger.writex({msg:a,prefix:"unit_capbox",inst:n})}function d(a){if(!(a-t<60))switch(t=a,r){case"INIT":if(null===(v=document.getElementById(B)))break;u=0,s=a+3e3,r="HLDOFF";break;case"ITMON":if(!1!==w){r="KLL";break}if(0!==x){h(),r="SCRL";break}if(u>=y){u=0,s=a,r="TOPHLD";break}i(u,!0),u++;break;case"TOPHLD":if(!1!==w){r="KLL";break}if(0!==x){h(),r="SCRL";break}if(a-s<400)break;r="ITMOFF";break;case"ITMOFF":if(!1!==w){r="KLL";break}if(0!==x){h(),r="SCRL";break}if(u>=y){s=a,r="BKGOFF";break}i(u,!1),u++;break;case"BKGOFF":if(!1!==w){r="KLL";break}if(0!==x){h(),r="SCRL";break}if(a-s<500)break;k(!1),s=a,r="HLDOFF";break;case"HLDOFF":if(!1!==w){r="KLL";break}if(0!==x){h(),r="SCRL";break}if(a-s<3e3)break;k(!0);var b=e();y=b.arrowCnt,v.innerHTML=f(b),u=0,s=a,r="ITMON";break;case"SCRL":if(!1!==w){r="KLL";break}if(a-x<3e3)break;x=0,k(!0);var b=e();y=b.arrowCnt,v.innerHTML=f(b),u=0,s=a,r="ITMON";break;case"KLL":m.heartH.unsubscribe(l.tick)}}function e(){var a=0,b=6,c=4,d=12,e=0,f=o.getBoundingClientRect(),g=f.width;return g<=160?(a=6,b=4,c=3,d=16,e=-1):g<=300?(a=1,b=5,c=3,d=17,e=-2):(a=12,b=6,c=3.5,d=18,e=-2),{arrowCnt:a,arrowSize:b,borderSize:c,fontSize:d,fontMarginTop:e}}function f(a){for(var b="",c=0;c<a.arrowCnt-1;c++)b+='<div id="'+g(c)+'" class="'+E+'" style="width: '+a.arrowSize+"px; height: "+a.arrowSize+"px; border-right: "+a.borderSize+"px solid "+z+"; border-bottom: "+a.borderSize+"px solid "+z+'; " ></div>';return b+='<div id="'+g(a.arrowCnt-1)+'" class="'+F+'" style="font-size: '+a.fontSize+"px; margin-top:"+a.fontMarginTop+'px; " >'+p+"</div>"}function g(a){function b(a){return a<10?"0"+a:a}return"arrow_"+n+"_"+b(a)}function h(){for(var a=0;a<y;a++)i(a,!1);k(!1)}function i(a,b){var c=j(a);null!==c&&(!0===b?q.addClass(c,"show"):q.removeClass(c,"show"))}function j(a){var b=g(a);return document.getElementById(b)}function k(a){var b=document.getElementById(A);!0===a?q.addClass(b,"show"):q.removeClass(b,"show")}var l=this,m=(b.master,b.comps),n=(b.cllBks,b.bootParams,Math.round(999*Math.random()));c();var o=b.domBoxElm,p=b.caption;"unspecified"===p&&(p="close");var q=new a({hostWnd:window}),r="INIT",s=0,t=0,u=0,v=null,w=!1,x=0,y=0,z="#40a0c0",A="backgID_"+n,B="wrprID_"+n,C="backg_"+n,D="wrapp_"+n,E="arrow_"+n,F="msgtxt_"+n,G="";G+='<style type="text/css">\r',G+="."+C+" { position:absolute; left:0; top:0; margin-left:1px; width:100%; height:100%; background-color:#ffffff; box-shadow: 1px 1px 2px 2px #ffffff; opacity:0; transition-duration: 2s; border-radius:4px; }\r",G+="."+C+".show { opacity:0.95; transition-duration: 2s; }\r",G+="."+D+" { position:absolute; left:2%; top:0; margin:0; width:96%; height:100%; overflow:hidden; display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: space-between; align-items: center; }\r",G+="."+E+" { border-right: 4px solid "+z+"; border-bottom: 4px solid "+z+"; width: 6px; height: 6px; transform: rotate(-45deg); opacity:0; transition-duration: 1s; }\r",G+="."+E+".show { opacity:1; transition-duration: 1s; }\r",G+="."+F+" { display: inline-block; font-family:Arial; font-weight:700; color: "+z+"; opacity:0; transition-duration: 2s; text-align:center; }\r",G+="."+F+".show { opacity:1; transition-duration: 2s; }\r",G+="</style>\r",G+='<div id="'+A+'" class="'+C+'" >',G+="</div>",G+='<div id="'+B+'" class="'+D+'">',G+="</div>",o.innerHTML=G,l.tick=function(a){d(a)},l.killNow=function(){w=!0},l.actUpdt=function(a){!0===a.curStatus.scroll.scrlng&&(x=Date.now())},m.heartH.subscribe(l.tick,"unit_capbox_"+n)}}(domtool),unit_exec=function(a,b,c,d,e,f,g,h,i,j){return function(k){function l(a){da.logger.writex({msg:a,prefix:"unit_exec",inst:ya})}function m(a,b){da.logger.debugAlert(a,b)}function n(a){da.logger.writex({tgl:!0,msg:a,prefix:"unit:"+k.unitName+" (unit_exec)"})}function o(a,b){ga.fireLdrEvt("/_s50 unit"+a,b)}function p(){"sys"===fa.ctxId&&da.expreg_1.registerExposure(bb,cb)}function q(a,b,c){da.trackhub.sendEvent("stage","/"+fa.placementId+"/_s50 units"+a,b,c,!0)}function r(a,b,c){da.trackhub.sendEvent("stage","/"+fa.placementId+"/_s20 exec_tree/"+k.activeLayout+"/"+Ma+"/"+Ra+a,b,c)}function s(a,b,c){da.trackhub.sendEvent("units","/${"+Ra+"|*AllUnits*}$"+a,b,c)}function t(){!0!==wb&&!1===Db&&(Db=!0,aa(Ha,"clck"),s("/_s90 user_actv","_s40 click",{res:"max"}),ba.fireEvent("click"))}function u(a){if(null!==ra){var b=ra.getDomBoxStatus();null!==b&&!0!==Tb&&(a.posX+a.framew+2*b.width-b.left<0||(l(),Tb=!0))}}function v(a){if(!0===fb.shareable&&null!==ra){var b=Math.floor(a/fb.rowHeight%fb.effMaxRowCnt);switch(!0!==Ub&&Math.abs(b-fb.rowIdx)<=1&&(l(),Ub=!0),Ob){case"INIT":if(b===fb.rowIdx){Ob="IN_SHOW",Pb=!0,l();break}Pb=!0,Ob="NOT_IN_SHOW",l();break;case"IN_SHOW":if(b!==fb.rowIdx){Ob="NOT_IN_SHOW",l();break}break;case"NOT_IN_SHOW":if(x(3e3),b===fb.rowIdx){Ob="IN_SHOW",l();break}}}}function w(a){switch(Rb){case"INIT":if(null===ra)break;if(!0!==Pb)break;ra.setShare(Ob),Qb=Ob,Rb="RDY";break;case"RDY":if(!1!==Nb)break;if(Ob===Qb)break;if(a-y()<1e3)break;Sb=a,Rb="DBIN";break;case"DBIN":if(Ob===Qb||!1!==Nb){Rb="RDY";break}if(a-Sb<1e3)break;if(a-y()<4e3)break;x(4e3),ra.setShare(Ob),Qb=Ob,Sb=a,Rb="HLDF";break;case"HLDF":if(a-Sb<2e3)break;Rb="RDY"}}function x(a){null!==zb&&zb.setStandBy(Date.now()+a)}function y(){return null===zb?0:zb.getStandBy()}function z(){function a(a,b){return"unspecified"===a?a:a.split("-")[b]}function b(a){var b="*** WARNING *** unit code not found ("+Ra+")";return l(),n(b),"ERROR"}if(!0===Wa)return"dontuse";var c=a(Ta.unitCodes,$a);if(void 0===c||""===c)return b(c);if("unspecified"!==c)return c;if("adf"!==fa.ctxId)return b(c);var c=a(fa.adfrm_vars.unitCodes,$a);return void 0===c?b(c):"unspecified"===c||""===c?b(c):c}function A(a){Mb.push("foreback:"+a),ra.setForeBack(a),l()}function B(a){ub.push(a),F(!0===vb?"visibOn":"visibOff")}function C(a){var b=[];ub.forEach(function(c){c!==a&&b.push(c)}),ub=b}function D(a,b){ub.forEach(function(c){c(a,b)})}function E(){null!==zb&&zb.updAllAdps()}function F(a,b){switch(a){case"hoverOn":if(Y("hover_on",!0,!0),Y("hover_off",!1,!0),ga.registerHover(Ra,!0),ta&&ta.mouseHoverReport(!0),!0===Cb)break;Cb=!0,aa(Ha,"hvon");break;case"hoverOff":Y("hover_off",!0,!0),Y("hover_on",!1,!0),ga.registerHover(Ra,!1),ta&&ta.mouseHoverReport(!1);break;case"visibOn":Y("visib_on",!0,!0),Y("visib_off",!1,!0),Ib=!0,l(),ba.fireEvent("visibOn",{unitName:Ra,fbxID:Aa,unitIdx:$a});break;case"visibOff":Y("visib_off",!0,!0),Y("visib_on",!1,!0),Ib=!1,l(),ba.fireEvent("visibOff",{unitName:Ra,fbxID:Aa,unitIdx:$a});break;case"dimchange":!0===Wa?da.xFrameInt.dimchg(ua,b):E();break;case"lchok":sa=!0,ba.fireEvent("unit_created",{unitName:Ra});break;case"dbx_click":Y("click",!0,!0),t();break;case"lcherr_to":case"lcherr_ex":n("could not launch unit - msg: "+b.msg);break;case"dmbx_error":ba.killNow("dmbx"),n("unit dombox error - msg: "+b.msg);break;case"lchwrn_noroom":n("unit dombox warning - msg: "+b.msg)}null!==zb&&zb.domBoxMsg(a,b)}function G(){function a(a){if(null===a)return"{null}";if(void 0===a)return"undefined";var b="";for(var c in a){var d=a[c];d=null===d?"null":void 0===d?"undefined":d.toString(),b+="<b>"+c+"</b>: "+d+"</br>"}return b}var b;b=!0===fa.confined?"Framed":null!==pa?"In-FIF":"In-Page";var c="NA",d={sourceName:"NA",sourceIdx:"NA",sandbox:"NA",sourcesetName:"NA",width:"NA",height:"NA",segmName:"NA",stylename:"NA",logic:"NA",zindex:"NA",price:"NA",cost:"NA",floor:"NA"};if(null!==zb){var e=zb.gcapi();null!==e&&(c=e.getName(),d=e.getCurSrcInfo())}var f="";f+="<p>",f+="<b> << </b><mark><strong>"+Aa+"</strong></mark><b> >> </b>",f+=!0===Wa?"&nbsp;&nbsp;<strong>("+Va.classID+")</strong>":"",f+="</p>",f+="<b>Unit:</b> "+Ra+"</br>",f+="<b>Section:</b> "+Ma+" "+(!0===Na?"(physical)":"(virtual)")+"</br>",f+="<b>Layout:</b> "+La+"</br>",f+="<b>Stage:</b> "+Ja+"  ("+Ka.tag+")</br>",f+="<b>Partition:</b> "+ib+"</br>",f+="</br>",!0!==Wa&&(f+="<b>Adpost:</b> "+c+"</br>",f+="<b>Tag:</b> "+d.sourceName+"</br>",f+="<b>Segment:</b> "+d.segmName+"</br>",f+="<b>Call Idx:</b> "+d.sourceIdx+"</br>",f+="<b>Sandbox: </b> "+(!0===d.sandbox?"YES":"NO")+"</br>",f+="</br>"),f+="<b>Context: </b> "+b+"</br>",f+="</br>",f+="<b>Schema:</b> "+Ta.schema+"</br>",f+="<b>Position:</b> "+Ta.position+"</br>",f+="<b>Index:</b> "+Ta.index+"</br>",f+="<b>RowIdx:</b> "+Ta.rowidx+"</br>",f+="</br>",f+="<b>Reference:</b> "+Ta.reference+"</br>",f+="<b>Ref Cls:</b> "+Ta.refcls+"</br>",f+="<b>Ref ID:</b> "+Ta.refid+"</br>",f+="<b>Ref Idx:</b> "+Ta.refidx+"</br>",f+="</br>";var g={};return null!==ra&&(g=ra.getDomBoxStatus()),f+="<b>Dims:</b> "+g.width+"x"+g.height+"</br>",f+="<b>zIndex:</b> "+Ta.zindex+"</br>",f+="<b>Style:</b> "+Ta.style+"</br>",f+="</br>",f+="<b>Expand:</b> "+Ta.expand+"</br>",f+="<b>Compress:</b> "+Ta.compress+"</br>",f+="<b>HoldOff:</b> "+Ta.holdoff+"</br>",f+="<b>Visib Offset:</b> "+Ta.voff+"</br>",f+="<b>MaxSeekTime:</b> "+Ta.maxSeekTime+"</br>",f+="</br>",f+="<b>Width:</b> "+Ta.width+"</br>",f+="<b>Max Width:</b> "+Ta.maxwidth+"</br>",f+="<b>Min Width:</b> "+Ta.minwidth+"</br>",f+="<b>X-Factor:</b> "+Ta.xfactor+"</br>",f+="<b>X-Align:</b> "+Ta.xalign+"</br>",f+="<b>X-Trim:</b> "+Ta.xtrim+"</br>",f+="<b>X-Off:</b> "+Ta.xoff+"</br>",f+="</br>",f+="<b>Height:</b> "+Ta.height+"</br>",f+="<b>Max Height:</b> "+Ta.maxheight+"</br>",f+="<b>Min Height:</b> "+Ta.minheight+"</br>",f+="<b>Y-Factor:</b> "+Ta.yfactor+"</br>",f+="<b>Y-Align:</b> "+Ta.yalign+"</br>",f+="<b>Y-Trim:</b> "+Ta.ytrim+"</br>",f+="<b>Y-Off:</b> "+Ta.yoff+"</br>",f+="<b>Form Factor:</b> "+Ta.formfactor+"</br>",f+="</br>",f+="<b>Float Param:</b> "+Ta.floatpar+"</br>",f+="<b>Margin Left:</b> "+Ta.marginleft+"</br>",f+="<b>Margin Right:</b> "+Ta.marginright+"</br>",f+="<b>Margin Top:</b> "+Ta.margintop+"</br>",f+="<b>Margin Bottom:</b> "+Ta.marginbottom+"</br>",f+="</br>",f+="<b>Logic:</b> "+d.logic+"</br>",f+="<b>Price:</b> "+d.price+"</br>",f+="<b>Floor:</b> "+d.floor+"</br>",f+="<b>Cost:</b> "+d.cost+"</br>",f+="</br>",f+="<b>Version:</b> "+ea.versionFolder+"</br>",f+="</br>",f+="</br><b>--- Publishing ----</b></br>",f+=a(Za),f=f.replace(/\s/g,"&nbsp;")}function H(){return!0}function I(){function a(a,b,c){function d(a,b,c){var d="unspecified";return!0!==c&&(!0!==fa.confined&&("ifrm"===b&&(a.schema===d&&a.position===d)))}if(!0===ja)oa=!1,pa=ka,qa=la;else if(!0===(oa=d(Ta,a,Na))){var e=wa.locateInPage(window,b,c);if(null===e)return P("cannot locate:"+b),{stat:"error",msg:"cannot locate:"+b};pa=e,qa=e.contentWindow}return{stat:"ok",msg:""}}var b=!1;!0===fa.debugVars.dpx&&(b=!0),"sys"!==fa.ctxId&&(b=!1);var c="no_part",d="no_part",f="no_part";null!==hb&&(c=hb.cntElmID,d=hb.trgElmID,f=hb.trgElmType);var g=a(f,d,c);if("ok"!==g.stat)return{stat:g.stat,msg:g.msg};var i=new h({master:ba,boxLocus:Sa,xtnCode:Qa,type:"unt",comps:da,bootParams:fa,plcmID:ea.placementId,cllBks:ga,msgClbk:F,ovlStrClbk:G,mayShowOvrNow:H,enableOvr:b,restrLoc:Na,trgDomElm:k.sectCoreDomElm,abstrElmID:Aa,noBorder:!0,attributes:Ta,motiondata:k.motiondata,twin:na,skinParams:fb,glryParams:gb,contFrmTagId:c,targetTagId:d,targetElmType:f,domElmId:Ba,domElmIdPrfx:za,stylename:Ta.style,confined:fa.confined,isAdFrame:Wa,insInFIF:oa,hostElm:pa,hostWnd:qa,zindex:Ta.zindex,glryIdx:ab,boxName:Ra});if(null===i)return{stat:"error",msg:"could not create dombox"};actMgrOptions={master:ba,comps:da,testCase:fa.testCase,startTime:ia,activityFlags:Hb,unitfbxID:Aa,unitName:Ra,position:pb,reference:qb,row:rb,trackhub:da.trackhub,dummy_item:0};var j=new e(actMgrOptions);return null===j?{stat:"error",msg:"could not create unit_actv"}:{stat:"ok",msg:"",domBox:i,unit_actv:j}}function J(a){var b={domBox:ra,fbxID:Aa,unitDomElmID:Ba,unitDomElmIdPrfx:za,afterAds:sb,floatpar:tb,en:fa.debugVars.dpx,publishing:Za,insInFIF:oa,hostElm:pa,hostWnd:qa,cost:lb,onsold:mb,stylename:Ta.style,stageName:Ja,stageAttributes:Ka,activeLayout:La,sectionName:Ma,phySect:Na,unitName:Ra,unitAttributes:Ta,adframeParams:Va,isAdFrame:Wa,vastDevice:fa.vastDevice,userval:xb,debugVars:fa.debugVars,imprID:fa.imprID,clientID:fa.clientID,stageID:Ia,sectID:Da,unitID:Ea,partID:ib,assetID:ob,smart:Ta.smart,prime:Ta.prime,useLowRes:Ta.lowres,seekdelay:Ta.seekdelay,accChnID_stage:Ha,accChnID_unit:yb,adpostdata:k.adpostdata,getActFlags:S},c={master:ba,comps:da,cllBks:ga,plcmParams:ea,bootParams:fa,startTime:ia,fbxID:Aa,unitNumID:xa,trackDomain:"",sectionHostElm:ka,sectionHostWnd:la,sectionInFIF:ja,sectID:Da,unitOptions:b,trfAdManager:Vb,brokerUnit:a};return l(),ha(Aa+" launching..."),new f(c)}function K(){if(null===ua){var a=ra.getDomBoxStatus(),b=ra.getDomElm();return l(),da.xFrameInt.ladfm({xtnCode:Qa,origin:Ra,hostWnd:qa,domBoxElm:b,width:a.width,height:a.height,adframeParams:Va,stageAttributes:Ka,adfLaunchClbk:M,adfMsgClbk:N,unitCodes:Ta.unitCodes})}}function L(a){Vb=new j({comps:k.comps,cllBks:k.cllBks,bootParams:k.bootParams,addLogLine:ga.addLogLine,flexzone:a})}function M(a){ua=a}function N(a,b){switch(a){case"medplcd":W(!1);break;case"medovr":X(!1);break;case"close_me":$("adfrm"),null!==Qa&&ga.killExtension(Qa);break;case"ex_evt":null!==Qa&&ga.reportExtEvent(Qa,b);break;case"event_flag":Y(b.event,b.flag,!1)}}function O(){var a=ra.getDomElm();va=new g({master:ba,comps:da,cllBks:ga,bootParams:fa,domBoxElm:a,caption:Ta.capbox_msg})}function P(a){var b="unit_execution_error: exception - unitID: "+Aa+" - name: "+Ra+" - msg: "+a;l(),ha(b),n("unit_execution_error: exception - msg: "+a),ba.fireEvent("unitError_Exec",{unitName:Ra,unitfbxID:Aa,msg:""+a}),Q(a,"DOMUNIT_EXEC_ERROR","exception")}function Q(a,b,c){function d(a){if(null===a)return"{null}";if(void 0===a)return"undefined";var b="";for(var c in a){var d=a[c];d=null===d?"null":void 0===d?"undefined":d.toString(),b+=c+" = "+d+"\n"}return b}var e="Message:  ";(e+=a+"\n\n",void 0!==a.stack&&(e+="\nStack:\n",e+=a.stack.toString()+"\n\n"),e+="====== Unit Data: ======\n\n"+d({unitNumID:xa,fbxID:Aa,reference:Ba,stageName:Ja,stageAttributes:Ka,activeLayout:La,sectionName:Ma,unitName:Ra})+"\n\n",e+="====== Unit Attributes: ======\n\n"+d(Ta)+"\n\n",null!==ra)?e+="====== DOM Params: ======\n\n"+d(ra.getDomParams())+"\n\n":e+="====== DOM Params: ======\n\nNOT AVAIL (_domBox === null)\n\n";var f={debugStrings:[],from:b,subject:c,text:e};da.mailmaster.sendObj(f),m(b+" --\x3e "+c,f)}function R(b){switch(Ab){case"INIT":if(o("","_s10 proc_start"),"adf"===fa.ctxId){l(),Ab="DEPL";break}var c=db.getCondSignal("inst");if("no"===c||"error"===c){"error"===c?(r("","_s12 unit_avoided [inst cond error]"),n("unit avoided [inst cond error]")):(r("","_s12 unit_avoided [inst cond result]"),n("unit avoided [inst cond result]")),Ab="PARK";break}if("undef"===c)break;if(db.signStep(),!0===da.quickVars.shouldByPass("units",Ra))return l(),r("","_s12 unit_avoided [qvars]"),void(Ab="PARK");Ab="CHPUB";case"CHPUB":var d=Ca.shouldPub(Za,fa.debugVars);if("wait"===d){l();break}if("no"===d){l(),r("","_s12 unit_avoided [not_published]"),Ab="PARK";break}q("/_s10 allotted",Ra),r("","_s10 unit_allotted");var e=!0;if(!0===fa.debugVars.disableBarLogic&&(e=!1),!0===e&&!0!==Ca.checkReductions(Ya,0)){l(),r("","_s12 unit_avoided [reduc]"),Ab="PARK";break}l(),Ab="WPRT";case"WPRT":if(null===hb&&null===jb)break;l(),q("/_s20 triggered",Ra+" ["+ib+"]"),r("","_s30 unit_part_triggered ("+ib+")"),r("","_s35 unit_wait_cond"),Bb=b,Ab="CKENCND";case"CKENCND":if("sys"===fa.ctxId){if("unspecified"===Ya.delay&&b-Bb>a.stage.envTimeout){r("","_s40 unit_env_timeout"),Ab="PARK";break}var f=Ca.checkEnvCond(Ya,ga.getWindowInfo(),ga.getSnippetValues(),ga.getDeployedList(),ga.getContentList(),!0);if("dontknow"===f.status||"wait"===f.status)break;if("go"!==f.status){var g="NA";"avoided_room"===f.msg?g="room":"avoided_snip"===f.msg?g="snip":"avoided_browser"===f.msg?g="browser":"avoided_link"===f.msg?g="link":"avoided_cnt"===f.msg&&(g="cnt"),ga.registerDeployment(Ra,!1),r("","_s45 unit_avoided ["+g+"]"),n("unit avoided - "+g),Ab="PARK";break}}Ab="WFSPCND1";case"WFSPCND1":var c=db.getCondSignal("gate1");if("error"===c){ga.registerDeployment(Ra,!1),r("","_s12 unit_avoided [gate1 cond error]"),n("unit avoided [gate1 cond error]"),Ab="PARK";break}if("yes"!==c)break;var c=db.getCondSignal("wait1");if("error"===c){ga.registerDeployment(Ra,!1),r("","_s12 unit_avoided [wait1 cond error]"),n("unit avoided [wait1 cond error]"),Ab="PARK";break}if("yes"!==c)break;db.signStep(),Ab="WFSPCND2";case"WFSPCND2":var c=db.getCondSignal("gate2");if("error"===c){ga.registerDeployment(Ra,!1),r("","_s12 unit_avoided [gate2 cond error]"),n("unit avoided [gate2 cond error]"),Ab="PARK";break}if("yes"!==c)break;var c=db.getCondSignal("wait2");if("error"===c){ga.registerDeployment(Ra,!1),r("","_s12 unit_avoided [wait2 cond error]"),n("unit avoided [wait2 cond error]"),Ab="PARK";break}if("yes"!==c)break;Ab="DEPL";case"DEPL":db.signStep(),l(),r("","_s50 unit_deployed"),ha(Aa+" deployed"),s("/_s90 user_actv","_s00 deployed (ref)"),ob=z(),da.parcels.sendp("liveacc",{evt:"regPrxTrg",data:{name:Ra,type:"unit",id:Ea,aid:ob,exdata:null}}),!1===Ta.onsoldx&&T(!1),ga.execSnippet(Ta.ondeploy),Y("deploy",!0,!0),da.tracker.exNotif("depl",{unitName:Ra}),ga.registerDeployment(Ra,!0),Fb=!0,aa(Ha,"lnch",{delay:b-ia}),p(),Ab="WNOSCRL";case"WNOSCRL":if(!1!==Nb)break;var f=I();if("ok"!==f.stat){ga.registerDeployment(Ra,!1),r("","_s47 unit_dom_error"),n("unit_dom_error"),Ab="PARK";break}ra=f.domBox,ta=f.unit_actv,v(0),o("","_s30 deployed"),Bb=b,Ab="WFDB";case"WFDB":if(null!==Fa){_(Fa),Ab="PARK";break}if(b-Bb>a.stage.domboxTimeout){l(),r("","_s60 dombox to"),Ab="PARK";break}if(null===ra||!0!==sa)break;if(l(),!0===na)ra.insLink(Ta.link);else if(!0===Xa)O();else if(!0===Wa)K();else{var h=!1;"unspecified"!==Ta.flexzone&&(L(Ta.flexzone),h=!0),zb=J(h),zb.runAdPosts(!0)}"overlay"===Ta.position&&A("back"),Gb=!0,Bb=b,Ab="WFSC";case"WFSC":if(null!==Fa){_(Fa),Ab="PARK";break}var c=db.getCondSignal("enter");if("error"===c){ga.registerDeployment(Ra,!1),r("","_s13 unit_aborted [enter cond error]"),n("unit aborted [enter cond error]"),Ab="PARK";break}if("yes"!==c)break;Z("enter"),db.signStep(),Y("enter",!0,!0),Ab="ACTIN";case"ACTIN":if(null!==Fa){_(Fa),Ab="PARK";break}var c=db.getCondSignal("xpand");if("error"===c){r("","_s57 unit_exit [xpand cond error]"),n("unit xpand [xpand cond error]"),Ab="PARK";break}if("yes"===c){Z("xpand"),db.signStep(),Y("xpand",!0,!0),Ab="ACTXPD";break}var c=db.getCondSignal("exit");if("error"===c){r("","_s57 unit_exit [exit cond error]"),n("unit exit [exit cond error]"),Ab="PARK";break}if("yes"===c){Z("exit"),db.signStep(),Y("exit",!0,!0),Ab="ACTOUT";break}var c=db.getCondSignal("unload");if("yes"===c||"error"===c){"error"===c?(r("","_s55 unit_unload [unload cond error]"),n("unit unload [unload cond error]")):(r("","_s55 unit_quit [unload cond result]"),n("unit unload [unload cond result]")),Z("unload"),$("scn_unld"),db.signStep(),Y("unload",!0,!0),Ab="PARK";break}if(b-Bb<a.stage.condCheckPeriod)return;Bb=b
;var f=Ca.checkEnvCond(Ya,ga.getWindowInfo(),ga.getSnippetValues(),ga.getDeployedList(),ga.getContentList(),!1);if("go"!==f.status){_("cond"),Ab="PARK";break}ta&&ta.visibReport(ra.isVisib());break;case"ACTOUT":if(null!==Fa){_(Fa),Ab="PARK";break}var c=db.getCondSignal("enter");if("error"===c){r("","_s57 unit_enter [enter cond error]"),n("unit enter [enter cond error]"),Ab="PARK";break}if("yes"===c){Z("enter"),db.signStep(),Y("enter",!0,!0),Ab="ACTIN";break}var c=db.getCondSignal("unload");if("yes"===c||"error"===c){"error"===c?(r("","_s55 unit_unload [unload cond error]"),n("unit unload [unload cond error]")):(r("","_s55 unit_quit [unload cond result]"),n("unit unload [unload cond result]")),Z("unload"),$("scn_unld"),db.signStep(),Y("unload",!0,!0),Ab="PARK";break}break;case"ACTXPD":if(null!==Fa){_(Fa),Ab="PARK";break}var c=db.getCondSignal("enter");if("error"===c){r("","_s57 unit_xpand_enter [enter cond error]"),n("unit xpand enter [enter cond error]"),Ab="PARK";break}if("yes"===c){Z("enter"),db.signStep(),Y("enter",!0,!0),Ab="ACTIN";break}break;case"PARK":ga.registerDeployment(Ra,!1),da.heartL.unsubscribe(ba.tick)}}function S(){return Hb}function T(a){if(!0!==nb){var b=U();null!==b&&(ba.fireEvent("costping",{costType:"unit",amnt:b,onsold:!0===a?"1":"0"}),nb=!0)}}function U(){function a(a){return l(),n("ERROR - unit: "+Sa+" msg:"+a),r("","_s38 unit_error_costx - "+a,{res:"hi"}),null}function b(a){return void 0!==a.exdata&&("NA"!==a.exdata&&null!==a.exdata)}if("unspecified"!==Ta.costx){var c=parseFloat(Ta.costx);return!0===isNaN(c)?a("bad stage cost spec"):Math.round(100*c)/100}if("intrinsic"!==ib&&null!==hb){if(!0!==b(hb))return null;var c=parseFloat(hb.exdata.prc)/100;return!0===isNaN(c)?a("bad exdata cost spec"):Math.round(100*c)/100}return null}function V(){function a(){for(var a=[],b=0;b<120;b++)if(b%4==0){var c={thrsh:b,sent:!1};a.push(c)}return a}function b(a){for(var b=0;b<40;b++){var c=h[b];void 0!==c&&(!0!==c.sent&&(a<c.thrsh||(s("/_s90 user_actv/_s10 visib_time_dist",c.thrsh,{scl:"mediumtimes",res:"lo"}),l(),c.sent=!0)))}}var c=this,d="INIT",e=!1,f=0,g=0,h=a();c.tick=function(a){switch(d){case"INIT":if(null===zb)break;d="NONV";break;case"NONV":if(!0!==ra.isVisib())break;!0!==e&&(e=!0,aa(Ha,"vson")),f=a,d="YESV";break;case"YESV":if(!0!==ra.isVisib()){d="NONV";break}if(a-f<1e3)break;g+=a-f,f=a,b(Math.round(g/1e3))}}}function W(a){!1===Ga&&(l(),ga.registerMediaReady(Ra,!0),!0===a&&"adf"===fa.ctxId&&da.xFrameInt.smth("medplcd"))}function X(a){if(ba.foreMsg("adpdone",{unitexec:ba,unitname:Ra,unitid:Ba,unitattr:Ta}),ga.registerMediaOver(Ra,!0),ga.registerMediaReady(Ra,!1),!0===a&&"adf"===fa.ctxId)return void da.xFrameInt.smth("medovr")}function Y(a,b,c){var d=Ua[a];if("string"==typeof d&&"unspecified"!==d&&ga.setEventFlag(d,b,"unit: "+Ra),!0===c&&"adf"===fa.ctxId)return void da.xFrameInt.smth("event_flag",{event:a,flag:!0})}function Z(a){function b(a){null!==Vb&&Vb.zoneScene(a)}if(null!==ra){var c="#3E3E scene change ["+a+"] - unit ["+Aa+"]";l(),n(c),ra.sceneChange(a),b(a)}}function $(a){_(a),null!==ua&&da.xFrameInt.remvFrm(ua)}function _(a){if(!0!==Ga){Ga=!0,null!==zb&&zb.killAllAdps(a),null!==ra&&ra.delDomBox(),r("","_s90 unit_closed - ("+a+")"),l(),n("unit killed ("+Aa+")"),Mb.push("kill_unit");var b={unitName:Ra,unitfbxID:Aa};ba.fireEvent("unit_aborted",b)}}function aa(a,b,c){return}var ba=this,ca=k.master,da=k.comps,ea=k.plcmParams,fa=k.bootParams,ga=k.cllBks,ha=ga.addLogLine,ia=k.startTime,ja=(k.unitTracking,k.sectionInFIF),ka=k.sectionHostElm,la=k.sectionHostWnd,ma=k.sectionAttr,na=k.twin,oa=!1,pa=null,qa=window,ra=null,sa=!1,ta=null,ua=null,va=null,wa=new i,xa=k.unitNumID,ya=Math.round(999*Math.random()),za="_fb_",Aa="unit_"+xa+"_"+ya,Ba=za+Aa;"unspecified"!==k.attributes.stg_item_id&&ga.registerStageItemID(k.attributes.stg_item_id,Ba),o("","_s00 inst");var Ca=new b({bootParams:fa}),Da=k.sectID,Ea=Math.random().toString(16).substr(2,12),Fa=null,Ga=!1,Ha=k.accChnID_stage,Ia=k.stageID,Ja=k.stageName,Ka=k.stageAttributes,La=k.activeLayout,Ma=k.sectionName,Na=k.phySect,Oa=k.sectPartAttr,Pa=k.sectFlagTagAttr,Qa=k.xtnCode,Ra=k.unitName,Sa=fa.locus+"["+Ra+"]",Ta=k.attributes,Ua=k.events,Va=k.adframe,Wa=void 0!==Va,Xa=Ta.capbox,Ya=k.conditions,Za=k.publishing,$a=k.unitLoopIdx,_a=k.maxLoopIdx,ab=k.glryIdx,bb=(k.scrollSnap,"unit"),cb="unt_"+Ra,db=new c({comps:da,cllBks:ga,bootParams:fa,domElmName:k.unitName,scene:k.scene,expctrl:{evtType:bb,evtKey:cb}}),eb=new d({bootParams:fa}),fb=eb.getSknPrms(Ta,_a),gb=k.glryParams,hb=null,ib="intrinsic";"unspecified"!==Oa?ib=Oa:"unspecified"!==Ta.partition&&(ib=Ta.partition);var jb=null,kb="intrinsic";"unspecified"!==Pa?kb=Pa:"unspecified"!==Ta.flagtag&&(kb=Ta.flagtag),"intrinsic"!==ib?kb="d_u_m_m_y":"intrinsic"!==kb&&(ib="d_u_m_m_y");var lb=0;"unspecified"!==Ta.cost&&(lb=parseFloat(Ta.cost));var mb=Ta.onsold,nb=!1,ob="NA",pb=k.attributes.position,qb=k.attributes.reference,rb=k.attributes.row,sb=Ta.afterads,tb=Ta.floatpar,ub=[],vb=!1,wb=!1;void 0===tb&&(tb="left");var xb=0,yb="_unit"+Math.round(9999*Math.random());da.accbeam.register("unit",yb,a.accbeam.channels.unit.red),aa(Ha,"inst");var zb=null,Ab="INIT",Bb=0,Cb=!1,Db=!1,Eb=new V,Fb=!1,Gb=!1,Hb={isUnitVisible:!1,isUnitActive:!1,isUnitHovering:!1,isMouseAction:!1},Ib=!1,Jb=!1,Kb=null,Lb=null,Mb=[],Nb=!1,Ob="INIT",Pb=!1,Qb=null,Rb="INIT",Sb=0,Tb=!1,Ub=!1,Vb=(Ta.trackevts.split("|"),null);l(),ba.fireEvent=function(a,b){switch(a){case"adp_running":q("/_s40 adp running",Ra);break;case"adp_content":q("/_s50 adp content",Ra),!0===b.active&&q("/_s52 adp content (act)",Ra),!0===Ta.onsoldx&&!0===b.active&&T(!0),Y("content",!0,!0),!0===b.active?Y("cont_act",!0,!0):Y("cont_psv",!0,!0);break;case"mediaExhausted":Y("mediaexh",!0,!0);break;case"unit_created":q("/_s30 unit created",Ra);break;case"unitError_Create":r("","_s30 unit_error_creat",{res:"hi"});break;case"unitError_Exec":r("","_s31 unit_error_exec",{res:"hi"});break;case"unitError_Oversized":r("","_s32 unit_error_oversized",{res:"hi"});break;case"frst_visib":return void s("/_s90 user_actv","_s10 frst_visib");case"re_visib":return void s("/_s90 user_actv","_s11 re_visib");case"frst_actv":return void s("/_s90 user_actv","_s20 frst_actv");case"re_actv":return void s("/_s90 user_actv","_s21 re_actv");case"frst_hvr":return void s("/_s90 user_actv","_s30 frst_hvr");case"re_hvr":return void s("/_s90 user_actv","_s31 re_hvr");case"adp_click":t();break;case"addVisLstn":B(b);break;case"remVisLstn":C(b);break;case"visibOn":vb=!0,D(a,b);break;case"visibOff":vb=!1,D(a,b);break;case"mediaready":Y("mediaready",!0,!0);break;case"mediaover":Y("mediaover",!0,!0),X(!0);break;case"mail":da.mailmaster.send(b.from,b.subject,b.text,b.debugStrings);break;case"costping":if(null!==U()&&"unit"!==b.costType)return;b.untnam=Ra}ca.fireEvent(a,b)},ba.fireEvent("unit_start",{unitName:Ra,unitfbxID:Aa,smart:Ta.smart}),ba.fireEvent("unit_ex",{unitObj:ba,unitName:Ra}),ba.activityReport=function(a){ta&&ta.activityReport(a)},ba.getCurZIndex=function(){return null===ra?"auto":ra.getCurZIndex()},ba.getUnitName=function(){return Ra},ba.getDbxStat=function(){return null===ra?null:ra.getDomBoxStatus()},ba.isOvrOn=function(){return null!==zb&&(null!==ra&&ra.isOvrOn())},ba.getUnitFbxID=function(){return Aa},ba.killNow=function(a){Fa=a,null!==va&&va.killNow()},ba.plcMed=function(){W(!0)},ba.actUpdt=function(a){Nb=a.curStatus.scroll.scrlng,v(a.curStatus.scroll.pos.abs),null!==ta&&ta.actUpdt(a),null!==ra&&ra.actUpdt(a),null!==zb&&zb.actUpdt(a),null!==va&&va.actUpdt(a)},ba.sknScrl=function(a){null!==ra&&ra.sknScrl(a)},ba.isDeployed=function(){return Fb},ba.isReady=function(){return Gb},ba.tick=function(a){null===hb&&(hb=ga.getPartitionObj(ib)),null===jb&&(jb=da.msghub.getFlagTag(kb)),R(a),w(a),!0!==Ga&&(null!==ra&&ra.tick(a),Eb.tick(a),zb&&zb.tick(a),ta&&ta.tick(a))},ba.foreCmd=function(a,b){if(null===zb)return"error";switch(a){case"fore_ON":Jb=!0;break;case"fore_OFF":Jb=!1;break;case"fore_in":Kb=!0,A("fore");break;case"fore_out":Kb=!1,A("back");break;case"back_in":Lb=!0;break;case"back_out":Lb=!1}return zb.foreCmd(a,b)},ba.foreMsg=function(a,b){return ca.foreMsg(a,b)},ba.setupScrl=function(a){null!==ra&&ra.setupScrl_U(a)},ba.shdSecLoad=function(){return!0!==ma.lazyload||(Tb||Ub)},ba.scrXPos=function(a){u(a)},ba.isVisib=function(){return null!==ra&&ra.isVisib()},ba.setStb=function(a){x(a)},ba.dimChange=function(){E()},da.heartH.subscribe(ba.tick,"unit_exec"),ba.tick(Date.now())}}(config,barlogix,scenelogic,skincalc,unit_actv,unit_flow,unit_capbox,dombox,textools,stg_admgr),section_exec=function(a,b,c,d,e,f,g,h){return function(h){function i(a){S.logger.writex({msg:a,prefix:"sect_exec",inst:X})}function j(a){S.logger.writex({tgl:!0,msg:a,prefix:"sect:"+h.sectionName+" (sct_exec)"})}function k(a,b){V.fireLdrEvt("/_s40 section"+a,b)}function l(){"sys"===U.ctxId&&S.expreg_1.registerExposure($a,_a)}function m(a,b,c,d){var e="/"+U.placementId+"/_s20 exec_tree/"+h.activeLayout+"/"+ga+a;S.trackhub.sendEvent("stage",e,b,c,d)}function n(a,b){m("",a,b,!0)}function o(a,b){var c=void 0;void 0!==b&&(c={att:b,ard:100}),m("/_s00 **errors**",a,c)}function p(a,b,c){var d="/gallery/"+U.locus+"/"+ga+a;S.trackhub.sendEvent("performance",d,b,c)}function q(){!0===na.scrollable&&(Aa=5e3,Ba=30,!0!==isNaN(parseInt(na.scrolltime))&&(Aa=1e3*parseInt(na.scrolltime)),Da="auto","unspecified"!==na.scrollsnap&&(Da=na.scrollsnap))}function r(){null!==fb&&fb.setupScrl_S({enab:0!==Aa})}function s(a){function b(){function a(){if(null===fb)return null;var a=fb.getDomBoxStatus(),b=z();if(0===b)return null;var c=Math.round(a.xscrpos/b);return{buidx:c,tuidx:c+Math.floor(a.width/b)}}var b=a();if(null!==b){var c=b.buidx;b.tuidx>=la-1?ma=!1:c<=0&&(ma=!0)}return b.buidx}function c(a){return!0===a?1:-1}function d(a){aa.forEach(function(b){!0===b.isVisib()&&b.setStb(a)})}switch("dev"===U.env&&Fa!==Ea&&(i(),Fa=Ea),Ea){case"INIT":if(!0!==pb)break;if(null===fb)break;if(0===aa.length)break;if(0===Aa)break;t("init",100),p("","_s10 inst"),p("/_s10 unt_vsb_idx","inst"),p("/_s20 user_scrl_idx","inst"),Ea="INV";break;case"MNL":if(!0!==qb){Ea="INV";break}if(!0===La||!0!==V.isForeAvail()){Ma=a,Ea="STDBY";break}var e=b();if(!0===Ga&&(null!==Ja&&a-Ja>1e3?e!==Ka&&(i(),1===Ha&&p("","_s30 user_scrl_frst"),p("/_s20 user_scrl_idx","scridx_"+(Ha<10?"0"+Ha:Ha)),Ha++,Ka=e):(i(),1===Ia&&p("","_s32 auto_scrl_frst"),p("/_s22 auto_scrl_idx","scridx_"+(Ia<10?"0"+Ia:Ia)),1===Ia&&d(4e3),Ia++),t("scrl",70),Ga=!1),a<Ca)break;v(c(ma),a),t("timer_reload",100),i();break;case"INV":if(!0!==qb)break;!0===rb&&p("","_s20 first visb (sec)"),rb=!1,t("timer_visib",70),Ea="MNL";break;case"STDBY":if(a-Ma<2e4&&(!0===La||!0!==V.isForeAvail()))break;"nrm"===Na?t("std_by",100,Oa):"fil"===Na?t("std_by",100,Oa):t("std_by",100),Na=null,Ea="MNL"}}function t(a,b,c){var d;if(void 0!==c)d=1e3*c;else{var e=100*(1+Ba/100*Math.random())/100;d=Aa*e}void 0!==b&&(d=d*b/100),d>1e4&&(d=1e4);var f=Date.now()+Math.round(d);f<Ca||(Ca=f,i())}function u(){if(null!==fb){var a=fb.getDomBoxStatus().width;aa.forEach(function(b){b.setupScrl({enab:0!==Aa,framew:a,snaps:Da})})}}function v(a,b){var c=z();fb.scrlStep(c*Math.round(a)),Ja=b}function w(a,b,c){if("on"===a)Pa[c]={ts:Date.now(),st:a};else if("off"===a){var d=Pa[c];if(void 0===d||"on"!==d.st)return;var e=Math.floor((Date.now()-d.ts)/1e3);p("/_s60 adp_type_shw_tm/"+b,e,{scl:"cycleCount",res:"hi"}),d.st="off"}}function x(a,b,c){var d="prm"===b?{res:"hi"}:void 0;return"rdy"===a?(p("/_s40 adp_type_shw/"+b+"/"+c,"_s10 ready",d),void p("/_s40 adp_type_shw/"+b+"/*AllUnits*","_s10 ready",d)):"show"===a?(p("/_s40 adp_type_shw/"+b+"/"+c,"_s20 show",d),p("/_s40 adp_type_shw/"+b+"/*AllUnits*","_s20 show",d),void p("/_s50 adp_type_shr","type_"+b,d)):void 0}function y(){aa.forEach(function(a){a.dimChange()})}function z(){if(0===aa.length)return 1;if(null===ka)return 1;var a=ka.getDbxStat();return null===a?1:a.xwidth}function A(a,b){var c=oa[a];"string"==typeof c&&"unspecified"!==c&&V.setEventFlag(c,b,"sec: "+ga)}function B(a,b){switch(a){case"hoverOn":A("hover_on",!0),A("hover_off",!1);break;case"hoverOff":A("hover_off",!0),A("hover_on",!1);break;case"visibOn":A("visib_on",!0),A("visib_off",!1),qb=!0;break;case"visibOff":A("visib_off",!0),A("visib_on",!1),qb=!1;break;case"dbx_click":A("click",!0);break;case"updatePos":u();break;case"lchok":break;case"scrl":A("scroll",!0),Ga=!0;break;case"dimchange":y();break;case"lcherr_to":case"lcherr_ex":j("could not launch section - msg: "+b.msg);break;case"dmbx_error":Q.killNow("dmbx"),j("section dombox error - msg: "+b.msg);break;case"lchwrn_noroom":j("section dombox warning - msg: "+b.msg)}}function C(){function a(a){if(null===a)return"{null}";if(void 0===a)return"undefined";var b="";for(var c in a){var d=a[c];d=null===d?"null":void 0===d?"undefined":d.toString(),b+="<b>"+c+"</b>: "+d+"</br>"}return b}var b;b=!0===kb?"Framed":null!==nb?"In-FIF":"In-Page";var c="";c+="<p>",c+="<b> << </b><mark><strong>"+eb+"</strong></mark><b> >> </b>",c+=!0===qa?"&nbsp;&nbsp;<strong>("+pa.classID+")</strong>":"",c+="</p>",c+="<b>Section:</b> "+ga+" (physical)</br>",c+="<b>Layout:</b> "+h.activeLayout+"</br>",c+="<b>Stage:</b> "+da+"  ("+fa.tag+")</br>",c+="<b>Partition:</b> "+hb+"</br>",c+="</br>",c+="<b>Context: </b> "+b+"</br>",c+="</br>",c+="<b>Schema:</b> "+na.schema+"</br>",c+="<b>Position:</b> "+na.position+"</br>",c+="<b>Index:</b> "+na.index+"</br>",c+="<b>RowIdx:</b> "+na.rowidx+"</br>",c+="</br>",c+="<b>Ref Cls:</b> "+na.refcls+"</br>",c+="<b>Ref ID:</b> "+na.refid+"</br>",c+="<b>Ref Idx:</b> "+na.refidx+"</br>",c+="</br>",c+="<b>Width:</b> "+na.width+"</br>",c+="<b>Max Width:</b> "+na.maxwidth+"</br>",c+="<b>Min Width:</b> "+na.minwidth+"</br>",c+="<b>X-Factor:</b> "+na.xfactor+"</br>",c+="<b>X-Align:</b> "+na.xalign+"</br>",c+="<b>X-Trim:</b> "+na.xtrim+"</br>",c+="<b>X-Off:</b> "+na.xoff+"</br>",c+="</br>",c+="<b>Height:</b> "+na.height+"</br>",c+="<b>Max Height:</b> "+na.maxheight+"</br>",c+="<b>Min Height:</b> "+na.minheight+"</br>",c+="<b>Y-Factor:</b> "+na.yfactor+"</br>",c+="<b>Y-Align:</b> "+na.yalign+"</br>",c+="<b>Y-Trim:</b> "+na.ytrim+"</br>",c+="<b>Y-Off:</b> "+na.yoff+"</br>",c+="<b>Form Factor:</b> "+na.formfactor+"</br>",c+="</br>",c+="<b>Float Param:</b> "+na.floatpar+"</br>",c+="<b>Margin Left:</b> "+na.marginleft+"</br>",c+="<b>Margin Right:</b> "+na.marginright+"</br>",c+="<b>Margin Top:</b> "+na.margintop+"</br>",c+="<b>Margin Bottom:</b> "+na.marginbottom+"</br>",c+="</br>";var d=fb.getDomBoxStatus();return c+="<b>Dims:</b> "+d.width+"x"+d.height+"</br>",c+="<b>Style:</b> "+na.stylename+"</br>",c+="</br>",c+="<b>Version:</b> "+T.versionFolder+"</br>",c+="</br>",c+="</br><b>--- Publishing ----</b></br>",c+=a(h.publishing),c=c.replace(/\s/g,"&nbsp;")}function D(){function a(){var a=!1;return aa.forEach(function(b){!0===b.isOvrOn()&&(a=!0)}),a}return!0!==bb||!0!==a()}function E(a){if(!0===na.scrollable&&!0===pb&&null!==fb){var b=fb.getDomBoxStatus();if(null!==b){var c=b.width;aa.forEach(function(a){a.scrXPos({posX:b.xscrpos,framew:c})})}}}function F(b){switch(tb){case"INIT":if(k("","_s10 proc_start"),"adf"===U.ctxId){i(),tb="DEPL";break}var c=ab.getCondSignal("inst");if("no"===c||"error"===c){"error"===c?(n("_s00 section_avoided [inst cond error]"),j("section avoided [inst cond error]")):(n("_s00 section_avoided [inst cond result]"),j("section avoided [inst cond result]")),tb="PARK";break}if("undef"===c)break;if(ab.signStep(),!0===S.quickVars.shouldByPass("sections",ga)){i(),n("_s00 section_bypassed"),tb="PARK";break}tb="CHECK_PUB";case"CHECK_PUB":var d=Y.shouldPub(sa,U.debugVars);if("wait"===d){i();break}if("no"===d){i(),tb="PARK";break}n(!0===bb?!0===qa?"_s10 section_allotted [adframe]":"_s10 section_allotted [physical]":"_s10 section_allotted [virtual]");var e=!0;if(!0===U.debugVars.disableBarLogic&&(e=!1),!0===e&&!0!==Y.checkReductions(ra,0)){i(),tb="PARK";break}i(),tb="WPRT";case"WPRT":if(null===gb&&null===ib)break;i(),n("_s20 sect_part_triggered ["+hb+"]"),n("_s30 section_wait_cond"),ub=b,tb="WENCND";case"WENCND":if("sys"===U.ctxId){if("unspecified"===ra.delay&&b-ub>a.stage.envTimeout){i(),tb="PARK";break}var f=Y.checkEnvCond(ra,V.getWindowInfo(),V.getSnippetValues(),V.getDeployedList(),V.getContentList(),!0);if("dontknow"===f.status||"wait"===f.status)break;if("go"!==f.status){var g="NA";"avoided_room"===f.msg?(i(),g="room"):"avoided_snip"===f.msg?(i(),g="snip"):"avoided_browser"===f.msg?(i(),g="browser"):"avoided_link"===f.msg?(i(),g="link"):"avoided_cnt"===f.msg&&(i(),g="cnt"),n("_s40 section_avoided ["+g+"]"),j("section avoided - "+g),tb="PARK";break}}tb="WFSPCND1";case"WFSPCND1":var c=ab.getCondSignal("gate1");if("error"===c){V.registerDeployment(ga,!1),n("_s12 section_avoided [gate1 cond error]"),j("section avoided [gate1 cond error]"),tb="PARK";break}if("yes"!==c)break;var c=ab.getCondSignal("wait1");if("error"===c){V.registerDeployment(ga,!1),n("_s12 section_avoided [wait1 cond error]"),j("section avoided [wait1 cond error]"),tb="PARK";break}if("yes"!==c)break;tb="DEPL";case"DEPL":ab.signStep(),tb="WFSPCND2";case"WFSPCND2":var c=ab.getCondSignal("gate2");if("error"===c){V.registerDeployment(ga,!1),n("_s12 section_avoided [gate2 cond error]"),j("section avoided [gate2 cond error]"),tb="PARK";break}if("yes"!==c)break;var c=ab.getCondSignal("wait2");if("error"===c){V.registerDeployment(ga,!1),n("_s12 section_avoided [wait2 cond error]"),j("section avoided [wait2 cond error]"),tb="PARK";break}if("yes"!==c)break;ab.signStep(),n("_s50 section_deployed"),W("section deployed"),i(),k("","_s30 deployed"),O(ba,"lnch"),S.parcels.sendp("liveacc",{evt:"regPrxTrg",data:{name:ga,type:"sect",id:xa,exdata:null}}),!1===na.onsoldx&&I(!1),V.execSnippet(na.ondeploy),A("deploy",!0),V.registerDeployment(ga,!0),ob=!0,l(),tb="WNOSCRL";case"WNOSCRL":if(!0===bb&&!1!==za)break;if(!0===bb&&null===(fb=K())){i(),n("_s72 section_undeployed"),tb="PARK";break}i(),ub=b,tb="WDMBX";case"WDMBX":if(b-ub>a.stage.domboxTimeout){n("_s52 dombox to"),tb="PARK";break}if(!0===bb&&!0!==fb.isReady())break;W("creating units..."),i();var f=L();ka=f.fgu,la=f.ggi,i(),W("section complete"),n("_s60 section_complete"),r(),tb="WFSC";case"WFSC":var c=ab.getCondSignal("enter");if("error"===c){V.registerDeployment(ga,!1),n("_s13 section_aborted [show cond error]"),j("section aborted [show cond error]"),tb="PARK";break}if("yes"!==c)break;M("enter"),ab.signStep(),A("enter",!0),pb=!0,ub=b,tb="ACTIN";case"ACTIN":if(null!==_){N(_),tb="PARK";break}var c=ab.getCondSignal("xpand");if("error"===c){n("_s57 section_xpand [xpand cond error]"),j("section xpand [xpand cond error]"),tb="PARK";break}if("yes"===c){M("xpand"),ab.signStep(),A("xpand",!0),tb="ACTXPD";break}var c=ab.getCondSignal("exit");if("error"===c){n("_s57 section_exit [exit cond error]"),j("section exit [exit cond error]"),tb="PARK";break}if("yes"===c){M("exit"),ab.signStep(),A("exit",!0),tb="ACTOUT";break}var c=ab.getCondSignal("unload");if("yes"===c||"error"===c){"error"===c?(n("_s55 section_unload [unload cond error]"),j("section unload [unload cond error]")):(n("_s55 section_unload [unload cond result]"),j("section unload [unload cond result]")),M("unload"),N("scnquit"),ab.signStep(),A("unload",!0),tb="PARK";break}if(b-ub>a.stage.condCheckPeriod){var f=Y.checkEnvCond(ra,V.getWindowInfo(),V.getSnippetValues(),V.getDeployedList(),V.getContentList(),!1);if("go"!==f.status){N("cond"),tb="PARK";break}ub=b}break;case"ACTOUT":if(null!==_){N(_),tb="PARK";break}var c=ab.getCondSignal("enter");if("error"===c){n("_s57 section_enter [enter cond error]"),j("section enter [enter cond error]"),tb="PARK";break}if("yes"===c){M("enter"),ab.signStep(),A("enter",!0),tb="ACTIN";break}var c=ab.getCondSignal("unload");if("yes"===c||"error"===c){"error"===c?(n("_s55 section_unload [unload cond error]"),j("section unload [unload cond error]")):(n("_s55 section_unload [unload cond result]"),j("section unload [unload cond result]")),M("unload"),N("scnquit"),ab.signStep(),A("unload",!0),tb="PARK";break}break;case"ACTXPD":if(null!==_){N(_),tb="PARK";break}var c=ab.getCondSignal("enter");if("error"===c){n("_s58 section_xpand_enter [enter cond error]"),j("section xpand enter [enter cond error]"),tb="PARK";break}if("yes"===c){M("enter"),ab.signStep(),A("enter",!0),tb="ACTIN";break}break;case"PARK":V.registerDeployment(ga,!1),S.heartL.unsubscribe(Q.tick)}}function G(a){function b(a,b){var c=!0;return aa.forEach(function(d){d!==a&&null!==d&&!0!==d.foreCmd(b,{})&&(c=!1)}),c}function c(a,b){if(null!==a)return a.foreCmd(b,{})}switch(vb){case"INIT":if(!0!==bb)break;if(!0!==pb)break;if(null===xb)break;vb="RDY";case"RDY":if(!0!==zb)break;if(!0!==qb)break;if(!0!==b(xb,"canfore")){i();break}if(!0!==V.isForeAvail())break;V.captureFore(),i(),i(),b(null,"fore_ON"),c(xb,"fore_in"),Ta=!0,Va=!1,b(xb,"back_in"),wb=a,vb="FRNG";case"FRNG":if(!0!==Va){if(!0===zb)break}else i(),Va=!1,zb=!1,La=!1;i(),c(xb,"fore_out"),b(xb,"back_out"),xb=null,V.releaseFore(),Ta=!1,wb=a,vb="HLDOFF";break;case"HLDOFF":if(a-wb<3e3)break;b(null,"fore_OFF"),vb="RDY"}}function H(a){switch(Ra!==Sa&&(i(),Sa=Ra),null!==Qa&&(i(),Qa=null,Ua=a),Ra){case"INIT":if(!0!==bb)break;if(!0!==pb)break;Qa=null,Va=!1,Ua=a,Ab=!1,i(),Ra="IDLE";break;case"IDLE":if(!0!==Ta)break;i(),Ua=a,Ra="WFAI";case"WFAI":if(a-Ua>1e4){i(),Va=!0,Ra="SNPD";break}if(!0!==Ab)break;Ab=!1,Ua=a,Ra="ACTV";case"ACTV":if(!0!==qb){Ra="STDBY";break}if(!0===yb){yb=!1,Ra="INIT";break}if(!0!==Ta){Ra="INIT";break}if(a-Ua>5e3){i(),Va=!0,Ra="SNPD";break}break;case"STDBY":if(!0!==qb)break;Ua=a,Ra="ACTV";break;case"SNPD":if(!0===Va)break;Ra="INIT"}}function I(a){if(!0!==ya){var b=J();null!==b&&(Q.fireEvent("costping",{costType:"sect",amnt:b,onsold:!0===a?"1":"0"}),ya=!0)}}function J(){function a(a){return i(),j("STAGE ERROR - section: "+ga+" - "+a),o(a),null}function b(a){return void 0!==a.exdata&&("NA"!==a.exdata&&null!==a.exdata)}if("unspecified"!==na.costx){var c=parseFloat(na.costx);return!0===isNaN(c)?a("bad stage cost spec"):Math.round(100*c)/100}if("intrinsic"!==hb&&null!==gb){if(!0!==b(gb))return null;var c=parseFloat(gb.exdata.prc)/100;return!0===isNaN(c)?a("bad exdata cost spec"):Math.round(100*c)/100}return null}function K(){function a(a,b){var c="unspecified";return!0!==kb&&("ifrm"===b&&(a.schema===c&&a.position===c))}var b=na.style,c=!1;!0===U.debugVars.dpx&&(c=!0),"sys"!==U.ctxId&&(c=!1);var d="no_part",e="no_part",f="no_part";if(null!==gb&&(d=gb.cntElmID,e=gb.trgElmID,f=gb.trgElmType),!0===(lb=a(na,f))){if(null===(nb=Z.locateInPage(window,e,d)))return n("_s90 section_error [cannot locate '"+e+"']"),null;mb=nb.contentWindow}return new g({master:Q,boxLocus:ha,xtnCode:ea,type:"sec",comps:S,bootParams:U,plcmID:T.placementId,cllBks:h.cllBks,msgClbk:B,ovlStrClbk:C,mayShowOvrNow:D,enableOvr:c,restrLoc:!1,trgDomElm:null,abstrElmID:db,noBorder:!1,attributes:na,motiondata:h.motiondata,twin:!1,skinParams:va,glryParams:wa,contFrmTagId:d,targetTagId:e,targetElmType:f,domElmId:eb,domElmIdPrfx:cb,stylename:b,confined:kb,isAdFrame:qa,insInFIF:lb,hostElm:nb,hostWnd:mb,zindex:na.zindex,glryIdx:null,boxName:ga})}function L(){function a(a,d,e,g){var j="creating unit "+d+", section:"+eb+(!0===g?" (twin)":"");i(),W(j);var k=100*(ia+1)+d+(!0===g?"_twin":""),l=null;null!==fb&&(l=fb.getDomElm());var m=null;"gallery"===a.attributes.position&&(m=b,b++);var n={master:Q,comps:S,cllBks:V,plcmParams:T,bootParams:U,stageID:ca,stageName:da,xtnCode:ea,activeLayout:h.activeLayout,sectionAttr:na,sectionName:ga,sectID:xa,phySect:bb,sectPartAttr:na.partition,sectFlagTagAttr:na.flagtag,sectCoreDomElm:l,glryParams:wa,unitName:a.name,attributes:a.attributes,events:a.events,conditions:a.conditions,scene:a.scene,publishing:a.publishing,adframe:a.adframe,twin:g,motiondata:a.motiondata,unitLoopIdx:d,maxLoopIdx:e,glryIdx:m,unitNumID:k,sectionInFIF:lb,sectionHostElm:nb,sectionHostWnd:mb,unitTracking:a.tracking,stageAttributes:h.stageAttributes,accChnID_stage:ba,adpostdata:a.adposts},o=new f(n);if(null===o)throw"could_not_create_unit - code: 6GwdSnn3";return"gallery"===a.attributes.position&&null===c&&(c=o),o}var b=0,c=null;return ta.forEach(function(b,c){var d=b.attributes.twinmode,e=!1;"unspecified"!==d&&"base"!==d&&"both"!==d||(e=!0);var f=!1;if("link"!==d&&"both"!==d||(f=!0),!0===e){var g=a(b,c,ta.length,!1);null!==g&&aa.push(g)}if(!0===f){var h=a(b,c,ta.length,!0);null!==h&&aa.push(h)}}),{fgu:c,ggi:b}}function M(a){if(null!==fb){var b="scene change ["+a+"] - section ["+eb+"]";i(),j(b),fb.sceneChange(a)}}function N(a){!0!==$&&($=!0,n("_s70 section_closed - ("+a+")"),i(),j("section killed ("+eb+")"),aa.forEach(function(b){b.killNow(a)}),null!==fb&&fb.delDomBox())}function O(a,b,c){var d={event:b,group:"seek_sect",ver:100,data:{sctID:xa}},e=d.data;switch(b){case"inst":e.sctnam=ga,e.stgID=ca}S.accbeam.fire(a,d)}function P(a){function b(a,b,c){Xa[a];i();var d=[0,0,!1],e=Xa[0],f=null;b>=0&&(d=Xa[b],e=Xa[a],f=null,!1===d[2]&&!0===e[2]?f=!0:!0===d[2]&&!1===e[2]&&(f=!1)),!0===c&&(f=!0===e[2]),i();var g=!0===e[2]?"scroll":"fixed";j("scroll table transition ["+na.skin_scroll_table+"] at pos ["+e[0]+"] - trgt ["+e[1]+"] ["+g+"]"),aa.forEach(function(a){a.sknScrl({newItem:e,xstn:f})})}function c(a){if("string"!=typeof a)return null;var b=V.getTableObj(a);if(null===b)return null;if("scroll"!==b.type)return null;var c=[],d=!1,e="a",f=0;return b.scale.forEach(function(a){if(!1===d){var b=""+a[1],g=0,h=0,i=!1;if(0===b.indexOf("a"))b=b.replace("a",""),""!==b&&(g=parseInt(b)),h=g,e="a";else if(0===b.indexOf("s")){if("s"===e)return;b=b.replace("s",""),""!==b&&(g=parseInt(b)),i=!0,"a"!==e&&"f"!==e||(h=f+a[0]+g),e="s"}else if(0===b.indexOf("f")){if("f"===e)return;b=b.replace("f",""),""!==b&&(g=parseInt(b)),"s"===e?h=f-a[0]+g:"a"===e&&(h=f),e="f"}else d=!0;c.push([a[0],h,i]),f=h}}),!1!==d?[]:c}function d(a,b){try{if(b>=a[a.length-1][0])return a.length-1;if(b<a[0][0])return 0;for(var c=a.length-2;c>=0&&!(b>=a[c][0]);)c-=1;if(c<0)throw{};return c}catch(a){return-1}}function e(){return Math.round(window.scrollY)}switch(Wa){case"INIT":if("unspecified"===na.skin_scroll_table)break;if(null===(Xa=c(na.skin_scroll_table))){j("ERROR: could not find scroll table ["+na.skin_scroll_table+"]"),void 0!==S.domdock&&void 0!==S.domdock.snstp&&S.domdock.snstp(na.skin_scroll_table),Wa="PARK";break}j("using scroll table ["+na.skin_scroll_table+"] - section ["+ha+"]"),i();var f=e(),g=d(Xa,f);b(g,Za,!0),Za=g,Ya=f,Wa="RDY";break;case"RDY":var f=e();if(f===Ya)break;i(),Ya=f;var g=d(Xa,f);if(g===Za)break;b(g,Za,!1),Za=g}}var Q=this,R=h.master,S=h.comps,T=h.plcmParams,U=h.bootParams,V=h.cllBks,W=V.addLogLine,X=Math.round(999*Math.random());k("","_s00 inst");var Y=new c({bootParams:U}),Z=new b,$=!1,_=null,aa=[],ba=h.accChnID_stage,ca=h.stageID,da=h.stageName,ea=h.xtnCode;"adf"===U.ctxId&&(ea=U.hostXtnCode);var fa=h.stageAttributes,ga=h.sectionName,ha=U.locus+"["+ga+"]",ia=h.secLoopIdx,ja=h.maxLoopIdx,ka=null,la=null,ma=!0,na=h.attributes,oa=h.events,pa=h.adframe,qa=void 0!==pa,ra=h.conditions,sa=h.publishing,ta=h.sectionUnits,ua=new e({bootParams:U}),va=ua.getSknPrms(na,ja),wa={xspacer:"unspecified"===na.xspacer?xspacer=0:xspacer=parseInt(na.xspacer),yspacer:"unspecified"===na.yspacer?yspacer=0:yspacer=parseInt(na.yspacer)},xa=Math.random().toString(16).substr(2,12),ya=!1,za=!1,Aa=0,Ba=0,Ca=0,Da=null,Ea="INIT",Fa="NA",Ga=!0,Ha=0,Ia=0,Ja=null,Ka=null;q();var La=!1,Ma=null,Na=null,Oa=null,Pa={},Qa=null,Ra="INIT",Sa="NA",Ta=!1,Ua=0,Va=!1,Wa="INIT",Xa=null,Ya=0,Za=0,$a="sect",_a="sec_"+ga,ab=new d({comps:S,cllBks:V,bootParams:U,domElmName:h.sectionName,scene:h.scene,expctrl:{evtType:$a,evtKey:_a}});i(),O(ba,"inst");var bb=na.physical||qa,cb="_fb_sect_",db=""+100*(ia+1),eb=cb+db,fb=null,gb=null,hb="intrinsic";"unspecified"!==na.partition&&(hb=na.partition);var ib=null,jb="intrinsic";"unspecified"!==na.flagtag&&(jb=na.flagtag),"intrinsic"!==hb?jb="d_u_m_m_y":"intrinsic"!==jb&&(hb="d_u_m_m_y");var kb=U.confined,lb=!1,mb=window,nb=null,ob=!1,pb=!1,qb=!1,rb=!0,sb=!0,tb="INIT",ub=0,vb="INIT",wb=0,xb=null,yb=!1,zb=!1,Ab=!1;Q.fireEvent=function(a,b){switch(a){case"scrL":console.log("left arrow click detected"),v(-1,null);break;case"scrR":console.log("right arrow click detected"),v(1,null);break;case"adp_show":"prm"===b.adpType&&(La=!0),"nrm"===b.adpType&&(t("adpshw",100,b.playTime),Na=b.adpType,Oa=b.playTime),"fil"===b.adpType&&(t("adpshw",100,b.playTime),Na=b.adpType,Oa=b.playTime),i(),w("on",b.adpType,b.unitfbxID),x("show",b.adpType,b.unitfbxID);break;case"adp_content":A("content",!0),!0===b.active?A("cont_act",!0):A("cont_psv",!0);break;case"adp_end":"prm"===b.adpType&&(La=!1),w("off",b.adpType,b.unitfbxID),i();break;case"mediaready":i(),x("rdy",b.adpType,b.unitfbxID);break;case"mediaover":break;case"mediaEnd":zb=!1,La=!1;break;case"vp_wdog":Qa=b,"adStarted"===Qa.event&&(Ab=!0);break;case"playerror":zb=!1,La=!1,i();break;case"costping":if(null!==J()&&"sect"!==b.costType)return;b.sctnam=ga;break;case"unit_content":!0===na.onsoldx&&!0===b.active&&I(!0);break;case"visibOn":p("/_s10 unt_vsb_idx",b.fbxID),!0===sb&&p("","_s20 first visb (unt)"),sb=!1;break;case"visibOff":break;case"hoverOn":t("hover",100),"NA"!==ea&&Q.fireEvent("xntHovr",{xtnCode:ea});break;case"click":"NA"!==ea&&Q.fireEvent("xntClck",{xtnCode:ea,stageFile:da})}R.fireEvent(a,b)},Q.foreMsg=function(a,b){switch(a){case"adprdy":if(!0!==bb)break;if("overlay"!==b.unitattr.position)break;xb=b.unitexec,i(),zb=!0;break;case"adpdone":if(!0!==bb)break;if("overlay"!==b.unitattr.position)break;i(),zb=!1,La=!1,yb=!0}},Q.isDeployed=function(){return ob},Q.isReady=function(){return pb},Q.activityReport=function(a){aa.forEach(function(b){null!==b&&!0===b.isDeployed()&&!0===b.isReady()&&void 0!==b.activityReport&&b.activityReport(a)})},Q.actUpdt=function(a){za=a.curStatus.scroll.scrlng,aa.forEach(function(b){b.actUpdt(a)})},Q.tick=function(a){null===gb&&(gb=V.getPartitionObj(hb)),null===ib&&(ib=S.msghub.getFlagTag(jb)),F(a),E(a),null!==fb&&fb.tick(a),G(a),H(a),s(a),P(a)},Q.killNow=function(a){_=a},W("section initialized"),S.heartL.subscribe(Q.tick,"sectionexec"),Q.tick(Date.now())}}(config,textools,barlogix,scenelogic,skincalc,unit_exec,dombox),stage_exec=function(a,b,c,d,e,f){return function(b){function g(a){sa.logger.writex({msg:a,prefix:"stgexec",inst:Ba})}function h(a){sa.logger.writex({tgl:!0,msg:a,prefix:"stage:"+ua.placementId+" (stg_exec)"})}function i(a,b){va.fireLdrEvt("/_s30 stage"+a,b)}function j(a,b,c){k("/_s20 exec_tree",b,c,!0)}function k(a,b,c,d){l("/"+ua.placementId+a,b,c,d),l("/*AllStages*"+a,b,c,d)}function l(a,b,c,d){sa.trackhub.sendEvent("stage",a,b,c,d)}function m(a,b){"adf"===ua.ctxId?sa.xFrameInt.sxev(a,b):ma(a,b)}function n(a){k("/_s25 times_ms"+a,Date.now()-wa,{scl:"shorttimes",res:"lo"})}function o(){return fb}function p(){return gb}function q(){return hb}function r(a,b,c){h("event flag ["+c+" - "+a+"] - "+(!0===b?"SET":"RESET")),hb[a]=b}function s(){return ib}function t(a){if(void 0!==a&&null!==a&&"unspecified"!==a)return sa.snippetManager.execSnippet(a)}function u(a){var b=null;return jb.forEach(function(c){null===b&&c.partId===a&&(b=c.data)}),b}function v(a){function b(a){sa.parcels.sendp("partdata",a)}function c(a){function b(a){var b=!1;return jb.forEach(function(c){c.partId===a&&(b=!0)}),b}function c(a){try{var b=JSON.parse(JSON.stringify(a));b.exdata=JSON.parse(b.exdata),b.status="ok"}catch(a){}return b.status="error",b}var d=!1;return a.forEach(function(a){if(!0!==b(a.partId)){var e={partId:a.partId,data:c(a)};jb.push(e),d=!0,g(),sa.parcels.sendp("liveacc",{evt:"regPrxTrg",data:{name:e.partId,type:"part",id:e.partId,exdata:e.data.exdata}}),g()}}),d}if(!(a-Ea<200)){Ea=a;var d=va.getPartData();!0===c(d)&&(b(d),sa.liveDboRoot.updatePartitions(d),g(),za("partitions status changed"))}}function w(){return kb}function x(a,b){function c(a){for(var b=0;b<kb.length;b++){var c=kb[b];if(c.entityName===a)return c}return null}if("unspecified"!==a){var d=c(a);if(null!==d)return void(d.deployed=b);var e={entityName:a,deployed:b};kb.push(e)}}function y(){return lb}function z(a,b){function c(a){for(var b=0;b<lb.length;b++){var c=lb[b]
;if(c.entityName===a)return c}return null}if("unspecified"!==a){var d=c(a);if(null!==d)return void(d.content=b);var e={entityName:a,content:b};lb.push(e)}}function A(){return mb}function B(a,b){function c(a){for(var b=0;b<mb.length;b++){var c=mb[b];if(c.entityName===a)return c}return null}if("unspecified"!==a){var d=c(a);if(null!==d)return void(d.hover=b);var e={entityName:a,hover:b};mb.push(e)}}function C(){return nb}function D(a,b){function c(a){for(var b=0;b<nb.length;b++){var c=nb[b];if(c.entityName===a)return c}return null}if("unspecified"!==a){var d=c(a);if(null!==d)return void(d.mediaReady=b);var e={entityName:a,mediaReady:b};nb.push(e)}}function E(){return ob}function F(a,b){function c(a){for(var b=0;b<ob.length;b++){var c=ob[b];if(c.entityName===a)return c}return null}if("unspecified"!==a){var d=c(a);if(null!==d)return void(d.mediaOver=b);var e={entityName:a,mediaOver:b};ob.push(e)}}function G(){return pb}function H(a,b){function c(a){for(var b=0;b<pb.length;b++){var c=pb[b];if(c.entityName===a)return c}return null}if("unspecified"!==a){var d=c(a);if(null!==d)return void(d.clsBtn=b);var e={entityName:a,clsBtn:b};pb.push(e)}}function I(a){var b=K(a);return null!==b?b.domID:null}function J(a,b){if("unspecified"!==a){var c=K(a);if(null!==c)return void(c.domID=b);qb.push({entityName:a,domID:b})}}function K(a){for(var b=0;b<qb.length;b++){var c=qb[b];if(c.entityName===a)return c}return null}function L(a,b,c){if("unspecified"!==b){var d=N(b);if(null==d){var f="STAGE ERROR - unknown style: "+b;return g(),void h(f)}var i="";d.styleSnippets.forEach(function(a){i+="."+a.classID+" {"+a.string+"} \n"});var j=new e({hostWnd:a});j.setWrapperElement(""),j.deployStyle("_fb_dynstl_"+b,i,c)}}function M(a,b,c,d){function e(a,b){var c=null;return a.styleSnippets.forEach(function(a){null===c&&a.name===b&&(c=a.classID)}),c}function f(a,b){var c=""+a.className;c.indexOf(b)>=0||(c+=" "+b,a.className=c)}function i(a,b){var c=""+a.className;c.indexOf(b)<0||(c=c.replace(b,""),c=c.replace(/\s{2}/gm," "),c.length>0&&" "==c.charAt(c.length-1)&&(c=c.substring(0,c.length-1)),a.className=""+c)}if(void 0===a||null===a){var j="ERROR - invalid element - [style snippet: "+c+"]";return g(),void h(j)}if(void 0!==b&&"unspecified"!==b&&""!==b&&null!==b){var k=N(b);if(null===k)return;var l=e(k,c);if(null===l)return;f(a,l)}if(void 0!==d&&"unspecified"!==d&&""!==d&&null!==d){var m=N(d);if(null===m)return;var n=e(m,c);if(null===n)return;i(a,n)}}function N(a){if("none"===a)return null;var b=null;return Xa.forEach(function(c){null===b&&c.name===a&&(b=c)}),b}function O(a,b){function c(a){var b=a.split(";");""===b[b.length-1]&&(b=b.slice(0,b.length-1));var c=[];return b.forEach(function(a){var b=a.split(":");c.push(b)}),c}function d(a,b,c){var d=!1;a.forEach(function(a){a[0]===b&&(a[1]=c,d=!0)}),!0!==d&&a.push([b,c])}var e=c(a.replace(/\s+/g,""));c(b).forEach(function(a){var b=a[0];d(e,b,a[1])});var f=[];return e.forEach(function(a){f.push(a[0]+":"+a[1])}),f.join(";")}function P(a,b){var c={};void 0!==b&&b.forEach(function(a){c[a]="unspecified"});var d=$a[a];if(void 0===d)return c;for(var e in d)c[e]=d[e];return c}function Q(a,b){function c(b,c){var d=a.document.createElement("script");d.setAttribute("type","text/javascript"),d.src=c,d.id=b,a.document.head.appendChild(d)}var d="mainwnd";if(void 0!==a._fb_data_&&(d=a._fb_data_.ctxID),void 0===rb[d]){rb[d]=b;var e="http://";!0===ua.secProt&&(e="https://"),"fb"!==b&&("undefined"!=typeof jwplayer&&null!==jwplayer?(za("video module found ..."),za("... version --\x3e "+jwplayer.version),za("... key --\x3e "+jwplayer.key)):"jw"===b&&"dev"===ua.env&&(c("hlplib",e+"localhost:3001/altp/ref/altproot.js"),g()))}}function R(a){return!(Date.now()-ub<wb)&&(null===sb||sb===a)}function S(a,b){return!0===a?null===sb&&(sb=b,!0):(sb=null,ub=Date.now(),!0)}function T(a){return!(Date.now()-vb<xb)&&(null===tb||tb===a)}function U(a,b){return!0===a?null===tb&&(tb=b,!0):(tb=null,vb=Date.now(),!0)}function V(){return!(Date.now()-yb<zb)}function W(){yb=Date.now()}function X(){return!1===Bb}function Y(){return!1===Bb&&(Bb=!0,Ab=Date.now(),!0)}function Z(){Bb=!1}function $(a){var b=null;return Za.forEach(function(c){null===b&&c.name===a&&(b=c)}),b}function _(a){var b=[];return Va.forEach(function(c){c.event===a&&b.push(c.url)}),b}function aa(a){if(!0!==Fa){var b=ba();null!==b&&(ra.fireEvent("costping",{costType:"stage",entCost:b,onSold:!0===a?"1":"0"}),Fa=!0)}}function ba(){function a(a){return g(),h("STAGE ERROR - stage: "+_sectionName+" - "+a),j("","_s90 costx error"),null}if(null!==bb&&"unspecified"!==bb.costx){var b=parseFloat(bb.costx);return!0===isNaN(b)?a("bad stage cost spec"):Math.round(100*b)/100}return null}function ca(a){var b={event:a.costType,group:"costx",ver:100,data:{stgnam:void 0!==a.stgnam?a.stgnam:"",sctnam:void 0!==a.sctnam?a.sctnam:"",untnam:void 0!==a.untnam?a.untnam:"",amnt:a.amnt,onsold:a.onsold}};sa.accbeam.fire(db,b);var c=a.costType+": "+a.amnt;!0===a.onsold&&(c+=" (on sold)"),k("/_s50 cst_pings",c),k("/_s51 cst_amts",a.amnt),g()}function da(a){function f(c){function f(a){function b(b,c,d){for(var e=a.configurations,f=0;f<e.length;f++){var g=e[f].attributes;if(!0===g.enabled&&!("unspecified"!==g.pubcode&&d.pCode!==g.pubcode||!0===g.ifcasea&&!1===g.ifcaseb&&"A"!==c||!1===g.ifcasea&&!0===g.ifcaseb&&"B"!==c||"unspecified"!==g.ifcase&&c.toLowerCase()!==g.ifcase.toLowerCase()||"unspecified"!==g.ifwidthmore&&b<parseInt(g.ifwidthmore)||"unspecified"!==g.ifwidthless&&b>parseInt(g.ifwidthless)))return{configIdx:f,layoutName:e[f].attributes.layout}}return null}var c=ta.testCase,d=window.screen.width,e=b(d,c,ua.debugVars);return null!==e?e.layoutName:null}function l(a,b,c){function d(a,b){var c=null;return a.forEach(function(a){null===c&&a.name===b&&(c=a)}),c}var e=d(a.layouts,b);return null!==e?e:!0===c?null:d(a.layouts,"default")}function m(a){function b(a,b){b.forEach(function(b){a.push(b)})}function c(a,b){for(var c in b)a[c]=b[c]}Va=[].concat(Va,a.tracking),b(Wa,a.library.defines),b(Xa,a.csscode.styles),b(Ya,a.elements),b(Za,a.tables),c($a,a.xformats),c(_a,a.globals),b(ab,a.literals)}function o(a,c,d,e,f){if("ok"!==c.status)return void g();i("","_s20 allotted"),j("","_s20 allotted"),n("/_s20 data_avail"),g(),za("stage data available, tag:"+a.attributes.tag),va.debugPing("/_s30 stgexc","_20 stgcrd"),h("stage running - layout: "+Ja),n("/_s60 cond_ok"),va.debugPing("/_s30 stgexc","_40 allclr"),!1===a.attributes.onsoldx&&aa(!1),na(db,"lnch"),sa.parcels.sendp("liveacc",{evt:"regPrxTrg",data:{name:ua.placementId,type:"stage",id:eb,exdata:null}});var l=sa.quickVars.getMetha();k("/_s90 qv_status","status: "+l.status+" | msg: "+l.msg+" | code: "+l.code),p(a),t(a.attributes.ondeploy),i("","_s30 deployed"),j("","_s30 deployed"),h("stage deployed"),Cb=!0,g(),za("creating sections..."),g(),q(d,a.attributes,e,f),j("","_s40 complete"),n("/_s70 complete"),za("stage complete"),sa.trackhub.sendEvent("performance","/times/_s20 load_to_stage_ready",Date.now()-b.startTime,{scl:"cycleCount",res:"lo"}),va.debugPing("/_s30 stgexc","_50 ready")}function p(a){function b(a){sa.snippetManager.setSnippets(a)}function c(a,b){function c(a){if(null!==a){for(var b="",c=0;c<a.length;c++){var d=a[c];b+="."+d.classID+" {"+d.string+"} \n"}return b}}if(null!==b){var d=new e({hostWnd:a});d.setWrapperElement("");for(var f=0;f<b.length;f++){var h=b[f],i=c(h.styleSnippets);d.deployStyle("_fb_dynstl_"+h.name,i,!1),g()}}}sa.quickVars.addByPassFilters(a.bypassString),sa.quickVars.addPatches(a.patchString),b(a.javacode.snippets),c(window,a.csscode.styles)}function q(a,b,c,e){function f(a,c,e,f,h){g(),za("creating section: "+a.name);var i={master:ra,comps:sa,cllBks:va,plcmParams:ta,bootParams:ua,stageName:f,xtnCode:h,stageAttributes:b,activeLayout:Ja,sectionName:a.name,attributes:a.attributes,motiondata:a.motiondata,events:a.events,adframe:a.adframe,conditions:a.conditions,scene:a.scene,publishing:a.publishing,secLoopIdx:c,maxLoopIdx:e,sectionTrackingBeams:a.tracking,sectionUnits:a.units,stageID:eb,accChnID_stage:db};return new d(i)}a.forEach(function(b){var d=f(b,Ga.length,a.length,c,e);null!==d&&Ga.push({xtnCode:e,fileName:c,sectExec:d})})}var r=a.main,s=a.fileName,u=a.xtnCode,v=c.stageCard,w=c.metha;if("ok"!==w.status){var x="error_"+w.msg;return sa.trackhub.sendEvent("alerts","stage_mgr/"+ua.placementId,x),k("/_s40 errors","_s10 stage_error - "+x),void h("ERROR: "+x)}if(null===Ja){var y=f(v);if(null===y)return sa.trackhub.sendEvent("alerts","stage_mgr/"+ua.placementId,"error_no_layout_available"),k("/_s40 errors","_s10 layout_error - no_layout_available"),void h("ERROR: no suitable layout available");Ja=y,ua.actLayout=Ja,h("active layout ["+Ja+"]")}var z=l(v,Ja,r);if(null===z)return sa.trackhub.sendEvent("alerts","stage_mgr/"+ua.placementId,"error_layout_mismatch ["+Ja+"]"),k("/_s40 errors","_s10 layout_error - layout_mismatch"),void h("ERROR: no compatible layout found");bb=v.attributes,m(v);var A=z.sections;if(!0!==r&&0===A.length)return sa.trackhub.sendEvent("alerts","stage_mgr/"+ua.placementId,"error_no_layout_sections ["+Ja+"]"),k("/_s40 errors","_s10 layout_error - no_layout_sections"),void h("ERROR: no sections found for active layout ["+Ja+"]");o(v,w,A,s,u),!0===r&&(Ha=v)}return new c({comps:sa,cllBks:va,bootParams:ua,stageFileName:a.fileName,callback:f,mainFile:a.main,xtnCode:a.xtnCode})}function ea(a){switch(Gb){case"INIT":if(!0===Aa){if(void 0===sa.nodemanager)break;if(!0!==sa.nodemanager.getDynStatus())break}if(h("CMP all ok"),"adf"===ua.ctxId&&"ok"!==ua.docked)break;if(!0===ta.totstop){Gb="STG_STP";break}ia(),va.debugPing("/_s30 stgexc","_10 inst"),Ia=new da({fileName:ua.placementId,main:!0,xtnCode:"_MAIN_"}),i("","_s10 proc_start"),h("stage start - plcm: "+ua.placementId+", clID: "+ua.clientID.substring(10,16)+", tgroup: "+ua.testGroup+", tcase: "+ua.testCase+", ctxId: "+ua.ctxId),j("","_s10 start"),n("/_s10 start"),Hb=a,Gb="WAIT_AVAIL";case"WAIT_AVAIL":if(null===Ha)break;pa(Ha.attributes.sbheight),Hb=a,Gb="STG_RDY";case"STG_RDY":if(fa(),!0===Ta){ka("clsd"),Ib="closed",Gb="STG_CLSD","adf"===ua.ctxId&&sa.xFrameInt.scrq(),va.debugPing("/_s30 stgexc","_60 clsd");break}break;case"STG_STP":g(),h("stage total stop!!!"),j("","_s80 total_stop"),Gb="PARK";break;case"STG_CLSD":g(),h("stage closed"),j("","_s87 closed"),Gb="PARK"}}function fa(){var a=sa.msghub.getNextExtTag();null!==a&&(!0!==ua.debugVars.enxtn&&!0!==window.__fspv_2384950||(a=Object.assign(a,{xtnCode:"_xtnfile_"+a.fileName}),ga(a)))}function ga(a){null!==Ha&&(m(a.xtnCode,"load"),h("stage extension loaded ["+a.xtnCode+"]"),cb=a.evclbk,new da({fileName:a.fileName,xtnCode:a.xtnCode,main:!1}))}function ha(a){function b(a){null!==Oa&&(Oa.innerHTML=a)}function c(a){null!==Pa&&Pa.setOpq(a)}switch(Ka){case"INIT":if(null===Ha)break;if("sys"===ua.ctxId){Ka="DONE";break}if("unspecified"===Ha.attributes.clsbtn||"no"===Ha.attributes.clsbtn||"false"===Ha.attributes.clsbtn){Qa=!1,Ka="DONE";break}if("count"===Ha.attributes.clsbtn||"true"===Ha.attributes.clsbtn&&0!==Ha.attributes.cntdwn){var d=oa(""+Ha.attributes.cntdwn);Oa=d.crssElm,Pa=d.wdgtObj,Qa=!1,Sa=Ha.attributes.cntdwn,c(!0),La=a,Ma=a,Ka="PLAY";break}if("hover"===Ha.attributes.clsbtn){var d=oa("&times;");Oa=d.crssElm,Pa=d.wdgtObj,Qa=!1,c(!1),Ka="HVR";break}if("fixed"===Ha.attributes.clsbtn||"true"===Ha.attributes.clsbtn&&0===Ha.attributes.cntdwn){var d=oa("&times;");Oa=d.crssElm,Pa=d.wdgtObj,Qa=!0,c(!0),Ka="DONE";break}Qa=!1,Ka="DONE";break;case"PLAY":if(a-La>=1e3){La=a,Na=Math.floor((a-Ma)/1e3);var e=Sa-Na;e<0&&(e=0),b(""+e)}if(Sa>0&&Na>=Sa){b("&times;"),Qa=!0,!0===Ha.attributes.autcls&&(Ta=!0),Ka="DONE";break}break;case"HVR":if(0===Ra)break;c(!0),Qa=!0,Ka="CBON";break;case"CBON":if(a-Ra<4e3)break;c(!1),Ra=0,Ka="HVR"}}function ia(){va.killExtension=la,va.reportExtEvent=ma,va.getEventFlagValues=q,va.setEventFlag=r,va.getSnippetValues=s,va.execSnippet=t,va.getPartitionObj=u,va.getWindowInfo=o,va.getScrollInfo=p,va.installStyle=L,va.applyStyleSnippet=M,va.infuseStyles=O,va.getDeployedList=w,va.registerDeployment=x,va.getContentList=y,va.registerContent=z,va.getHoverList=A,va.registerHover=B,va.getMediaReadyList=C,va.registerMediaReady=D,va.getMediaOverList=E,va.registerMediaOver=F,va.getCloseButtonList=G,va.registerCloseButton=H,va.getStageItemId=I,va.registerStageItemID=J,va.loadVastLibs=Q,va.getFmtObj=P,va.getTableObj=$,va.getTrackingUrls=_,va.canSearchVideo=R,va.getRelSearchVideo=S,va.canShowVideo=T,va.getRelShowVideo=U,va.canSwitchNow=V,va.updateSwitchTimer=W,va.isForeAvail=X,va.captureFore=Y,va.releaseFore=Z}function ja(){switch(ua.ctxId){case"adf":return ua.hostPlcmId+"/"+ua.hostActLayout+"/::"+ua.placementId;case"brk":return ua.hostPlcmId+"/"+ua.actLayout+"/::brk";case"sys":return ua.hostPlcmId+"/"+ua.actLayout+"/::sys";default:return"NA"}}function ka(a){!0!==Da&&(Da=!0,h("stage killed"),Ga.forEach(function(b){null!==b.sectExec&&b.sectExec.killNow(a)}))}function la(a){var b=[];Ga.forEach(function(c){if(null===c.xtnCode||c.xtnCode!==a)return void b.push(c);null!==c.sectExec&&c.sectExec.killNow("extn")}),h("stage extension killed: "+a),Ga=b}function ma(a,b){null!==cb&&cb(a,b)}function na(a,b,c){var d={event:b,group:"seek_stage",ver:100,data:{stgID:eb}},e=d.data;switch(b){case"inst":e.stgnam=ua.placementId}sa.accbeam.fire(a,d)}function oa(a){function b(){!0===Qa&&(Ta=!0)}var c="clsbtn_base",d="clsbtn_crss",f=new e({hostWnd:window});f.setWrapperElement("");var g=f.insertCloseButton({hostWnd:window,contElm:document.body,base_classID:c,crss_classID:d,clickCB:b,btnText:a}),h=g.getElmHndls();return qa(h.baseElm,c),qa(h.crssElm,d),{baseElm:h.baseElm,crssElm:h.crssElm,wdgtObj:g}}function pa(a){var b=parseInt(a);!0===isNaN(b)&&(b=4);var c=new e({hostWnd:window}),d="::-webkit-scrollbar { height: "+b+"px; background-color:#f8f8f8; } ::-webkit-scrollbar-track { background-color:#f8f8f8; } ::-webkit-scrollbar-thumb { background-color:#d0d0d0; } ::-webkit-scrollbar-thumb:hover { background-color:#c0c0c0; }  ::-webkit-scrollbar-button { display:none; }";c.deployStyle("_fb_cstm_sb",d,!1)}function qa(a,b){var c="default";"unspecified"!=typeof bb.style?c=bb.style:void 0!==ua.adfrm_vars.stageParams.int_style&&(c=ua.adfrm_vars.stageParams.int_style),M(a,c,b)}var ra=this,sa=b.comps,ta=b.plcmParams,ua=b.bootParams,va=b.cllBks,wa=b.startTime,xa=sa.exeControl,ya=sa.bdadmin,za=va.addLogLine,Aa=!1;"enf"!==ua.cmpcode||"sys"!==ua.ctxId&&"adf"!==ua.ctxId||(Aa=!0),va.debugPing("/_s30 stgexc","_00 build");var Ba=Math.round(999*Math.random());g();var Ca=new f;i("","_s00 inst"),j("","_s00 inst"),n("/_s00 inst"),za("stage exec here");var Da=!1,Ea=0,Fa=!1,Ga=[],Ha=null,Ia=null,Ja=null,Ka="INIT",La=0,Ma=0,Na=0,Oa=null,Pa=null,Qa=!1,Ra=0,Sa=0,Ta=!1,Ua=!1,Va=[],Wa=[],Xa=[],Ya=[],Za=[],$a={},_a={},ab=[],bb=null,cb=null;ra.ggsd=function(){return{tracking:Va,defines:Wa,styles:Xa,elements:Ya,tables:Za,formats:$a,globals:_a,literals:ab}},ra.lnchExt=function(a){ga(a)},ra.fireEvent=function(a,b){switch(a){case"unit_ex":sa.tracker.exNotif("rung",{unitName:b.unitName});break;case"segSeek":break;case"mediaready":sa.tracker.exNotif("mediaon",{unitName:b.unitName}),Ua=!0;break;case"adison":z(b.unitName,!0),sa.tracker.exNotif("mediavld",{unitName:b.unitName});break;case"costping":if(null!==ba()&&"stage"!==b.costType)return;return b.stgnam=ua.placementId,void ca(b);case"unit_content":!0===bb.onsoldx&&!0===b.active&&aa(!0);break;case"xntHovr":m(b.xtnCode,"hover"),Ra=Date.now();break;case"xntClck":m(b.xtnCode,"click");break;case"adp_swipe":Ta=!0}xa.hcComm({event:a,data:b}),ya.hcComm({event:a,data:b})};var db="_stage";sa.accbeam.register("stage",db,a.accbeam.channels.stage.red);var eb=Math.random().toString(16).substr(2,12);na(db,"inst");var fb=(ua.placementId,null),gb=null,hb={},ib=null,jb=[],kb=[],lb=[],mb=[],nb=[],ob=[],pb=[],qb=[],rb={},sb=null,tb=null,ub=0,vb=0,wb=1e3*sa.quickVars.getParam("prmSearchHoldOff",a.smartunits.prmSearchHoldOff),xb=1e3*sa.quickVars.getParam("prmShowHoldOff",a.smartunits.prmShowHoldOff),yb=0,zb=3e3,Ab=0,Bb=!1;if(h("stage instance - version: "+ua.versionTag+" - filter: "+ua.filterTag),"sys"===ua.ctxId&&!0===ua.debugVars.logvars){h("debug vars: "+Ca.printObj(0,ua.debugVars))}var Cb=!1,Db=0,Eb=!1,Fb=!0,Gb="INIT",Hb=0,Ib=null,Jb=(Date.now(),!1),Kb=!0;ra.isReady=function(){return Cb},ra.gmstc=function(){return Ha},ra.getSrcSrvReport=function(){return null===Ia?"NA":Ia.getSrcSrvReport()},ra.getStageAttr=function(){return bb},ra.getActLayout=function(){return null===Ja?null:Ja},ra.getRootPath=function(){return!0!==Cb?null:ja()},sa.parcels.subscribe("actdet",function(a){function b(a){fb=a}function c(a){Jb=a.isDocActive,Kb=a.isDocVisible,Ga.forEach(function(b){null!==b.sectExec&&b.sectExec.activityReport(a)})}function d(a){gb=a}var e=a.curStatus;g(),za("actdet msg rcvd"),void 0!==e.wininfo&&b(e.wininfo),void 0!==e.docstatus&&c(e.docstatus),void 0!==e.scroll&&d(e.scroll),Ga.forEach(function(b){null!==b.sectExec&&b.sectExec.actUpdt(a)})}),sa.parcels.subscribe("snp_updt",function(a){var b=JSON.stringify(ib);if(JSON.stringify(a.snippetValues)!==b){Db=a.snippetCount,ib=JSON.parse(JSON.stringify(a.snippetValues)),Eb=!0;for(var c in ib)g();if(!0===Fb){Fb=!1,za("snippet info avail");for(var c in ib){var d="[ "+c+" ] = '"+ib[c]+"'";l(ua.placementId+"/_s30 snippets",d)}}else g(),za("snippet info changed")}}),ra.tick=function(a){v(a),ea(a),ha(a)},sa.heartL.subscribe(ra.tick,"stgexec"),ra.tick(Date.now()),sa.trackhub.sendEvent("performance","/times/_s10 load_to_stage_start",Date.now()-b.startTime,{scl:"cycleCount",res:"lo"})}}(config,0,stm_root,section_exec,domtool,textools),xfrmint=function(a){function b(a){z.logger.writex({msg:a,prefix:"xfrmint",inst:C})}function c(){window.removeEventListener("message",d),window.removeEventListener("unload",c),i()}function d(a){"adf"===A.ctxId?o(a):l(a)}function e(a,b,c){var d="/adfrmx/"+A.hostPlcmId+a;z.trackhub.sendEvent("performance",d,b,c)}function f(a){switch(E){case"INIT":m(),E="RDY";break;case"WAIT":if(a-F<w&&!0!==G)break;E="RDY";case"RDY":if(0===D.length)break;G=!1,F=a,j(D.shift()),!0===x&&(E="WAIT")}}function g(a){"sys"===A.ctxId&&H.forEach(function(b){!1===b.docked&&!1===b.timeout&&a-b.lnchtm>v&&(e("/_s10 dock_pf/"+b.origin+"/"+b.classID,"_s30 timeout"),e("/_s10 dock_pf","_s30 timeout"),b.timeout=!0)})}function h(a){H.forEach(function(b){if(null!==b&&!0===b.docked&&null!==b.remwin&&void 0!==b.remwin&&void 0!==b.remwin.postMessage){var c={type:"to_adfrm",pyld:{cmd:"actupdt",data:a}};b.remwin.postMessage(JSON.stringify(c),"*")}})}function i(){I=!1,H.forEach(function(a){a.contElem.removeChild(a.adFrameElm)})}function j(a){J=a.origin;var c=a.hostWnd.document.createElement("iframe"),d=c.style;d.left="0px",d.top="0px",d.width=a.width+"px",d.minWidth=a.width+"px",d.maxWidth=a.width+"px",d.height=a.height+"px",d.minHeight=a.height+"px",d.maxHeight=a.height+"px",d.marginLeft="0px",d.marginRight="0px",d.marginTop="0px",d.marginBottom="0px",d.display="inline-block",d.overflow="hidden",d.border="0px",d.position="relative",d.float="left",a.domBoxElm.appendChild(c);var f="",g=A.env,h=A.versionFolder;"dev"!==A.env?f+="https://mkt.forebase.ch/plugin/versions/"+A.versionFolder+"/adframe.htm":!0!==B?f+="http://localhost:3001/versions/versionfolder/adframe.htm":(g="prd",h=A.versionTag,f="https://mkt.forebase.com/plugin/versions",void 0!==u&&u.length>0?f+="/"+u:f+="/"+h,f+="/adframe.htm"),b(),b();var i=JSON.parse(JSON.stringify(a.adframeParams));i.origin=a.origin;var j=Math.round(999999*Math.random());H.push({height:a.height,adfMsgClbk:a.adfMsgClbk,lnchtm:Date.now(),origin:i.origin,xtnCode:a.xtnCode,classID:i.classID,docked:!1,remwin:null,timeout:!1,adFrameId:j,adFrameElm:c,contElem:a.domBoxElm});var k={adFrameId:j,adFrameTm:Date.now(),unitCodes:a.unitCodes,stageParams:i,lwparams:{lw_enabled:a.stageAttributes.lw_enabled,lw_reducer:a.stageAttributes.lw_reducer,lw_sort:a.stageAttributes.lw_sort,lw_maxitem:a.stageAttributes.lw_maxitem,lw_ogtype:a.stageAttributes.lw_ogtype,lw_chan_rx:a.stageAttributes.lw_chan_rx,lw_chan_tx:a.stageAttributes.lw_chan_tx},hostParams:{env:g,adfmidx:i.adfIdx,versionFolder:h,publisher:A.publisher,plcmId:A.placementId,clientID:A.clientID,testGroup:A.testGroup,isNewUser:A.isNewUser,testCase:A.testCase,bstfct:A.bstfct,opdomId:A.opdomId,imprID:A.imprID,hostScreenWidth:A.winInfo.screenWidth,hostScreenHeight:A.winInfo.screenHeight,hostBodyHeight:A.winInfo.bodyHeight,versionTag:A.versionTag,filterTag:A.filterTag,startTime:A.startTime,actLayout:A.actLayout,cfg_bd_mod:A.cfg_bd_mod,cfg_vid_mod:A.cfg_vid_mod,debugVars:A.debugVars,qsParams:A.qsParams}};f+="#afdata="+encodeURIComponent(JSON.stringify(k)),c.src=f,e("/_s10 dock_pf/"+i.origin+"/"+i.classID,"_s10 launch"),e("/_s10 dock_pf","_s10 launch"),a.adfLaunchClbk(j)}function k(a){var b=null;return H.forEach(function(c){null===b&&c.adFrameId===a&&(b=c)}),b}function l(a){function c(a,b,c){var d={type:"to_adfrm",pyld:{cmd:b,data:c}};a.postMessage(JSON.stringify(d),"*")}try{var d=JSON.parse(a.data);if("from_adfrm"!==d.type)return;var f=d.adfid,g=d.pyld.cmd,h=d.pyld.data;switch(g){case"dock":var i=k(f);if(null===i){e("/_s10 dock_pf/"+h.origin+"/"+h.classID,"_s40 dock error"),e("/_s10 dock_pf","_s40 dock error"),b();break}i.docked=!0,i.remwin=a.source,e("/_s10 dock_pf/"+h.origin+"/"+h.classID,"_s20 docked"),e("/_s10 dock_pf","_s20 docked"),b(),e("/_s20 dock_tm",Date.now()-h.adFrameTm,{scl:"shorttimes",res:"lo"}),G=!0,c(a.source,"dock",{origin:J,xtnCode:i.xtnCode,hostPageUrl:A.hostPageUrl,hostDomain:A.hostDomain,hostPageTitle:A.hostPageTitle,globStageData:z.stageExec.ggsd()});break;default:var i=k(f);if(null===i)break;if(void 0===i.adfMsgClbk)break;i.adfMsgClbk(g,h)}}catch(a){}}function m(){var a=window.document.createElement("iframe");a.setAttribute("style","display:none"),a.setAttribute("name",y),window.document.body.appendChild(a)}function n(a){switch(K){case"INIT":K="TRY";case"TRY":if(null===(M=s())){L=a,K="WAIT";break}K="RDY";case"RDY":if(0===N.length)break;for(;N.length>0;)M.postMessage(JSON.stringify(N.shift()),"*");break;case"WAIT":if(a-L<500)break;K="TRY"}}function o(a){try{var c=JSON.parse(a.data);if("to_adfrm"!==c.type)return;var d=c.pyld.cmd,e=c.pyld.data;switch(d){case"dock":z.parcels.sendp("globalStageData",e.globStageData),A.hostPageUrl=e.hostPageUrl,A.hostDomain=e.hostDomain,A.hostPageTitle=e.hostPageTitle,A.hostXtnCode=e.xtnCode,A.docked="ok",b();break;case"actupdt":r(e)}}catch(a){}}function p(a,b){N.push({type:"from_adfrm",adfid:A.adfrm_vars.adFrameId,pyld:{cmd:a,data:b}})}function q(a){var b=k(a),c=b.adFrameElm;c.parentElement.removeChild(c)}function r(a){void 0!==z.actDet&&void 0!==z.actDet.actUpdt&&z.actDet.actUpdt(a)}function s(){var a=window,b=!1,c=30;try{for(;c>0;){c--;try{if(void 0!==a.frames[y]){b=!0;break}}catch(a){}if(a===window.top)break;a=a.parent}}catch(a){}return!0!==b?null:a}var t=this,u="",v=15e3,w=2e3,x=!1,y="___fbHostLoc",z=a.comps,A=(a.cllBks,a.bootParams),B="1"===a.bootParams.qsParams.ext,C=Math.round(999*Math.random()),D=[],E="INIT",F=0,G=!1,H=[],I=!0,J="NA";window.addEventListener("message",d),window.addEventListener("unload",c);var K="INIT",L=0,M=null,N=[];t.ladfm=function(a){if("sys"!==A.ctxId)throw{message:"adframe launched from inside frame"};D.push(a)},t.scrq=function(a){if("adf"!==A.ctxId)throw{message:"close request issued NOT from adframe"};p("close_me",{})},t.sxev=function(a,b){if("adf"!==A.ctxId)throw{message:"close request issued NOT from adframe"};p("ex_evt",b)},t.remvFrm=function(a){q(a)},t.dimchg=function(a,b){var c=k(a);if(null!==c){var d=c.adFrameElm.style;d.width=b.width+"px",d.minWidth=b.width+"px",d.maxWidth=b.width+"px",d.height=b.height+"px",d.minHeight=b.height+"px",d.maxHeight=b.height+"px"}},t.actUpdt=function(a){h(a)},t.smth=function(a,b){if("adf"!==A.ctxId)throw{message:"host sending msg to host"};p(a,b)},t.sdm=function(){"adf"===A.ctxId&&p("dock",{adFrameTm:A.adfrm_vars.adFrameTm,classID:A.adfrm_vars.stageParams.classID,origin:A.adfrm_vars.stageParams.origin})},t.tick=function(a){!0===I&&("sys"===A.ctxId&&(f(a),g(a)),"adf"===A.ctxId&&n(a))},z.heartH.subscribe(t.tick,"xfrmint"),t.tick(Date.now())},ajx_caller=function(a){return function(a,b,c){function d(){if(!window.XMLHttpRequest)return null;var a=new window.XMLHttpRequest;return void 0===a.responseType?null:(a.onreadystatechange=function(){a.readyState===a.UNSENT||a.readyState===a.READYSTATE_UNINITIALIZED?n.initStatus=a.status:a.readyState===a.OPENED||a.readyState===a.READYSTATE_LOADING?n.openStatus=a.status:a.readyState===a.HEADERS_RECEIVED||a.readyState===a.READYSTATE_LOADED?(n.hdrRcvdStatus=a.status,void 0!==a.getAllResponseHeaders&&(n.respHdrs=a.getAllResponseHeaders()),n.respHdrs=n.respHdrs.replace(/\r\n/g," | ")):a.readyState!==a.DONE&&a.readyState!==a.READYSTATE_COMPLETE||(n.doneStatus=a.status,a.status>=200&&a.status<300||304===a.status?g(""):h("from_readyState: "+a.status))},a)}function e(){if(!window.XDomainRequest)return null;var a=new window.XDomainRequest;return a.onload=g,a.onerror=h,a.ontimeout=i,a.onprogress=j,a}function f(){if(!window.ActiveXObject)return null;var a=new ActiveXObject("Microsoft.XMLHTTP");return a.onload=g,a.onerror=h,a.ontimeout=i,a.onprogress=j,a}function g(b){void 0!==a.onSucc&&a.onSucc(p,b,n)}function h(b){void 0!==a.onFail&&a.onFail(p,b,n)}function i(b){void 0!==a.onFail&&a.onFail(p,b,n)}function j(b){void 0!==a.onProgress&&a.onProgress(p,b,n)}function k(a,b){return"string"==typeof b&&b.length>=0?a+"?"+b:a}var l=b,m=c,n={initStatus:"---",openStatus:"---",hdrRcvdStatus:"---",doneStatus:"---",respHdrs:"---"},o="XHR",p=d();if(null===p&&(o="XDR",p=e()),null===p&&(o="AXO",p=f()),null===p)throw o="NA","cannot_create_xhr_obj";this.getAjxObjType=function(){return o};var q={};void 0!==a.options&&(q=a.options);var r=a.url;if("GET"===a.method&&void 0!==a.data&&(r=k(a.url,a.data)),p.open(a.method,r),p.timeout=3e3,"AXO"!==o){var s=!0;void 0!==q.withCredentials&&!0!==q.withCredentials&&(s=!1),p.withCredentials=s,void 0!==q.customHeaders&&q.customHeaders.forEach(function(a,b){p.setRequestHeader(b,a)}),void 0!==q.preflight&&!0===q.preflight&&p.setRequestHeader("X-Requested-With","XMLHttpRequest");var t="text/plain";void 0!==q.contentType&&(t=q.contentType),p.setRequestHeader("Content-Type",t)}"POST"===a.method&&void 0!==a.data?p.send(a.data):p.send();var u={method:a.method,effUrl:r,data:a.data,options:q,effContentType:t};l("srvCall_Actual",u),m("srvCall_Actual: "+JSON.stringify(u))}}(),ajx_hub=function(a){return function(a,b,c){}}(),lw_artmgr=function(a,b,c){return function(a,b){function d(a){r.logger.writex({msg:a,prefix:"lw_artmgr",inst:B})}function e(a){a-D<z||(!1!==E&&(g(),E=!1),D=a)}function f(){var a=r.memhub.getItem(h());try{if(null===a)throw{msg:"no_exposure_data"};if(a.ver!==v)throw{msg:"incomp_exposure_file_version"};if(Date.now()-a.ts>y)throw{msg:"exposure_data_too_old"};if("object"!==_typeof(a.expdata)||null===a.expdata)throw{msg:"invalid_exposure_data"};C=a.expdata}catch(a){}}function g(){C.sort(function(a,b){return!0===a.navg&&!0!==b.navg?-1:!0!==a.navg&&!0===b.navg?1:a.impt>b.impt?-1:a.impt<b.impt?1:0});var a=h(),b={ts:Date.now(),ver:v,expdata:C.slice(0,A)},c={folder:x,inclear:w,maxage:u};r.memhub.setItem(a,b,c),"sys"===t.ctxId&&r.baseBridge.setItem(a,b,c)}function h(){return b+"_lwc_expd"}function i(a){k(a).navg=!0,E=!0}function j(a){k(a).impt=Math.round(Date.now()/1e3),E=!0}function k(a){var b=n(a),c=l(b);return null!==c?c:m(b)}function l(a){var b=null;return C.forEach(function(c){null===b&&c.key===a&&(b=c)}),b}function m(a){var b={key:a,navg:!1,impt:0};return C.push(b),b}function n(a){var b=a.toLowerCase();return b=b.replace(/https:\/\//,""),b=b.replace(/http:\/\//,""),b=b.replace(/.*?\//,""),b=b.replace(/.html/,""),b=b.replace(/.htm/,""),b=b.replace(/[^0-9a-z]/g,"_"),b=b.replace(/\_+/g,"_"),b=b.substring(0,80)}function o(a,b,d){function e(a){return a.sort(function(a,b){return a.total>b.total?-1:a.total<b.total?1:0}),a.forEach(function(a,b){a.rankIdx=b+1}),a}function f(a,b,d){function e(a,b){a.sort(function(a,b){return!0!==a.intArtInfo.navg&&!0===b.intArtInfo.navg?-1:!0===a.intArtInfo.navg&&!0!==b.intArtInfo.navg?1:0});var c=[];return a.forEach(function(a,d){d>=b&&!1!==a.intArtInfo.navg||c.push(a)}),c}function f(a){var b=[];return a.forEach(function(a,c){0!==a.extArtInfo.corrIdx&&b.push(a)}),b}function g(a,b,c,d){function e(c){var d;return!0===c?void 0!==(d=a.shift())?d:(d=b.shift(),void 0!==d?d:null):void 0!==(d=b.shift())?d:(d=a.shift(),void 0!==d?d:null)}function f(a,b){var c=!1;return a.forEach(function(a){a.intArtInfo.key===b.intArtInfo.key&&(c=!0)}),!1===c&&(a.push(b),!0)}var g=40;void 0!==d&&(g=d);for(var h,i=[],j=0,k=!0,l=100;l>0&&(l--,!(i.length>=g))&&(h=e(k));)!0===f(i,h)&&++j>=c&&(j=0,k=!k);return i}var h=16,i=0;"brk"===t.ctxId&&(i=3);var j=p(a),l=[];j.forEach(function(a){var b=k(a.linkUrl),c={extArtInfo:a,intArtInfo:b};l.push(c)});var m=e(l,h),n=m,o=JSON.parse(JSON.stringify(m));if(n.sort(function(a,b){return a.intArtInfo.impt<b.intArtInfo.impt?-1:a.intArtInfo.impt>b.intArtInfo.impt?1:a.extArtInfo.rankIdx<b.extArtInfo.rankIdx?-1:a.extArtInfo.rankIdx>b.extArtInfo.rankIdx?1:0}),o.sort(function(a,b){return a.extArtInfo.corrIdx>b.extArtInfo.corrIdx?-1:a.extArtInfo.corrIdx<b.extArtInfo.corrIdx?1:0}),o=f(o),"rank"===b)var q=g(n,o,6,d);else if("corr"===b)var q=g(o,n,6,d);else var q=g(n,o,1,d);if(0!==i){q=(new c).chunkShuffle(q,i)}var r=[];return q.forEach(function(a){r.push(a.extArtInfo)}),r}var g={status:"error",artArray:[],msg:""},h=JSON.parse(JSON.stringify(a)),i=e(h);try{return g.artArray=f(i,b,d),g.status="ok",g}catch(a){return g.artArray=i,g.status="error",g.msg="unable_to_sort_articles",g}}function p(a){function b(a){var b=[];return a.forEach(function(a,c){a.keywds=d(a.titleStr,a.linkUrl),b.push(a)}),b}function c(a,b){var c=1,d=5;if(0===a.length)return 0;if(0===b.length)return 0;var e=0;return a.forEach(function(d,f){b.indexOf(d)>=0&&(e+=Math.exp(-f/a.length*c))}),Math.round(e*d*10)/10}function d(a,b){function c(a,b){function c(a){return a===a.toUpperCase()}var d=["che","non","per","con","come","anche","perche","lei","lui","senza","bene","cui","chi","gia","dopo","uno","noi","dove","qui","allora","tra","ora","fra","prima","forse","sotto","voi","fino","oggi","quasi","pure","egli","mentre","contro","invece","esso","pero","subito","verso","cio","ecco","loro","essa","fuori","meno","adesso","niente","cioe","male","nulla","quindi","appena","insieme","dunque","dentro","durante","almeno","secondo","anzi","oramai","oltre","intorno","sopra","dietro","davanti","ieri","qua","soltanto","infatti","qualcosa","spesso","accordo","davvero","qualcuno","avanti","assai","presto","domani","circa","gi","soprattutto","nemmeno","grazie","tuttavia","appunto","neppure","veramente","tardi","insomma","presso","intanto","lungo","neanche","piuttosto","stasera","percio","naturalmente","accanto","eppure","eccetera","finalmente","infine","poiche","comunque","dinanzi","abbastanza","peccato","certamente","coloro","attorno","magari","oppure","inoltre","indietro","addosso","addirittura","finche","perfino","affatto","stamattina","chissa","sino","ognuno","entro","video","immagini","foto","ecco","cosa"],e=[];return a.forEach(function(a){if(!0!==b||!0===c(a.substring(0,1))){var f=a.toLowerCase();f=f.normalize("NFD").replace(/[\u0300-\u036f]/g,""),f=f.replace(/[^a-z0-9]/gi,""),f.length<3||d.indexOf(f)>=0||e.push(f)}}),e}function d(a){if("string"!=typeof a)return[];var b=a.split("/"),c=[];b.forEach(function(a){if("string"==typeof a){var b=a.split("-");c.push(b)}});var d=[];return c.forEach(function(a){void 0!==a.length&&(a.length<2||d.push(a))}),d.sort(function(a,b){return b.length-a.length}),d.length>0?d[0]:[]}function e(a,b){function c(a,b){var c=!1;return a.forEach(function(a){a===b&&(c=!0)}),!1===c&&(a.push(b),!0)}var d=JSON.parse(JSON.stringify(a));return b.forEach(function(a){c(d,a)}),d}var f=d(b);f=c(f,!1),f=f.slice(0,6);var g=decodeURIComponent(a).split(" ");return g=c(g,!0),e(f,g)}b(a);var e=d(t.hostPageTitle,t.hostPageUrl)
;if("dev"===t.env)var e=["elsa","fornero","dimartedi","quota100","errore","toglierla","matteo","salvini","matteo"];return a.forEach(function(a,b){a.corrIdx=c(e,a.keywds)}),a}var q=this,r=a.comps,s=a.cllBks,t=a.bootParams,u=(s.addLogLine,5184e3),v=110,w=!1,x="lweb",y=1296e6,z=5e3,A=30,B=Math.round(999*Math.random());d();var C=[],D=0,E=!1,F=!1;q.procData=function(a,b,c){return o(a,b,c)},q.isReady=function(){return F},q.tick=function(a){e(a)},q.notfImp=function(a){j(a)},f(),i(t.hostPageUrl),j(t.hostPageUrl),F=!0,D=0}}(0,0,textools),lw_root=function(a,b,c,d,e){return function(f){function g(a){E.logger.writex({msg:a,prefix:"lw_root",inst:U})}function h(){B(),window.removeEventListener("unload",h)}function i(a){if(!0!==oa)return null;if("direct"===a)var b=ha[ia];else{var c=0;"adf"===G.ctxId&&(c=G.adfmidx);var d=c+3*ia;d%=ha.length;var b=ha[d]}return ia++,ia>=ha.length&&(ia=0),b}function j(a){if(null===a)return null;var b=a.navdata;return void 0===b?null:!(Date.now()-b.ts>6e4)&&b.url===G.hostPageUrl}function k(a){function b(){var a=null;return qa.forEach(function(b){null===a&&!0!==b.dn&&(a=b)}),a}function c(a){return!0===a.lw_enabled}function d(a){if("dev"===G.env)return{effRate:100,reducer:1};if("unspecified"===a.lw_reducer)return{effRate:100,reducer:1};var b=parseInt(a.lw_reducer);return"number"!=typeof b?{effRate:0,reducer:0}:(b>1e4&&(b=1e4),b<1&&(b=1),{effRate:Math.round(100/b),reducer:b})}function e(a,b){function c(a){var b=0;return a.split("|").forEach(function(a){window.location.href.indexOf(a)<0||b++}),b}if("string"!=typeof b["og:title"]||""===b["og:title"])return!1;if("string"!=typeof b["og:url"]||""===b["og:url"])return!1;if("string"!=typeof b["og:image"]||""===b["og:image"])return!1;if(0!==a.lw_minpath){if(window.location.href.replace(window.location.origin,"").length<a.lw_minpath)return!1}return!("unspecified"!==a.lw_filters&&c(a.lw_filters)>0)&&("*"===a.lw_ogtype||a.lw_ogtype.toLowerCase()===b["og:type"].toLowerCase())}switch(da){case"INIT":if(void 0===E.stageExec)break;if(null===(_=E.stageExec.getStageAttr()))break;if(!0!==c(_)){da="PARK";break}if(x(),aa=_.lw_chan_rx,fa=!0,pa=d(_),!0!==Z.whirliGig(pa.effRate)){da="PARK";break}if(!0!==e(_,ba)){da="PARK";break}if(m("view",_,ba,pa.reducer),g(),!0===G.visitData.autoRfsh){da="PARK";break}ea=a,da="TLP";break;case"TLP":if(a-ea<500)break;ea=a;var f=b();if(null===f){da="PARK";break}var h=Math.round((a-G.startTime)/1e3);if("number"!=typeof h||h>T){da="PARK";break}if(h<f.tm)break;f.dn=!0;var i=h-ra;if(ra=h,i<1)break;m("time",_,ba,pa.reducer,i)}}function l(){function a(a){return"string"==typeof a&&""!==a}for(var b,c,d=["og:type","og:title","og:image","og:url","og:image:width","og:image:height"],e=document.getElementsByTagName("meta"),f={},g=0;g<e.length;g++)b=e[g].getAttribute("property"),c=e[g].getAttribute("content"),!0===a(b)&&!0===a(c)&&(b=b.toLowerCase(),d.indexOf(b)<0||(f[b]=c));return f}function m(a,b,d,e,f){function h(a,b,c,d,e){if("view"===a)return g(),{ver:100,type:a,reduc:e,ch:b,refch:c,visit:G.visitData.newVisit,plcID:G.placementId,title:encodeURIComponent(d["og:title"]),url:d["og:url"],img:d["og:image"]};if("time"===a)return g(),{ver:100,type:a,reduc:e,time:f,ch:b,url:d["og:url"]};throw{message:"unkonw_ping_type"}}function i(a){function b(a,b){var d={method:"POST",data:b,url:a,onSucc:function(a){},onFail:function(){},options:{timeout:1e4,withCredentials:!1}};new c(d)}var d=encodeURIComponent(JSON.stringify(a));b(Y,d)}function j(a){var b=a.lw_chan_tx;return"unspecified"===b?b=aa:b.indexOf(aa)<0&&(b+="|"+aa),b.split("|")}function k(a){return!0!==va?"":aa}i(h(a,j(b),k(b),d,e))}function n(a){switch(ma){case"INIT":if(!0!==fa)break;if(ca=o(f,aa),!0===M){v("","_s12 forced"),ma="LAC";break}ja=null,r(q()),na=a,ma="WCS";case"WCS":if(null===ja)break;if(!0===ja){v("","_s20 from_cache"),u("ok",la,"from_cache"),ma="SAR";break}ma="LAC";break;case"LAC":ka=null,t(p()),na=a,ma="WFR";case"WFR":if(a-na>O){v("","_s34 from_file_to"),u("error",null,"timeout"),ma="PARK";break}if(null===ka)break;if(!0!==ka){v("","_s36 from_file_err"),u("error",null,"call_error"),ma="PARK";break}v("","_s30 from_file"),v("/_s10 sizeK",Math.round(la.length/100)/10,{scl:$,res:"lo"}),u("ok",la,"from_file"),s(la,q()),ma="SAR";break;case"SAR":if(!0!==ca.isReady())break;var b="mixed";"unspecified"!==_.lw_sort&&(b=_.lw_sort);var c=30;"unspecified"!==_.lw_maxitem&&(c=parseInt(_.lw_maxitem));var d=ca.procData(ga,b,c);"ok"!==d.status&&v("","_s39 unable_to_sort_arts"),ha=d.artArray,oa=!0,ma="PARK"}}function o(a,b){return new e(a,b)}function p(){var a="http://";return!0===G.secProt&&(a="https://"),G.env,a+=K+"/liveweb/cont/"+aa+"."+L,!0===M&&(a+="?cb="+Math.round(999999*Math.random())),a}function q(){return aa+"_lwc_cont"}function r(a){var b=E.memhub.getItem(a);try{if(null===b)throw{msg:"no_data"};if(b.ver!==I)throw{msg:"incomp_cache_version"};if(Date.now()-b.ts>1e3*J)throw{msg:"cache_data_too_old"};if(null===(la=b.filedata))throw{msg:"invalid_data"};ja=!0}catch(a){ja=!1}}function s(a,b){if(null===a)return!1;var c={ts:Date.now(),ver:I,filedata:a},d={folder:Q,inclear:N,maxage:H};return E.memhub.setItem(b,c,d),"sys"===G.ctxId&&E.baseBridge.setItem(b,c,d),!0}function t(a){function b(a){null!==a&&"string"==typeof a&&""!==a&&(la=a,ka=!0)}function d(){ka=!1}function e(a,b,d){var e={method:"GET",url:a,onSucc:function(a){b(""+a.responseText)},onFail:function(){d("")},options:{timeout:1e4,withCredentials:!1}};new c(e)}e(a,b,d)}function u(a,b,c){if("ok"===a)try{var d=JSON.parse(b);ga=d.artArr}catch(a){}}function v(a,b,c){sa.push({domain:"lweb_low",path:"/_s05 mgr"+a,data:b,evOpts:c})}function w(a,b,c,d){sa.push({domain:a,path:b,data:c,evOpts:d})}function x(){null!==ua&&(ua.ecpings.forEach(function(a){y(G.placementId,a.domain,a.path,a.data,a.evOpts),y("*AllPlacements*",a.domain,a.path,a.data,a.evOpts)}),z())}function y(a,b,c,d,e){var f=aa+"/"+a+c;E.trackhub.sendEvent(b,f,d,e)}function z(){E.memhub.removeItem(C())}function A(){var a=E.memhub.getItem(C());try{if(null===a)throw{msg:"no_report_data"};if(a.ver!==R)throw{msg:"incomp_report_file_version"};if(Date.now()-a.ts>S)throw{msg:"report_data_too_old"};if("object"!==_typeof(a.repdata)||null===a.repdata)throw{msg:"invalid_rep_data"};return a.repdata}catch(a){}return null}function B(){if(null!==aa){var a={ts:Date.now(),ver:R,repdata:{ecpings:sa,navdata:ta}},b={folder:P,inclear:N,maxage:H};E.memhub.setItem(C(),a,b)}}function C(){return aa+"_defrep_"}var D=this,E=f.comps,F=f.cllBks,G=f.bootParams,H=(F.addLogLine,5184e3),I=100,J=600,K=G.dataRoot,L="json",M=!1,N=!1,O=1e4,P="lweb",Q="lweb",R=100,S=864e5,T=180,U=Math.round(999*Math.random());g();var V="http://";!0===G.secProt&&(V="https://");var W="0";void 0!==G.serverID&&(W=G.serverID);var X=a.resourceLocations.lwServerBase,Y=V+X.replace("${number}",W)+"/rpt",Z=new d,$="trgFileSize";!0!==b.isSeries($)&&b.addSeries($,{start:0,maxval:100,inc:10,exp:!0});var _=null,aa=null,ba=l(),ca=null,da="INIT",ea=0,fa=null,ga=null,ha=null,ia=0,ja=null,ka=null,la=null,ma="INIT",na=0,oa=null,pa=null,qa=[{tm:5,dn:!1},{tm:10,dn:!1},{tm:15,dn:!1},{tm:23,dn:!1},{tm:34,dn:!1},{tm:52,dn:!1},{tm:77,dn:!1},{tm:116,dn:!1},{tm:142,dn:!1},{tm:180,dn:!1},{tm:240,dn:!1}],ra=0,sa=[],ta={ts:0,url:null},ua=A(),va=j(ua);D.isReady=function(){return oa},D.lwadev=function(a,b,c){switch(a){case"imp":w("lweb_low","/_s20 actn","_s10 view"),w("lweb_low","/_s30 view_shr",b),null!==ca&&ca.notfImp(c);break;case"click":w("lweb_hi","/_s20 actn","_s20 click"),w("lweb_hi","/_s40 click_shr",b),ta.ts=Date.now(),ta.url=c;break;case"error":w("lweb_hi","/_s20 actn","_s30 error"),w("lweb_hi","/_s50 error_shr",b)}},D.gac=function(a){return i(a)},D.tick=function(a){k(a),n(a),null!==ca&&ca.tick(a)},E.heartH.subscribe(D.tick,"ag_lwebmgr"),v("","_s10 inst"),w("lweb_low","/_s20 actn","_s00 inst"),null!==va&&(w("lweb_low","/_s22 int_nav","_s10 inst"),!0===va&&w("lweb_med","/_s22 int_nav","_s20 nav")),window.addEventListener("unload",h)}}(config,antools,ajaxcall,textools,lw_artmgr),plcmswp=function(a,b,c){return function(a){function d(){var a=decodeURIComponent(window.location.host);return a=a.replace(/\./g,"_"),a=a.replace(/\:/g,"_"),a=a.replace("//","_")}function e(a,b){var c="";return"dev"===r.env?c+="http://localhost:3001/data/placements/swap/"+a+".json":c+="https://mkt.forebase.ch/tagx/data/placements/swap/"+a+".json",!1===b&&(c+="?cb="+Math.round(999999*Math.random())),c}function f(a){var b=o;"dev"===r.env&&(b=6e4);var c=localStorage.getItem(a);try{var d=JSON.parse(c);if(null===d)throw{};if(d.ver!==n)throw{};if(Date.now()-d.ts>b)throw{};return{cacheValid:!0,cacheData:d.data}}catch(a){}return{cacheValid:!1,cacheData:null}}function g(a,b){if(null===a)return!1;var c={ts:Date.now(),ver:n,data:a};return localStorage.setItem(b,JSON.stringify(c)),!0}function h(a,b){function d(a){try{if(null===a)throw{message:"null_data"};if("string"!=typeof a)throw{message:"no_string_data"};if(""===a)throw{message:"void_data"};b("ok",JSON.parse(a))}catch(a){b("error",null,a.message)}}function e(){b("error",null,"call_error")}function f(a,b,d){var e={method:"GET",url:a,onSucc:function(a){b(""+a.responseText)},onFail:function(){d("")},options:{timeout:p,withCredentials:!1}};new c(e)}f(a,d,e)}function i(b,c,d){"ok"!==b?a.thenFunc("error",null,d):a.thenFunc(b,c,d)}function j(a){var b,c={status:"error",data:{},msg:""};if(!a||"ok"!==a.status)return c.msg="bad_file_status",c;try{b=k(a.placement)}catch(a){return c.msg="bad_plcm_data",c}if(b.bfsdata={},void 0!==a.broadcasts)try{b.bfsdata.broadcasts=l(a.broadcasts)}catch(a){return c.msg="bad_broad_data",c}if(void 0!==a.filedata)try{b.bfsdata.filedata=m(a.filedata)}catch(a){return c.msg="bad_file_data",c}return c.data=b,c.status="ok",c}function k(a){function b(a){return void 0!==a.totstop&&(!0===a.totstop||"true"===a.totstop)}function c(a){return void 0===a.bstfct?100:parseInt(a.bstfct)}var d=u.objxt({},r);return d.partId="intrinsic",d.fxdVer="NA",d.preview=!1,d.ldrPlcmId=""+d.placementId,d.placementId=a.name,d.ssaId=a.ssaId,d.ssaName=a.ssaName,d.ssaSctId=a.ssaSctId,d.ssaSctName=a.ssaSctName,d.virtual=a.virtual,d.totStop=b(a),d.bstfct=c(a),d.publisher=a.publisher,!1===isNaN(parseInt(a.opdomain))&&(d.opdomId=a.opdomain),!0===isNaN(parseInt(d.opdomId))&&(d.opdomId="0"),d}function l(a){var b={};return b.dtoX=s.dtoX,b.liveweb=s.liveweb,b.currencies=s.currencies,b.dbo=s.dbo,b.quickvars=s.quickvars,b}function m(a){function b(b){void 0!==a[b]&&(void 0===t[b]&&(t[b]=[]),c[b]=[].concat(t[b],a[b]))}var c={};return b("proxets"),b("sourcesets"),b("stages"),b("traffic"),c}var n=100,o=18e5,p=5e3,q=!1,r=a.glbFBvar.basic_settings,s=a.glbFBvar.broadcasts,t=a.glbFBvar.filedata,u=new b;if(!0!==a.plcmParams.swap)return void i("ok",a.plcmParams,"no_swap");var v=d(),w=v+"_swap",x=e(v,q),y=f(w);if(!0===y.cacheValid){var z=j(y.cacheData);return"ok"!==z.status?void i("error",null,"proc_error_"+z.msg):void i("ok",z.data,"from_cache")}h(x,function(a,b,c){if("ok"!==a)return void i("error",null,"call_error_"+c);var d=j(b);if("ok"!==d.status)return void i("error",null,"proc_error_"+d.msg);g(b,w),i("ok",d.data,"from_file")})}}(0,textools,ajaxcall),ildtransp=function(a,b,c){return function(d){function e(a){n.logger.writex({msg:a,prefix:"ildtransp",inst:w})}function f(a,b,c){var d="/dsdfile/"+o.hostPlcmId+a;n.trackhub.sendEvent("performance",d,b,c)}function g(a){switch(D){case"INIT":A=null,k(G),E=a,D="WFR";case"WFR":if(a-E>v){f("","_s34 from_file_to"),l("error",null,"timeout"),D="PARK";break}if(null===A)break;if(!0!==A){f("","_s36 from_file_err"),l("error",null,"call_error"),D="PARK";break}f("","_s30 from_file"),f("/_s10 sizeK",Math.round(C/100)/10,{scl:x,res:"lo"}),l("ok",B,"from_file"),j(B,p),D="PARK";break;case"PARK":n.heartH.unsubscribe(m.tick)}}function h(a,b){if("string"!=typeof o.dsdchn)return null;if(o.dsdchn.indexOf("blob:")>=0)return null;var c="";return"dev"===o.env?c+="http://localhost:3001/data/placements/dsd/"+o.dsdchn+".json":c+="https://mkt.forebase.ch/tagx/data/placements/dsd/"+o.dsdchn+".json",!1===b&&(c+="?cb="+Math.round(999999*Math.random())),c}function i(a){var b=r;"dev"===o.env&&(b=6e4),y=!1;var c=n.memhub.getItem(a);try{if(null===c)throw{msg:"no_data"};if(c.ver!==q)throw{msg:"incomp_cache_version"};if(Date.now()-c.ts>b)throw{msg:"cache_data_too_old"};return z=c.data,void(y=!0)}catch(a){}}function j(a,b){if(null===a)return!1;var c={ts:Date.now(),ver:q,data:a},d={folder:t,inclear:u,maxage:s};return n.memhub.setItem(b,c,d),"sys"===o.ctxId&&n.baseBridge.setItem(b,c,d),!0}function k(a){function b(a){try{if(A=!1,null===a)return;if("string"!=typeof a)return;if(""===a)return;C=a.length,B=JSON.parse(a),A=!0}catch(a){A=!1}}function d(){A=!1}function e(a,b,d){var e={method:"GET",url:a,onSucc:function(a){b(""+a.responseText)},onFail:function(){d("")},options:{timeout:v,withCredentials:!1}};new c(e)}e(a,b,d)}function l(a,b,c){e(),"ok"===a?d.callback(a,b,c):d.callback("error",null,c)}var m=this,n=d.comps,o=d.bootParams,p=o.hostPlcmId+"_inlndat",q=100,r=18e5,s=604800,t="stgm",u="dev"===o,v=1e4,w=Math.round(999*Math.random());e();var x="trgFileSize";!0!==b.isSeries(x)&&b.addSeries(x,{start:0,maxval:100,inc:10,exp:!0}),f("","_s10 inst");var y=null,z=null,A=null,B=null,C=0,D="INIT",E=0,F=!0;!0===a.localcache.disable?(F=!1,e()):!0===o.debugVars.disableLocCache&&(F=!1,e());var G=h(d,F);return null===G?void l("error",null,"no_url"):!1!==F&&(y=null,i(p),!0===y)?(f("","_s20 from_cache"),void l("ok",z,"from_cache")):(m.tick=function(a){g(a)},n.heartH.subscribe(m.tick,"ildtransp"),void m.tick(Date.now()))}}(config,antools,ajaxcall),inlinedata=function(a){return function(b){function c(a,b,c){"ok"===a?(i=!0,g=b,h=c):i=!1}var d=this,e=b.comps,f=b.bootParams,g=null,h=null,i=null;if(d.getSDSStatus=function(){return i},d.getStgFileData=function(){try{return f.bfsdata.filedata.stages}catch(a){}return[]},d.getTrfFileData=function(){try{return f.bfsdata.filedata.traffic}catch(a){}return[]},d.getSSFileData=function(){try{if(!0===i)return g.filedata.sourcesets;throw{msg:"no_src_filedata"}}catch(a){}return[]},d.getBroadDataQV=function(){try{return f.bfsdata.broadcasts.quickvars.data}catch(a){}return""},d.getBroadDataCR=function(){try{return f.bfsdata.broadcasts.currencies}catch(a){}return{}},d.getBroadDataDTO=function(){try{if(!0===i)return g.broadcasts.dtoX}catch(a){}return{}},"adf"===f.ctxId)return void(i=!1);new a({comps:e,bootParams:f,callback:c})}}(ildtransp),cmp_int_v2=function(a){return function(b){function c(a){q.logger.writex({msg:a,prefix:"cmp_int_v2",inst:G})}function d(a,b,c){u("/_s80 drv_evts_v2"+a,b,c,!0)}function e(a,b,c){var e=c||{};e.res="lo",d(a,b,e)}function f(){var a=window,b=null,d=30;try{for(;d>0;){d--;try{if(void 0!==a.__tcfapi){b=!0;break}}catch(a){}try{if(void 0!==a.frames.__tcfapiLocator){b=!1;break}}catch(a){}if(a===window.top)break;a=a.parent}}catch(a){}return null!==b&&(!0===b?c():(c(),g()),y=a,x=b,!0)}function g(){function a(){window.removeEventListener("message",b),window.removeEventListener("unload",a)}function b(a){try{var b=a.data,c=b.__tcfapiReturn;if(void 0===c)return;var d=c.callId;if(void 0===d)return;d.indexOf(E)>=0?i(c.returnValue,c.success):d.indexOf(F)>=0&&k(c.returnValue,c.success,"frame")}catch(a){}}try{window.addEventListener("message",b,!1),window.addEventListener("unload",a)}catch(a){}}function h(){try{if(d("","_s10 ping"),!0===x)y.__tcfapi("ping",2,i);else{var a=E+Math.random().toString(36).substring(2,10),b={__tcfapiCall:{command:"ping",callId:a}};y.postMessage(b,"*")}}catch(a){d("","_s14 ping_excpt"),n("pingCallback",a),i()}}function i(a){function b(a){return void 0!==a&&null!==a}try{if(d("","_s20 ping_resp"),c(),"ok"===z)return;if(!0!==b(a))return d("","_s22 ping_not_ok"),z="error",void(A="ping reply rejected: "+JSON.stringify(a));if(!0!==a.cmpLoaded)return void d("","_s24 ping_not_avail");d("","_s26 ping_ok"),z="ok"}catch(a){z="error",n("pingCallback",a)}}function j(){d("","_s30 data_req");try{if(!0===x)y.__tcfapi("getTCData",2,k,s);else{var a={__tcfapiCall:{callId:F+Math.random().toString(36).substring(2,10),command:"getTCData",parameter:s,version:2}};y.postMessage(a,"*")}}catch(a){d("","_s34 data_req_excpt"),n("getTCData",a),k(null,!1,"excep")}}function k(a,b,f){function g(a){function b(a){return null!==a&&"object"===_typeof(a)}return!0!==b(a)?10:"boolean"!=typeof a.gdprApplies?20:"string"!=typeof a.tcString?30:""===a.tcString?31:"string"!=typeof a.eventStatus?40:"cmpuishown"===a.eventStatus?41:void 0===a.vendor?50:void 0===a.vendor.consents?51:void 0===a.purpose?60:void 0===a.purpose.consents?61:null}function h(c){function d(a,b){e(a+"/_s10 cmp_stat",b.cmpStatus),e(a+"/_s12 evt_stat",b.eventStatus),e(a+"/_s14 cmp_id",b.cmpId),e(a+"/_s16 cmp_ver",b.cmpVersion),e(a+"/_s18 plcy_ver",b.tcfPolicyVersion),e(a+"/_s20 gdpr_appl",b.gdprApplies),e(a+"/_s22 srv_spec",b.isServiceSpecific),e(a+"/_s24 non_std_stk",b.useNonStandardStacks),e(a+"/_s26 pub_cc",b.publisherCC),e(a+"/_s28 purp_one_treat",b.purposeOneTreatment)}function g(a){function b(a){return a<10?"0"+a:""+a}var c="/_s40 purpose";for(var d in a.purpose.consents)e(c+"/_s10 consent/p_"+b(d),a.purpose.consents[d]);for(var d in a.purpose.legitimateInterests)e(c+"/_s20 leg_ints/p_"+b(d),a.purpose.consents[d])}function h(a,b){function c(a){return a<10?"0"+a:""+a}var d="/_s50 publisher/"+b;for(var f in a.publisher.consents)e(d+"/_s10 consent/p_"+c(f),a.purpose.consents[f]);for(var f in a.publisher.legitimateInterests)e(d+"/_s20 leg_ints/p_"+c(f),a.purpose.consents[f])}return e("/_s10 tcdata_succ_flag",b),e("/_s20 tcdata_clbk_code",f||"window"),e("/_s30 tcdata_gdpr_appl",a.gdprApplies),d("/_s35 tcdata_header",a),g(a),h(a,r.publisher),c}try{d("","_s40 data_resp");var i=g(a);if(null!==i)throw{msg:"data does not verify",code:"cd:"+i};return C={consentString:a.tcString,vendorData:a,apiVersion:2,gdprApplies:"boolean"!=typeof a.gdprApplies||a.gdprApplies},D={drvc:p,stgcnst:m(C),vendcnst:C.vendorData.vendor.consents,purpcnst:C.vendorData.purpose.consents},d("","_s42 data_ok"),c(),t("tcdata_ok"),B="ok",v("ok",D),h()}catch(b){var j="NA",k="NA";if(void 0!==b.msg&&(j=b.msg),void 0!==b.code&&(j+=" - code:"+b.code),void 0!==b.stack&&("NA"===k&&(k=""),k+="Stack:\n",k+=b.stack.toString()+"\n\n\n"),void 0!==b.data){"NA"===k?k="":k+="\n\n";var l=0;k+="Data Obj:\n",k+=w.printObj(l,b.fbdata)+"\n\n"}"NA"===k?k="":k+="\n\n";var l=0;k+="TCF Data Response Obj:\n",k+=w.printObj(l,a)+"\n\n",d("","_s44 tcdata_error"),d("/_s38 tcdata_errors",j,{att:k}),c(),t("tcdata_error"),B="error",v("data_error")}}function l(a){function b(b){function c(){return"wait"}return"wait"===b?c():"error"===b?c():null===b?c():"object"!==_typeof(b)?c():"loaded"!==b.cmpStatus?c():"visible"===b.displayStatus?c():void a("go")}try{if(!0===x)y.__tcfapi("ping",2,b);else if(!1===x){var c=E+Math.random().toString(36).substring(2,10),d={__tcfapiCall:{command:"ping",callId:c}};y.postMessage(d,"*")}else b("wait")}catch(a){b("error")}}function m(a){return null!==a&&(!1===a.gdprApplies||!0===w.deepAccess(a,"vendorData.purpose.consents.1"))}function n(a,b){var c="";void 0!==b.stack&&(c+="Stack:\n",c+=b.stack.toString()+"\n\n\n"),d("/_s90 errors/_s90 except",a,{att:c})}var o=this,p="tcf_v2",q=b.comps,r=b.bootParams,s=b.nodeIds,t=b.addLogLine,u=b.reportEvent,v=b.dataCallback,w=new a,x=null,y=null,z="...",A="",B="...",C=null,D=null,E="fb_ping_",F="fb_getTCFData_",G=Math.round(999*Math.random());c(),o.locate=function(){return f()},o.getInSpace=function(){return x},o.ping=function(){h()},o.dockStat=function(){return z},o.reqData=function(){j()},o.reqDataStat=function(){return B},o.getDataObj=function(){return C},o.getFBDataObj=function(){return D},o.getCmpDynStat=function(a){return l(a)}}}(textools),cmp_int_v1=function(a){return function(b){function c(a){o.logger.writex({msg:a,prefix:"cmp_int_v1",inst:D})}function d(){var a=window,b=null,d=30;try{for(;d>0;){d--;try{if(void 0!==a.__cmp){b=!0;break}}catch(a){}try{if(void 0!==a.frames.__cmpLocator){b=!1;break}}catch(a){}if(a===window.top)break;a=a.parent}}catch(a){}return null!==b&&(!0===b?c():(c(),e()),s=a,r=b,!0)}function e(){function a(){window.removeEventListener("message",b),window.removeEventListener("unload",a)}function b(a){try{var b=a.data,c=b.__cmpReturn;if(void 0===c)return;var d=c.callId;if(void 0===d)return;d.indexOf(A)>=0?g(c.returnValue):d.indexOf(B)>=0?i(c.returnValue):d.indexOf(C)>=0&&j(c.returnValue)}catch(a){}}try{window.addEventListener("message",b,!1),window.addEventListener("unload",a)}catch(a){}}function f(){try{if(!0===r)s.__cmp("ping",null,g);else{var a=A+Math.random().toString(36).substring(2,10),b={__cmpCall:{command:"ping",callId:a}};s.postMessage(b,"*")}}catch(a){g()}}function g(a){function b(a){return void 0!==a&&null!==a}if("..."===t){if(c(),!0!==b(a))return t="error",void(u="ping reply rejected: "+JSON.stringify(a));!0===a.cmpLoaded&&(t="ok")}}function h(){try{if(!0===r)s.__cmp("getVendorConsents",null,i),s.__cmp("getConsentData",null,j);else{var a={__cmpCall:{callId:B+Math.random().toString(36).substring(2,10),command:"getVendorConsents",parameter:null}};s.postMessage(a,"*");var b={__cmpCall:{callId:C+Math.random().toString(36).substring(2,10),command:"getConsentData"}};s.postMessage(b,"*")}}catch(a){i()}}function i(a){function b(a){function b(a){return null!==a&&"object"===_typeof(a)}function c(a){p("vcsResp_not_good - code: "+a),q("","_s38 vcsResp_not_good"),q("/_s90 errors/_s20 vendor_cons_clbk","code : WWypHs7tEX_"+a)}return!0!==b(a)?(c(1),!1):"boolean"!=typeof a.gdprApplies?(c(2),!1):!0!==a.gdprApplies||(!0!==b(a.purposeConsents)?(c(3),!1):!0===b(a.vendorConsents)||(c(4),!1))}if("..."!==v)return void q("","_s38 cmp late resp");!0===b(a)&&(c(),p("cmp_vcs_replied"),w=a,k("ok"))}function j(a){function b(a){function b(a){return null!==a&&"object"===_typeof(a)}function c(a){p("gcdResp_not_good - code: "+a),q("","_s39 gcdResp_not_good"),q("/_s90 errors/_s20 vendor_cons_clbk","code : ejK23Yts_"+a)}return!0!==b(a)?(c(1),!1):"boolean"!=typeof a.gdprApplies?(c(2),!1):!0!==a.gdprApplies||("string"==typeof a.consentData||(c(3),!1))}if("..."!==v)return void q("","_s38 cmp late resp");!0===b(a)&&(c(),p("cmp_gdc_replied"),x=a,k("ok"))}function k(a){"error"!==v&&null!==w&&null!==x&&(y={consentString:x.consentData,vendorData:w,gdprApplies:x.gdprApplies},z={drvc:n,stgcnst:l(y),vendcnst:w.vendorConsents},v="ok")}function l(a){return null!==a&&(!1===a.gdprApplies||!!a.consentString)}var m=this,n="cmp_v1",o=b.comps,p=(b.bootParams,b.addLogLine),q=b.reportEventFullTree,r=(new a,null),s=null,t="...",u="",v="...",w=null,x=null,y=null,z=null,A="fb_ping_",B="fb_getVendor_",C="fb_getConsent_",D=Math.round(999*Math.random());c(),m.locate=function(){return d()},m.getInSpace=function(){return r},m.ping=function(){f()},m.dockStat=function(){return t},m.reqData=function(){h()},m.reqDataStat=function(){return v},m.getDataObj=function(){return y},m.getFBDataObj=function(){return z},m.getCmpDynStat=function(a){a("go")}}}(textools),dk_condlogic=function(args){function _deltalog(a){_comps.logger.writex({msg:a,prefix:"dk_condlogic",inst:_instnum})}function _getCleanPageUrl(){var a=_bootParams.hostPageUrl;return"string"!=typeof a?null:(a=a.toLowerCase(),0===a.indexOf("https://")?a=a.replace("https://",""):0===a.indexOf("http://")&&(a=a.replace("http://","")),a)}function _compileFactorString(a){function b(a,b){function c(a,b){var c=[],d=a.length-1;return a.forEach(function(a,e){c.push(a),e<d&&c.push(b)}),c}function d(a,b){b.forEach(function(b){a.push(b)})}function e(a){var b=[];return a.forEach(function(a){""!==a&&b.push(a)}),b}var f,g=[];return a.forEach(function(a){if(a.length<2)return void g.push(a);f=a.split(b),f=c(f,b),d(g,f)}),e(g)}if("unspecified"===a)return[];var c=[a];return c=b(c,"("),c=b(c,")"),c=b(c,"&"),c=b(c,"|"),c=b(c,"!")}function _getConditionalSignal(a){var b=_getVal(a);return _deltalog(),"ok"===b.stat?!0===b.val?_sv_yes:_sv_no:b.stat===_sv_undef?_sv_undef:(b.stat,_sv_error)}function _getVal(sceneFactors){function procFactorStr(a){var b=getMatchingMacroHandler(a);return null===b?{val:null,stat:_sv_error,msg:"no handler for '"+a+"'"}:null===(b=b.handFunc(b.argStr))?{val:null,stat:_sv_undef,msg:"value NA"}:(_deltalog(),{val:b,stat:"ok",msg:""})}function getMatchingMacroHandler(a){for(var b in _macros)if(0===a.indexOf(b))return{handFunc:_macros[b],argStr:a.replace(b,"")};return _deltalog(),null}function compileFactorString(a,b){var c="";return b.forEach(function(b,d){0!==d&&(c+="|"),c+=""+a[b]}),c}var outFactorArray=[],undefIndexes=[],errorIndexes=[];if(sceneFactors.forEach(function(a,b){if(a.length>1){var c=procFactorStr(a);c.stat===_sv_error?(errorIndexes.push(b),outFactorArray.push(_sv_error)):c.stat===_sv_undef?(undefIndexes.push(b),outFactorArray.push(_sv_undef)):outFactorArray.push(c.val)}else outFactorArray.push(a)}),errorIndexes.length>0)return{stat:_sv_error,val:null,msg:compileFactorString(sceneFactors,errorIndexes)};if(undefIndexes.length>0)return{stat:_sv_undef,val:null,msg:compileFactorString(sceneFactors,undefIndexes)};try{var boolExp=outFactorArray.join(""),result;return eval("result = "+boolExp),{stat:"ok",val:1===result||!0===result,msg:""}}catch(a){return{stat:_sv_error,val:null,msg:"excp - "+boolExp}}}function _testScript(a){return _getElementList("script",a).length>0}function _testFrame(a){return _getElementList("iframe",a).length>0}function _testDiv(a){return _getElementList("div",a).length>0}function _getElementList(a,b){var c=[];return _loopThroughElements(a,b,function(a){c.push(a)}),c}function _loopThroughElements(a,b,c){function d(a,b){function c(a,b,c){var d=a.getAttribute(c);if(null===d)return!1;var e=!0;return b.forEach(function(a){d.indexOf(a)<0&&(e=!1)}),e}var d=b.split(".");return!0===c(a,d,"id")||(!0===c(a,d,"class")||!0===c(a,d,"src"))}for(var e=window.document.getElementsByTagName(a),f=0;f<e.length;f++){var g=e[f];!0===d(g,b)&&c(g)}}var that=this,_comps=args.comps,_cllBks=args.cllBks,_bootParams=args.bootParams,_sv_yes="yes",_sv_no="no",_sv_undef="undef",_sv_error="error",_instnum=Math.round(999*Math.random());that.getCondSignal=function(a){return _getConditionalSignal(_compileFactorString(a))};var _macros={"#prob":function(a){return Math.random()<parseInt(a)/100?1:0},"#test_case":function(a){return _bootParams.testCase.toLowerCase()===a.toLowerCase()?1:0},"#test_group":function(a){return parseInt(_bootParams.testGroup)===parseInt(a)?1:0},"#url_starts":function(a){var b=_getCleanPageUrl();return null===b?null:0===b.indexOf(a.toLowerCase())?1:0},"#url_contains":function(a){var b=_getCleanPageUrl();return null===b?null:b.indexOf(a.toLowerCase())>=0?1:0},"#url_maxl":function(a){return void 0===_bootParams.hostPageUrl?null:_bootParams.hostPageUrl.length<=parseInt(a)?1:0},"#url_minl":function(a){return void 0===_bootParams.hostPageUrl?null:_bootParams.hostPageUrl.length>=parseInt(a)?1:0},"#title_contains":function(a){return void 0===_bootParams.hostPageTitle?null:_bootParams.hostPageTitle.toLowerCase().indexOf(a.toLowerCase())>=0?1:0},"#title_maxl":function(a){return void 0===_bootParams.hostPageTitle?null:_bootParams.hostPageTitle.length<=parseInt(a)?1:0},"#title_minl":function(a){return void 0===_bootParams.hostPageTitle?null:_bootParams.hostPageTitle.length>=parseInt(a)?1:0},"#width_more":function(a){return window.innerWidth>=parseInt(a)?1:0},"#width_less":function(a){return window.innerWidth<parseInt(a)?1:0},"#find_script":function(a){return!0===_testScript(a)?1:0},"#find_frame":function(a){return!0===_testFrame(a)?1:0},"#find_div":function(a){return!0===_testDiv(a)?1:0}}},dk_domdock=function(a){return function(b){function c(a){u.logger.writex({msg:a,prefix:"domdock",inst:x})}function d(a){u.logger.writex({tgl:!0,msg:a,prefix:"domdock"})}function e(a,b,c){var d="/_s10 dom_docking/_s00 all_ok/"+w.placementId+"/"+w.hostDomain+"/"+a+"/"+b;u.trackhub.sendEvent("domdock_low",d,y)}function f(){var a={att:{page_url:w.hostPageUrl}},b="/_s10 dom_docking/_s10 no_dock_group/"+w.placementId+"/"+w.hostDomain;u.trackhub.sendEvent("domdock_hi",b,y,a,!0)}function g(a,b,c){var d={att:{page_url:w.hostPageUrl}},e="/_s10 dom_docking/_s20 no_alt_match/"+w.placementId+"/"+w.hostDomain+"/"+a+"/"+b;u.trackhub.sendEvent("domdock_hi",e,y,d,!0)}function h(a){var b={att:{page_url:w.hostPageUrl}},c="NA";null!==B&&(c=B.name);var d="/_s10 dom_docking/_s30 no_scroll_table/"+w.placementId+"/"+w.hostDomain+"/"+c+"/"+a;u.trackhub.sendEvent("domdock_hi",d,y,b,!0)}function i(a,b){var c=(w.hostPageUrl,"/_s10 refpath/_s00 elm_not_found/"+w.placementId+"/"+w.hostDomain);u.trackhub.sendEvent("domdock_low",c,y)}function j(){if("adf"===w.ctxId)return"";var a=w.hostPageUrl;a=a.replace("https://",""),a=a.replace("http://",""),a=a.replace(w.hostDomain,""),a=a.replace(".html",""),a=a.replace(".htm","");var b=a.lastIndexOf("/");a=a.substring(0,b);var c=a.indexOf(":");if(c>=0){var d=a.indexOf("/"),e=a.substring(c,d);a=a.replace(e,"")}return a=a.replace(/\//g,"|")}function k(a){if(null===B)return null;var b=null;return B.anchors.forEach(function(c,d){null===b&&c.name===a&&(b=c)}),null===b?(d("WARNING: unknown anchor ["+a+"]"),null):null===b.domElm?(d("WARNING: no elm was found for anchor ["+a+"]"),null):b.domElm}function l(a,b){if("adf"!==w.ctxId&&!0===b.mainFile){if(A=[].concat(A,a),null===(B=n(a)))return f(),void d("WARNING: active dock not determined");d("new active dockgroup ["+B.name+"]"),B.anchors.forEach(function(a,b){var f=null,h=null,i=null;if(a.alts.forEach(function(a,b){null===f&&null!==(f=s(a.path,a.checks))&&(h=a.path,i=a.checks)}),null===f)return a.domElm=null,g(B.name,a.name),void d("WARNING: no target found for anchor ["+a.name+"]");a.domElm=f,c(),d("target found for anchor ["+a.name+"] - xpath: "+h+" - checks: "+i),e(B.name,a.name)})}}function m(a){var b=C.getCondSignal(a);return"yes"===b||"no"!==b&&null}function n(a){var b=null;return a.forEach(function(a){null===b&&!0===m(a.cond)&&(b=a)}),b}function o(a){z.forEach(function(b){b.tick(a)})}function p(a){var b=q(a);if(null!==b)return b.addCallback(a.callback),void c();c(),z.push(new r(a,c))}function q(a){var b=null;return z.forEach(function(c){null===b&&c.getXPath()===a.xpath&&c.getStrings()===a.strings&&(b=c)}),b}function r(a,b){function c(a){l.forEach(function(b){b(a)})}self=this;var d=a,e=a.period||200,f=a.timeout||8e3,g=Date.now(),h=0,j=null,k=!1,l=[];self.getXPath=function(){return d.xpath},self.getStrings=function(){return d.strings},self.addCallback=function(a){l.push(a)},self.isDone=function(){return k},self.tick=function(a){if(!0!==k&&!(a-h<e)){if(h=a,null!==(j=s(d.xpath,d.strings)))return c(j),k=!0,void b();a-g<f||(c(null),k=!0,b(),!0===d.repNeg&&i(d.xpath,d.strings))}},a.callback&&l.push(a.callback)}function s(a,b){function c(a){for(var b=[],c=a,d=100;d>0;){d--;for(var e=0;e<c.classList.length;e++)b.push(c.classList[e]);if(c.id.length>0&&b.push(c.id),null===(c=c.parentElement))break}return b}function d(a,b){var c=!0;return b.forEach(function(b){var d=!1;a.forEach(function(a){!1===d&&a.indexOf(b)>=0&&(d=!0)}),!0!==d&&(c=!1)}),c}checkStringsArray=[],"string"==typeof b&&b.length>0&&"unspecified"!==b&&(checkStringsArray=b.split("|"));var e=[];try{if(a.indexOf("document.querySelector")>=0){var f=a.split('("');if(f.length<2)return null;if(f=f[1].split('")'),f.length<1)return null;var g=f[0],h=document.querySelector(g);null!==h&&e.push(h)}else for(var i=document.evaluate(a,document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),j=0,k=i.snapshotLength;j<k;++j)e.push(i.snapshotItem(j))}catch(a){return null}var l=[];return e.forEach(function(a){!0===d(c(a),checkStringsArray)&&l.push(a)}),1===l.length?l[0]:null}var t=this,u=b.comps,v=b.cllBks,w=b.bootParams,x=Math.round(999*Math.random()),y=j(),z=[],A=[],B=null,C=new a({master:t,comps:u,cllBks:v,bootParams:w});t.addNewDocks=function(a,b){return l(a,b)},t.getVars=function(){return null===B?{}:B.vars},t.findElm=function(a){return p(a)},t.getAnchElm=function(a){return k(a)},t.modify=function(a,b,c,d){t.find({xpath:a,strings:b,callback:function(a){if(null!==a){a.style[c]=d}}})},t.snstp=function(a){h(a)},u.heartL.subscribe(o,"domdock")}}(dk_condlogic),dk_tagdock=function(a){return function(b){
function c(a){g.logger.writex({tgl:!0,msg:a,prefix:"tagdock"})}function d(){if("adf"===i.ctxId)return"";var a=i.hostPageUrl;a=a.replace("https://",""),a=a.replace("http://",""),a=a.replace(i.hostDomain,""),a=a.replace(".html",""),a=a.replace(".htm","");var b=a.lastIndexOf("/");a=a.substring(0,b);var c=a.indexOf(":");if(c>=0){var d=a.indexOf("/"),e=a.substring(c,d);a=a.replace(e,"")}return a=a.replace(/\//g,"|")}function e(a){function b(a,c,d){function e(a,b){if(0!==a.length){var c=a.reduce(function(a,b){return a+"_"+b});b.push(c)}}function f(a,b){null!==b&&void 0!==b&&""!==b&&a.push(b)}function g(a){if(null===a)return!0;if(""===a.replace(/\s+/g,""))return!0;var b=j.getCondSignal(a);return"yes"===b||"no"!==b&&null}if(!0===g(a.cond)){var h=c.concat([]);f(h,a.tags),e(h,d),a.nodes.forEach(function(a){b(a,h,d)})}}if("adf"!==i.ctxId)for(var d in a){var e=k[d];void 0===e&&(k[d]={tags:[]},e=k[d]);var f=a[d];f.forEach(function(a){var f=[],g=[];b(a,f,g),c("new tags for root ["+d+"] - ["+g.join(" | ")+"]"),e.tags=e.tags.concat(g)})}}var f=this,g=b.comps,h=b.cllBks,i=b.bootParams,j=(Math.round(999*Math.random()),d(),new a({master:f,comps:g,cllBks:h,bootParams:i})),k={};f.addNewRoots=function(a){return e(a)},f.gro=function(){return k}}}(dk_condlogic),exprgs=function(a){return function(b){function c(a){l.logger.writex({msg:a,prefix:"ag_xpsreg_"+b.strgNmSfx,inst:n})}function d(a){a-s<r||(s=a,t&&(t=!1,i()))}function e(a,b,d){var e=Math.floor(Date.now()/1e3),f=0,h=g(a,b),i=q[h];if(void 0===i)return 0;for(var j=0;j<i.length;j++){e-i[j]<d&&f++}return c(),f}function f(a,b){var d=Math.floor(Date.now()/1e3),e=g(a,b),f=q[e];if(void 0===f&&(f=[]),f.unshift(d),f.length>u){for(var h=[],i=0;i<u;i++)h.push(f[i]);f=h}q[e]=f,j(),c(),c()}function g(a,b){return b+"_%%%_"+a}function h(){var a=!1,b=null;try{var d=l.memhub.getItem(p),e=JSON.parse(d);if(e.ver!==o)throw{};b=e.expdata}catch(c){b={},a=!0}q=b,!0===a&&(i(),c())}function i(){if(!(p.indexOf("blob:http")>=0)){var a={ver:o,expdata:q},b=JSON.stringify(a);l.memhub.setItem(p,b,{folder:"stgmgr"})}}function j(){t=!0}var k=this,l=b.comps,m=(b.cllBks,b.bootParams),n=Math.round(999*Math.random());c();var o=210,p=m.locus+"_xpsreg_"+b.strgNmSfx,q=null,r=(a.stage.expMaxStorage,b.savePeriod?b.savePeriod:2e3),s=0,t=!1,u=10;k.getExpCount=function(a,b,c){return e(a,b,c)},k.registerExposure=function(a,b){f(a,b)},h(),l.heartL.subscribe(d,"ag_xpsreg_"+b.strgNmSfx)}}(config),clntdata=function(a){return function(b){function c(a){i.logger.writex({msg:a,prefix:"clntdata",inst:n})}function d(){var a=null;try{k.forEach(function(b){if(null===a&&"intrinsic"!==b.partId&&void 0!==b.exdata&&"NA"!==b.exdata&&null!==b.exdata){var c=JSON.parse(b.exdata);void 0!==c.tgrp&&(a=c.tgrp)}}),null!==a&&(j.testGroup=a)}catch(a){}}function e(a){switch(p){case"INIT":q=a,p="WFID";case"WFID":if(null===(r=o.read(l)))break;f(r),p="WFVD";case"WFVD":if(null===(s=o.read(m)))break;g(s),i.heartL.unsubscribe(h.tick),p="PARK"}}function f(a){j.clientID=a.clientID,j.isNewUser=a.newUser,0===j.testGroup&&(j.testGroup=a.groupID)}function g(a){j.visitData=a}var h=this,i=b.comps,j=b.bootParams,k=b.partData,l="device_idnt",m="device_visit",n=Math.round(999*Math.random());c();var o=new a({comps:i}),p="INIT",q=0,r=null,s=null;d(),h.tick=function(a){e(a)},i.heartL.subscribe(h.tick,"clntdata"),h.tick(Date.now())}}(clntfile),tracker=function(a,b,c){return function(d){function e(a){n.logger.writex({msg:a,prefix:"ag_tracker",inst:p})}function f(){function a(){for(var a in F){var b=F[a],c="_s00 deployed";!0===b.running&&(c="_s01 running"),!0===b.mediaOn&&(c="_s02 media placed"),!0===b.mediaVld&&(c="_s03 media validated"),i("_s80 exit_unit_st/"+a,c),i("_s80 exit_unit_st/*AllUnits*",c)}}i("_s70 time_on_page",h(Math.round((Date.now()-o.startTime)/1e3),"longtimes")),a(),k(),window.removeEventListener("unload",f)}function g(a){if(1===a)return!1;if(a<1)return!0;var b=1e6,c=Math.round(Math.random()*b),d=Math.round(b/a),e=c+d;e>b&&(e=b,c=e-d);Math.random();Math.random(),Math.random(),Math.random();var f=Math.round((1-Math.random())*b);return f>=e||f<c}function h(a,c){var d=b.getRangeData(a,c);return"_i"+d.index+" ["+d.rangeL+"-"+d.rangeH+"]"}function i(a,d,f){function g(a,d,e){function f(a){function b(a){try{var b=100/parseInt(a);if("number"!=typeof b)throw 1;return b<1&&(b=1),b>100&&(b=100),b}catch(a){}return 1}return(new c).whirliGig(b(a))}function g(a){return null!==a&&"object"===_typeof(a)}function h(a){return(new c).printObj(0,a)}var i={},j=""+a;0!==j.indexOf("/")&&(j="/"+j);var k=""+d,l="",m=1,n="",o="";if(void 0!==e&&(void 0!==e.scl&&(l=e.scl),void 0!==e.exp&&(m=e.exp),void 0!==e.txt&&(n=e.txt),void 0!==e.att)){var p=!0;void 0!==e.ard&&(p=f(e.ard)),!0===p&&(o=!0===g(e.att)?h(e.att):e.att)}var q;if(""!==l){var r=b.getRangeData(k,l);q="_i"+r.index+" ["+r.rangeL+" , "+r.rangeH+"]",1!==m&&(q+=" _x["+m+"]"),n.length>0&&(q+=" "+n)}else q=k;return"/"!==j.charAt(0)&&(j="/"+j),i.path=j,i.caption=q,i.cnt=u,i.attch=o,i.effSkip=w,i}var h=g(a,d,f);if(!0!==h.effSkip){var i={group:"ev_cnt",event:"agent",ver:100,reduc:1,pidx:y,ts:Date.now()-o.startTime+y,data:{pat:h.path,cap:h.caption,cnt:h.cnt,attch:h.attch}};x.push(i),y++,e(),j()}}function j(){var a=!1;if(E>D&&(a=!0),x.length>=C?a=!0:Date.now()-z>B&&(a=!0),!0!==a)return setTimeout(k,A),E++,void e();k()}function k(){function a(a){var b={ver:o.versionTag,ldmd:o.ldmd,fltr:o.filterTag,tcase:o.testCase,plcmID:o.placementId,locus:o.locus,clntID:"NA",pageID:"NA",burst:x},c=JSON.stringify(b);return encodeURIComponent(c)}function b(a,b){function c(a){}function d(){}function e(){}var f=null;window.XMLHttpRequest?f=new XMLHttpRequest:window.ActiveXObject&&(f=new ActiveXObject("Microsoft.XMLHTTP")),null!==f&&(f.open("POST",a),f.timeout=6e3,f.onload=c,f.onerror=d,f.ontimeout=e,f.send(b))}if(0!==x.length){e();var c=a(x);b(t,c),x=[],E=0,z=Date.now()}}function l(){}var m=this,n=d.comps,o=(d.cllBks,d.bootParams),p=Math.round(999*Math.random());e();var q="http://";!0===o.secProt&&(q="https://");var r="0";void 0!==o.serverID&&(r=o.serverID);var s=a.resourceLocations.accServerBase,t=q+s.replace("${number}",r)+"/receiver/postreportstr",u=100;if(void 0!==o.spred&&"unspecified"!==o.spred){var v=parseInt(o.spred);!0!==isNaN(v)&&(u=v)}"dev"===o.env&&(u=1);var w=g(u);window.addEventListener("unload",f);var x=[],y=0,z=0,A=3e3,B=2e3,C=10,D=10,E=0,F={};m.fireEvent=function(a,b,c){e(),i(a,b,c)},m.getRangeString=function(a,b){return h(a,b)},m.sendSomeEvents=function(){j()},m.sendAllEvents=function(){k()},m.exNotif=function(a,b){switch(a){case"adblk":_abDetected=b.adb,i("_s70 ad_blocker",!0===b.adb?"YES":"NO");break;case"depl":if(void 0!==F[b.unitName])break;F[b.unitName]={running:!1,mediaOn:!1,mediaVld:!1};break;case"rung":if(void 0===F[b.unitName])break;F[b.unitName].running=!0;break;case"mediaon":if(void 0===F[b.unitName])break;F[b.unitName].mediaOn=!0;break;case"mediavld":if(void 0===F[b.unitName])break;F[b.unitName].mediaVld=!0}},i("_s00 host-plcm/"+o.hostDomain,o.placementId),i("_s05 host-locus/"+o.hostDomain,o.locus),i("_s12 publisher",o.publisher),i("_s14 context",o.ctxId),i("_s15 versionTag",o.versionTag),i("_s18 loadMode",o.ldmd),i("_s20 filterTag",o.filterTag),i("_s25 loaderTag",o.loaderTag),i("_s30 test_case",o.testCase),i("_s32 test_group",o.testGroup),i("_s33 cmp_code",o.cmpcode),i("_s40 confined",!0===o.confined?"YES":"NO"),i("_s42 sc_width",h(o.winInfo.physicalWidth,"screenDims")),i("_s45 secProt",o.secProt),i("_s55 has_flash",!0===o.hasFlash?"YES":"NO"),i("_s60 browser_name-version",o.envInfo.browserName),i("_s60 browser_name-version/"+o.envInfo.browserName,o.envInfo.majorVersion),i("_s65 os_name",o.envInfo.OSName),i("_s68 dev_string",o.envInfo.deviceStr);var G=n.quickVars.getMetha();i("_s80 qv_status","status: "+G.status+" | msg: "+G.msg+" | code: "+G.code),l(),j()}}(config,antools,textools),msghub=function(a){function b(a){r.logger.writex({tgl:!0,msg:a,prefix:"msghub"})}function c(){window.removeEventListener("message",d),window.removeEventListener("unload",c)}function d(a){try{var b=JSON.parse(a.data);switch(b.type){case"sandbox":g(a,b);break;case"cstpb":h(b);break;case"flagtag":j(b);break;case"extn":m(b);break;case"cmpg":o(b)}}catch(a){}}function e(a,b){void 0===t[a]&&(t[a]=[]),t[a].push(b)}function f(a){function b(a,b){var c=[];return a.forEach(function(a){a!==b&&c.push(a)}),c}for(var c in t)t[c]=b(t[c],a)}function g(a,b){if("psb"===b.mode){var c=b.divID;s[c](b,a.source);var d="NA";void 0!==b.sbVer&&(d=b.sbVer),i("_s41 sbx_psb","ver: "+d)}else if("cnf"===b.mode){var c=b.divID;s[c](b,a.source);var d="NA";void 0!==b.sbVer&&(d=b.sbVer),i("_s42 sbx_cnf","ver: "+d)}else if("sbv"===b.mode)i("_s43 sbx_run","ver: "+b.sbVer);else if("asn"===b.mode){var c=b.divID;s[c](b,a.source)}}function h(a){if(100===a.ver){var b=a.packid,c=a.id;void 0===u[c]&&(u[c]=!0,void 0!==t[b]&&t[b].forEach(function(a){a(b)}))}}function i(a,b){r.tracker.fireEvent(a,b)}function j(a){if(100===a.ver&&void 0===v[a.code]){var c="NA";void 0!==a.fw_macro1&&(c=a.fw_macro1);var d="NA";void 0!==a.fw_macro2&&(d=a.fw_macro2);var e="NA";void 0!==a.fw_macro3&&(e=a.fw_macro3);var f="NA";void 0!==a.fw_macro4&&(f=a.fw_macro4),v[a.code]={fw_macro1:c,fw_macro2:d,fw_macro3:e,fw_macro4:f},b("tgl FLAG TAG ACTIVATED ["+code+"]")}}function k(a){var b=v[a];return void 0===b?null:b}function l(){return{intrinsic:{fw_macro1:"NA",fw_macro2:"NA",fw_macro3:"NA",fw_macro4:"NA"}}}function m(a){100===a.ver&&void 0===w[a.fileName]&&(w[a.fileName]=!0,x.push({fileName:a.fileName,xtn_macros:[],fwd_macros:[]}),b("tgl EXTENSION TAG ACTIVATED ["+a.fileName+"]"))}function n(){return 0===x.length?null:x.shift()}function o(a){function b(a){y.push(a)}function c(a){var b=!1;return y.forEach(function(c){!1===b&&c===a&&(b=!0)}),b}100===a.ver&&!1===c(a.ctkn)&&(b(a.ctkn),z.push({ctkn:a.ctkn,thp_pixels:a.thp_pixels}))}function p(){return 0===z.length?null:z.shift()}var q=this,r=a.comps,s=(a.cllBks,a.bootParams,Math.round(999*Math.random()),{}),t={},u={},v=l(),w={},x=[],y=[],z=[];q.regSbx=function(a,b){s[""+a]=b},q.regCst=function(a,b){return e(a,b)},q.unRegCst=function(a){return f(a)},q.getFlagTag=function(a){return k(a)},q.getNextExtTag=function(){return n()},q.getNextCmpgTag=function(){return p()},window.addEventListener("message",d),window.addEventListener("unload",c)},nodemgr=function(a,b,c){return function(d){function e(a){d.comps.logger.writex({msg:a,prefix:"nodemgr",inst:U})}function f(a){W.push({ts:Date.now()-V,msg:a})}function g(a,b,c,d){J.trackhub.sendEvent("gdpr_l",a,b,c,d)}function h(a){g("/**"+a+"**",L.publisher)}function i(a,b,c,d){g("/"+L.publisher+T+a,b,c,d),g("/*AllPubs*"+T+a,b,c,d)}function j(a,b,c,d){i("/_s10 link"+a,b,c,d)}function k(a,b,c,d){i("/_s20 file"+a,b,c,d)}function l(a,b,c,d){i("/_s30 result"+a,b,c,d)}function m(a,b,c,d){i("/_s40 driver"+a,b,c,d)}function n(a,b,c,d){i("/_s50 status"+a,b,c,d)}function o(a){J.logger.writex({tgl:!0,msg:a,prefix:"nodemgr"})}function p(a){try{var b={ts:Date.now(),ver:Y,cmpDataStr:JSON.stringify(a)},c=JSON.stringify(b);return J.memhub.setItem(ba,c),"sys"===L.ctxId&&J.baseBridge.setItem(ba,c),!0}catch(a){return!1}}function q(){try{var a=J.memhub.getItem(ba),b=JSON.parse(a);if(b.ver!==Y)throw{msg:"incomp_versions"};if(Date.now()-b.ts>Z)throw{msg:"data_too_old"};return JSON.parse(b.cmpDataStr)}catch(a){return e(),null}}function r(){var a=q();return null===a?(e(),!1):(w("storage",a.prbdConsentDataObj,a.fbConsentDataObj),e(),!0)}function s(a){switch(ma){case"INIT":f("locating cmp"),j("","_s20 locating_cmp"),e(),o("locating cmp"),na=0,ma="LOC_LOOP";case"LOC_LOOP":if(a-na<500)break;if(null===(da=G())){if(++ea<N){f("cmp_loc_not_yet - retries:"+ea),j("/_s11 cmp_loc_retries",ea,{scl:"mediumtimes"}),e(),na=a;break}f("cmp_not_found"),j("","_s22 cmp_not_found"),j("/_s10 cmp_loc_status","_s02 not_found"),e(),o("CMP could not be found"),ma="FAIL";break}f("cmp_cmp_located"),j("","_s24 cmp_located"),!0===da.getInSpace()?(f("cmp_located_inspace"),j("/_s10 cmp_link_type","_s10 window"),e(),o("CMP located 'inspace'")):(f("cmp_located_inframe"),j("/_s10 cmp_link_type","_s20 frame"),e(),o("CMP located 'inframe'")),na=0,ma="DCKATM";case"DCKATM":if(a-na<500)break;j("","_s30 pinging_cmp"),e(),f("pinging_cmp"),da.ping(),na=a,ma="WFPING";case"WFPING":if(a-na>O){if(++fa<P){e(),f("cmp_dock_no_reply - retr: "+fa),j("","_s36 ping_retry"),j("/_s22 ping_retries",fa,{scl:"mediumtimes"}),ma="DCKATM",na=a;break}f("cmp_dock_no_reply"),j("","_s37 ping_no_reply"),e(),o("CMP did not reply"),ma="FAIL";break}if("..."===da.dockStat())break;if("ok"!==da.dockStat()){f("cmp_dock_error"),j("","_s38 ping_error"),j("/_s20 ping_status","_s33 cmp_ping_error"),j("/_s25 ping_err_msgs",ca),e(),o("CMP replied to pings with an error"),ma="FAIL";break}f("cmp_docked"),j("","_s31 ping_ok"),j("/_s20 ping_status","_s20 ping_ok"),j("/_s21 ping_times",a-va,{scl:"shorttimes"}),na=0,ma="ASKCMPDATA";case"ASKCMPDATA":if(a-na<500)break;j("","_s40 data_req"),f("cmp_requesting_data"),e(),da.reqData(),na=a,ma="WFCMPDATA";case"WFCMPDATA":if("ok"===da.reqDataStat()){j("/_s30 data_status","_s10 ok"),j("/_s31 data_times",a-na,{scl:"shorttimes"});var b=da.getFBDataObj().drvc;j("/_s33 dvr_code",b),o("CMP link - data ok - driver: "+b),h(b),j("/_s44 dock_times",a-va,{scl:"shorttimes"}),oa="ok",ma="SUCCS";break}if(a-na<Q)break;if(++ga<R){j("","_s41 data_retry"),j("/_s32 data_retries",ga,{scl:"mediumtimes"}),e(),f("cmp_data_no_reply - retrying: "+ga),na=0,ma="ASKCMPDATA";break}f("cmp_data_failed"),j("/_s30 cmp_data_status","_s30 failed"),e(),o("CMP link-data timeout"),oa="failed",ma="FAIL";break;case"SUCCS":o("cmp all ok"),f("cmp_all_ok"),j("","_s50 proc_success"),e(),ma="PARK";break;case"FAIL":x(),j("","_s52 proc_failed"),e(),ma="PARK"}}function t(a){switch(pa){case"INIT":e(),k("","_s10 try_stored_data"),qa=a,pa="TBF";case"TBF":if(a-qa>S){k("","_s14 stored_data_timeout"),e(),o("stored data timeout"),pa="FAIL";break}if(!0!==r())break;ra="ok",e(),k("","_s12 stored_data_ok"),k("/_s44 dock_times",a-va,{scl:"shorttimes"}),pa="PARK";break;case"FAIL":x(),k("","_s14 stored_data_failed"),ra="failed",pa="PARK"}}function u(a){a-sa<1e3||(sa=a,null!==da&&da.getCmpDynStat(function(a){a!==ta&&(console.log("CMP dyn status change: "+a),n("",a),ta=a)}))}function v(a,b){if("ok"!==a)return e(),void j("","_s43 data_error_"+a);w("link",da.getDataObj(),da.getFBDataObj()),p({prbdConsentDataObj:ia,fbConsentDataObj:ja}),e(),j("","_s42 data_ok")}function w(a,b,c){if("ok"===la&&"link"!==a)return e(),!0;"link"!==a&&"ok"===la||(ia=b,ja=c,y(ja),la="ok"),!0!==ua&&(z(ia),e(),l("/_s42 dock_type",a),o("cmp all ok"),f("cmp_all_ok"),l("","_s50 all_ok"),ha=ia,ia.status="ok",H("cmp_int_succ",_,"Master Node Data"),ua=!0)}function x(){"failed"===oa&&"failed"===ra&&!0!==ua&&(e(),l("/_s42 dock_type","no_dock"),o("cmp dock failed"),f("cmp dock failed"),l("","_s52 dock_failed"),ha={status:"failed"},H("cmp_int_fail",_,"Master Node Data"),ua=!0)}function y(a){ka=a.stgcnst;for(var b in a.vendcnst){var c=parseInt(b),d=a.vendcnst[c],e=E(c);null!==e&&(e.gdpr.valid=!0,e.gdpr.cnsnt=d)}}function z(a){function b(a){var b="/_s55 cons_by_node",c=b+"/"+a.name,d=b+"/*AllNodes*",e="YES",f="NO",g="unknown";!0!==a.gdpr.valid?(i(c,g),i(d,g)):!0===a.gdpr.cnsnt?(i(c,e),i(d,e)):(i(c,f),i(d,f))}function c(a){var b="/_s56 enfc_by_node",c=b+"/"+a.name,d=b+"/*AllNodes*",e="YES",f="NO";!0===a.gdpr.enforce?(i(c,e),i(d,e)):(i(c,f),i(d,f))}aa.forEach(function(a){b(a),c(a)})}function A(a){var b={};return b.name=a.name,b.idstrs=a.idstrs,b.gdpr={iabID:a.iabID,enforce:a.gdprenf?a.gdprenf:$,valid:!1,cnsnt:!1},b}function B(){function a(a,b,c,d){var e=String.fromCharCode(d+c),f={name:""+a+e,idstrs:[""+b+e],iabID:0,gdprenf:!0},g=A(f);g.gdpr.valid=!0,g.gdpr.cnsnt=!0,aa.push(g)}if("dev"===L.env){for(var b=0;b<10;b++)a("WF_NODE_","TION_",b,48);for(var b=0;b<10;b++)a("BD_NODE_","NODE_",b,65)}}function C(){_.forEach(function(a){a.iabID;var b=A(a);aa.push(b)})}function D(a){var b=null;return aa.forEach(function(c){null===b&&c.idstrs.forEach(function(d){null===b&&a.indexOf(d)>=0&&(b=c)})}),b}function E(a){var b=null;return aa.forEach(function(c){null===b&&0!==c.gdpr.iabID&&a===c.gdpr.iabID&&(b=c)}),b}function F(){var a=[];return aa.forEach(function(b){0!==b.gdpr.iabID&&a.push(b.gdpr.iabID)}),a}function G(){var a=null;return null!==(a=new c({comps:J,bootParams:L,addLogLine:f,reportEvent:j,nodeIds:F(),dataCallback:v}))&&!0===a.locate()?a:(a=new b({comps:J,bootParams:L,addLogLine:f,reportEventFullTree:m}),null!==a&&!0===a.locate()?a:null)}function H(a,b,c){function d(){var a="";return W.forEach(function(b){a+=g(b.ts)+" : "+b.msg+"\n"}),a}function e(){var a=0,b="";return X.forEach(function(c){a=0,b+=g(c.ts)+' : "'+c.name+'" : \n',b+=M.printObj(a,c.data)+"\n\n\n"}),b}function g(a){var b=Math.floor(a/1e3),c=a-1e3*b;return b=b<10?" "+b:""+b,c=0===c?"000":c<10?"00"+c:c<100?"0"+c:""+c,b+"."+c}var h;f("_sendDebugMail");var i="CMP_REPORT - ("+a+")\n\n";if(i+="CMP Log:\n\n"+d()+"\n\n","dev"===L.env&&(i+="Stash Buffer:\n\n"+e()+"\n\n"),void 0!==b){var j="dataObj";void 0!==c&&(j=c),h=0,i+=j+":\n",i+=M.printObj(h,b)+"\n\n\n"}var k=a.replace(/\s+/g,"_"),l="  ("+k+")",m={debugStrings:null,from:"CMP_INT",subject:l,text:i};I.fireEvent("sendDebMail",m)}var I=this,J=d.comps,K=d.master,L=d.bootParams,M=new a,N=200,O=2e3,P=200,Q=3e3,R=200,S=3e3,T="/_s10 sys";"adf"===L.ctxId?T="/_s20 adf":"brk"===L.ctxId&&(T="/_s30 brk");var U=Math.round(999*Math.random());e();var V=Date.now(),W=[];f("inst");var X=[];I.fireEvent=function(a,b){K.fireEvent(a,b)};var Y=120,Z=6048e5,$=!1,_=[{name:"Adform",idstrs:["TIME_adf","ADFORM"],iabID:50},{name:"PubMatic",idstrs:["TIME_pub","PUBM"],iabID:76},{name:"OpenX",idstrs:["OPENX","OPX"],iabID:69},{name:"Spotx",idstrs:["SPOTX"],iabID:165},{name:"Improve Digital",idstrs:["IMPROVE"],iabID:253},{name:"Criteo",idstrs:["CRITEO"],iabID:91},{name:"Oath",idstrs:["ADTECH","ADAPTV","AOL","VERIZ"],iabID:25},{name:"SmartAdServer",idstrs:["SMART"],iabID:45},{name:"EMXdigital",idstrs:["BRT"],iabID:183},{name:"Sovrn",idstrs:["SOVRN"],iabID:13},{name:"Rubicon Project",idstrs:["TIME_rub","RUBICON"],iabID:52},{name:"Index Exchange",idstrs:["INDEX"],iabID:10},{name:"WebAds",idstrs:["WEBADS"],iabID:601},{name:"AppNexus",idstrs:["APNX","XANDR"],iabID:32},{name:"FreeWheel",idstrs:["STICKY","TIME_VP","TIME_H5","COMC"],iabID:285},{name:"4W Project",idstrs:["FOURW"],iabID:0},{name:"Viralize",idstrs:["VIRALIZE"],iabID:0}],aa=[],ba=L.publisher+"_cmpx",ca="",da=null,ea=0,fa=0,ga=0,ha=null,ia={consentString:void 0,vendorData:void 0,gdprApplies:void 0},ja=null,ka=null,la="...";g("/**debug**/_s10 cmp_stg_name"+T,ba),g("/**debug**/_s20 act_domain"+T,""+window.location.origin);var ma="INIT",na=0,oa=null,pa="INIT",qa=0,ra=null,sa=0,ta=null,ua=!1,va=Date.now();I.getCMPData=function(){return ha},I.getNodeData=function(a){return D(a)},I.isReady=function(){return"..."!==la},I.getStatus=function(){return la},I.getDynStatus=function(){return!0===ka&&"go"===ta},I.getGdprData=function(){return ia},I.getStgCnst=function(){return ka},I.tick=function(a){s(a),t(a),u(a)},"brk"===L.ctxId&&(g("/**debug**/_s30 brk_base","_s10 inst"),J.baseBridge.subscribe("brk_base_debug",function(a){var b="/**debug**/_s30 brk_base";!0===a.found?g(b,"_s20 found"):!1===a.found?g(b,"_s30 not_found"):g(b,"_s40 unknown")})),B(),C(),i("","_s00 inst"),l("","_s00 inst"),!0===r()?i("","_s02 prelm_data_ok"):i("","_s03 prelm_data_notav"),J.heartH.subscribe(I.tick,"nodemgr"),I.tick(Date.now())}}(textools,cmp_int_v1,cmp_int_v2),curmgr=function(a){function b(a){i.logger.writex({msg:a,prefix:"curmgr",inst:j})}function c(){var a=null;return!0===d(m)?(a=g(m),b(),f(a,k,l),a):(b(),void 0!==(a=e(k,l))&&null!==a?a:(b(),{CHF:"1.000",USD:"0.960",EUR:"1.130"}))}function d(a){return void 0!==a&&(void 0!==a.CHF&&(void 0!==a.USD&&void 0!==a.EUR))}function e(a,b){try{var c=i.hubmem.getItem(a);if(null===c)throw"currency_repo_record_not_found";var d=JSON.parse(c);if(Date.now()-d.date>864e5)throw"currency_repo_record_too_old";return d.curlist}catch(a){return null}}function f(a,b,c){try{var d={curlist:a,date:Date.now()};i.hubmem.setItem(b,JSON.stringify(d))}catch(a){}}function g(a){var b={};for(var c in a)b[c]=parseFloat(a[c]);return b}var h=this,i=a.comps,j=(a.cllBks,a.bootParams,Math.round(999*Math.random()));b();var k="fb_currency",l=100,m=a.curData,n=c();h.getCurRates=function(){return n}},execontrol=function(a){return function(a){function b(a){m.logger.writex({msg:a,prefix:"execontrol",inst:p})}function c(a,b){var c=this;c.unitfbxID=a,c.unitName=b,c.shutdown=!1;var e=[],f=[];c.addLogItem=function(a){var b=JSON.parse(JSON.stringify(a));b.ts=Date.now(),e.push(b)},c.getLog=function(a){return e},c.addAdPost=function(a,b){var c=new d(a,b);f.push(c)},c.getAdPostObj=function(a){var b=null;return f.forEach(function(c){null===b&&c.adpID===a&&(b=c)}),b},c.getAdPosts=function(){return f}}function d(a,b){var c=this;c.adpID=a,c.adpName=b,c.shutdown=!1;var d=[],e=null;c.addLogItem=function(a){var b=JSON.parse(JSON.stringify(a));b.ts=Date.now(),d.push(b)},c.getLog=function(a){return d},c.setLastMedia=function(a){var b=JSON.parse(JSON.stringify(a));b.ts=Date.now(),e=b},c.getLastMedia=function(){return e}}function e(a){var b=this;b.type="truck",b.truckIdx=a.truckIdx,b.truckID=a.truckID,b.bdChnID=a.bdChnID,b.ts=Date.now();var c=[];b.addLogItem=function(a){var b=JSON.parse(JSON.stringify(a));b.ts=Date.now(),c.push(b)},b.getLog=function(a){return c}}function f(a){m.heartL.boostOn(a),m.heartH.boostOn(a)}function g(a){var b=null;return x.forEach(function(c){null===b&&c.unitfbxID===a&&(b=c)}),b}function h(a){var b=null;return G.forEach(function(c){"truck"===c.type&&null===b&&c.truckID===a&&(b=c)}),b}function i(a){switch(H){case"INIT":v=0,u=a,H="READY";break;case"READY":if(v>=t){H="PARK";break}if(a-u<1e3*s)break;j(a,v),u=a,v++,H="READY"}}function j(a,b){var c={ts:Date.now(),cmd:"repclosed",data:{}};w.push(c);var d="Report #: "+b+" - Time: "+Math.round((a-o.startTime)/1e3)+" seconds (snapshot)";q("sending perf report #"+b),k(d,b)}function k(a,b){function c(a,b){function c(c,d){function e(c,d){function e(c,d,e){function f(a){return a<10?"0"+a:a}var g="\t"+f(e+1)+")  ",i="",j=c.ts,k=c.data,l=b,m=h(j-k.cntValTm-a),n=k.adpName.replace(l,""),o=k.segmName.replace(l,"");i+=f(k.segmIdx)+":"+f(k.sourceIdx)+"  |  ",i+=k.logic+"  |  ",i+=(k.vast?"vast":"disp")+"  |  ",i+=(k.active?"act":"psv")+"  |  ",i+="adp: "+n+"  |  ",i+="sgm: "+o+"  |  ",i+="tag: "+k.tagName+"  |  ",i+="prc:"+k.clPrc,d.retStr+=g+m+"  |  "+i+"\n",d.accValue+=k.clPrc}var f={retStr:"",accValue:0},g=c.getLastMedia();null!==g&&(e(g,f,d.plmIdx),d.plmIdx+=1),d.retStr+=f.retStr,d.accValue+=f.accValue}var f={retStr:"",accValue:0,plmIdx:0};f.retStr+="Unit:  "+c.unitName+"  ("+c.unitfbxID+")\n\n";var g=c.getAdPosts();g.forEach(function(a){e(a,f)}),f.retStr+="\n\tUnit Value: "+f.accValue,f.retStr+="\n\n\n",d.retStr+=f.retStr,d.accValue+=f.accValue,d.plmIdx+=f.plmIdx}var d={retStr:"",accValue:0,plmIdx:0};x.sort(function(a,b){return a.unitfbxID<b.unitfbxID?-1:a.unitfbxID>b.unitfbxID?1:0}),x.forEach(function(a){c(a,d)});var e=Math.round(100*d.accValue)/100,f=d.plmIdx,g=0;x.length>0&&(g=Math.round(d.plmIdx/x.length*100)/100);var i=0;x.length>0&&(i=Math.round(d.accValue/x.length*100)/100);var j=h(Date.now()-a),k=d.retStr;return k+="Total Page Value: "+e+"\n",k+="Total Units: "+x.length+"\n",k+="Total Placements: "+f+"\n\n",k+="Avg Plcm/Unit: "+g+"\n",k+="Avg Value/Unit: "+i+"\n\n",k+="Report Time: "+j+"\n\n"}function d(a,b){var c=m.parcels.getPerfData(),d="";return d+="parcels - total packs: "+c.totalPacks+"\n",d+="parcels - pack rate: "+c.packRate+"\n",d+="parcels - fail rate: "+c.failRate+"\n",d+="parcels - avg transit time: "+c.avgTransTime+"\n\n"}function e(a){function b(a,b){return a.length<b?a:a.substring(0,b)+" ... "}function c(c,e){var f="\n",i="\t\t\t\t",j="\t\t\t\t\t\t",k="\t\t\t\t\t\t\t\t",l=g(c.unitfbxID);if(null===l)return"$$$$ unknown_unit $$$$";var m=l.getAdPostObj(c.adpID);return null===m?"$$$$ unknown_adpost $$$$":(f+="\n"+i+h(e-a)+" : ",f+="Adpost ["+c.adpIdx+"]: "+c.adpName+"\n\n",m.getLog().forEach(function(c,d){var e=c.ts,g=c.event,l=c.data,m=""+d;d<10&&(m=" "+m);var n="";switch(g){case"adp_gofw":n+="\n"+i+h(e-a)+" : ",n+="Adpost activated\n\n";break;case"new_segm":n+=j+h(e-a)+" : ",n+="Segm Lchd: "+l.segmName,n+="  |  "+l.logic,n+="  |  "+(l.vast?"vast":"disp"),n+="  |  "+l.ssName+"\n\n";break;case"segm_skipped":n+=j+h(e-a)+" : ",n+="Segm Skpd: "+l.segmName,n+="  |  "+l.logic,n+="  |  "+(l.vast?"vast":"disp"),n+="  |  "+l.ssName,n+="  |  ( "+l.reason+" )\n\n";break;case"segm_to":n+=j+h(e-a)+" : ",n+="Segm TO: "+l.segmName,n+="  |  "+l.logic,n+="  |  "+(l.vast?"vast":"disp"),n+="  |  "+l.ssName,n+="  |  ( "+l.reason+" )\n\n";break;case"segm_clsd":n+="\n"+j+h(e-a)+" : ",n+="Seg Clsd - Cnt: "+(l.segmComp?"Y":"N")+"\n";break;case"src_load":n+=k+h(e-a)+" : ",n+="Load: "+l.tagName,n+="  |  "+l.sourceIdx+"\n";break;case"src_abort":n+=k+h(e-a)+" : ",n+="Abrt: "+l.tagName,n+="  |  "+l.event,n+="  |  "+l.delay+"\n";break;case"src_imp":n+=k+h(e-a)+" : ",n+="Impr: "+l.tagName,n+="  |  "+l.impdata.impDelay,n+="  |  "+l.impdata.adsystem,n+="  |  "+l.impdata.adtitle,n+="  |  "+l.impdata.id,n+="  |  "+l.impdata.creativetype,n+="  |  "+l.impdata.client,n+="  |  "+l.impdata.vastversion+"\n";break;case"src_ply":n+=k+h(e-a)+" : ",n+="Plyn: "+b(l.plydata.tag,150)+"\n";break;case"src_bid":n+=k+h(e-a)+" : ",n+="Bids: "+l.tagName,n+="  |  "+l.delay,n+="  |  prc: "+l.prc+"\n";break;case"src_xseg":n+=k+h(e-a)+" : ",n+="> XSeg: "+l.tagName,n+="  |  prc: "+l.prc,n+="  |  (from: "+l.fromSeg+")\n";break;case"src_pass":n+=k+h(e-a)+" : ",n+="Pass: "+l.tagName,n+="  |  "+l.delay+"\n";break;case"src_missing":n+=k+h(e-a)+" : ",n+="Missing resp: "+l.tagName,n+="  |  "+l.delay+"\n";break;case"src_timo":n+=k+h(e-a)+" : ",n+="Timo: "+l.tagName,n+="  |  "+l.delay+"\n";break;case"src_drverr":n+=k+h(e-a)+" : ",n+="Driver Error: "+l.tagName,n+="  |  "+l.msg+"\n";break;case"src_vast_ev":n+=k+h(e-a)+" : ",n+="Vast: "+l.tagName,n+="  |  "+l.event+"\n";break;case"adison":n+=k+h(e-a)+" : ",n+="# Plc: "+l.tagName,n+="  |  prc: "+l.clPrc+"\n";break;case"adisoff":n+=k+h(e-a)+" : ",n+="Unplc: "+l.tagName+"\n"}f+=n}),f+="\n"+i+h(d)+": Adpost log closed",f+="\n\n")}var d=Date.now()-a,e="\n\n",f="\t";return x.sort(function(a,b){return a.unitfbxID<b.unitfbxID?-1:a.unitfbxID>b.unitfbxID?1:0}),x.forEach(function(b,g){e+="Unit ["+g+"]: "+b.unitName+"\n",b.getLog().forEach(function(b,d){var g=b.ts,i=b.event,j=b.data,k=""+d;d<10&&(k=" "+k);var l="";switch(i){case"unit_start":l+="\n"+f+h(g-a)+" : ",l+="Start: "+j.unitName+" - ",l+="smart: "+(!0===j.smart?"YES":"NO");break;case"unit_aborted":l+="\n"+f+h(g-a)+" : ",l+="Aborted: "+j.unitName+"\n";break;case"unitError_Exec":l+="\n"+f+h(g-a)+" : ",l+="**** Unit Error: Exec ****",l+="\n"+f+j.msg+"\n";break;case"unitError_Create":l+="\n"+f+h(g-a)+" : ",l+="**** Unit Error: Create ****",l+="\n"+f+j.msg+"\n";break;case"unitError_Oversized":l+="\n"+f+h(g-a)+" : ",l+="**** Unit Error: Oversized ****",l+="\n"+f+j.msg+"\n";break;case"adp_start":l+=c(j,g)}e+=l}),e+="\n"+h(d)+": Unit log closed",e+="\n\n\n\n"}),e}function f(a){var b="";G.forEach(function(c){if("burst"===c.type){var d=c.burstIdx+1;c.burstIdx<9&&(d="0"+(c.burstIdx+1));var e="Burst: ["+d+"] : "+h(c.ts-a)+"  |  ss: "+c.ssName+"  |  un: "+c.unitFbxID+"  -  sg: "+c.segmName+"  -  w: "+c.callSpan+"\n";return void(b+=e)}var f=""+(c.truckIdx+1);c.truckIdx<9&&(f="0"+(c.truckIdx+1)),b+="Truck ["+f+"] : "+h(c.ts-a)+"  |  "+c.bdChnID+"  :  |  ",c.getLog().forEach(function(a,c){var d=(a.ts,a.event),e=(a.data,""+c);c<10&&(e=" "+e);var f="";switch(d){case"node_call":f+=a.data.unitList.join("  +  ")+"  |  "}b+=f}),b+="\n"});var c=0;return y>0&&(c=Math.round(10*z/y)/10),b+="\n",b+="Trucks Sent: "+y+"\n",b+="Node Calls: "+z+"\n",b+="Calls/Truck: "+c+"\n",b+="\n",b+="Drv Requests: "+A+"\n",b+="Drv Bids: "+B+"\n",b+="Drv Pass: "+C+"\n",b+="Drv Wins: "+D+"\n",b+="Drv Timeouts: "+E+"\n",b+="Drv Errors: "+F+"\n",b+="\n"}function h(a){var b=a,c=Math.floor(b/1e3),d=b-1e3*c;return c=c<10?"0"+c:""+c,d=0===d?"000":d<10?"00"+d:d<100?"0"+d:""+d,c+"."+d}var i="";i+="\n\n------------------ Heart Report [H] ------------------\n\n",i+=m.heartH.getPerfReport(),i+="\n\n------------------ Heart Report [L] ------------------\n\n",i+=m.heartL.getPerfReport();var j={bootRep:r.getLogPrint(),heartRep:i,filesysRep:m.memhub.getDir("*","*"),pmRep:c(o.startTime,o.locus),ulRep:e(o.startTime),ncnxRep:f(o.startTime),parcelsRep:d(),sourceRep:m.sourceadmin.getSrcReport(),snapShRep:a,reportIdx:b};m.perfcheck.execCmd(j)}var l=this,m=a.comps,n=a.cllBks,o=a.bootParams,p=Math.round(999*Math.random());b();var q=n.addLogLine,r=n.bootLogger;m.quickVars.refreshParams();var s=m.quickVars.getParam("perfRepPeriod",20),t=m.quickVars.getParam("perfRepMax",2),u=0,v=0,w=[],x=[],y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0,G=[],H="INIT";l.hcComm=function(a){function b(a,b,c){var d=g(b.unitfbxID);if(null===d)throw"unknown_unit";if(!0!==d.shutdown){var e={event:a,data:b};return d.addLogItem(e),void 0!==c&&!0===c&&(d.shutdown=!0),d}}function d(a,b,c){var d=g(b.unitfbxID);if(null===d)throw"unknown_unit";var e=d.getAdPostObj(b.adpID);if(null===e)throw"unknown_adpost";if(!0!==e.shutdown){var f={event:a,data:b};return e.addLogItem(f),void 0!==c&&!0===c&&(e.shutdown=!0),e}}var i=a.event,j=a.data;switch(i){case"adp_show":m.heartL.bootOff(),m.heartH.bootOff();break;case"unit_start":var k=g(j.unitfbxID);if(null!==k)throw"inc_flow";var l=new c(j.unitfbxID,j.unitName);x.push(l);var n={event:"unit_start",data:j};l.addLogItem(n),f(!0);break;case"adp_start":var k=g(j.unitfbxID);if(null===k)throw"unknown_unit";k.addAdPost(j.adpID,j.adpName);var o=k.getAdPostObj(j.adpID);if(null===o)throw"unknown_adpost";var n={event:"adp_start",data:j};o.addLogItem(n),k.addLogItem(n),f(!0);break;case"adp_gofw":var k=g(j.unitfbxID);if(null===k)throw"unknown_unit";var o=k.getAdPostObj(j.adpID);if(null===o)throw"unknown_adpost";var n={event:"adp_gofw",data:j};o.addLogItem(n);break;case"adp_end":var k=g(j.unitfbxID);if(null===k)throw"unknown_unit";var o=k.getAdPostObj(j.adpID);if(null===o)throw"unknown_adpost";var n={event:"adp_end",data:j};o.addLogItem(n);break;case"mediaready":break;case"adison":var k=g(j.unitfbxID);if(null===k)throw"unknown_unit";var o=k.getAdPostObj(j.adpID);if(null===o)throw"unknown_adpost";d(i,j);var n={event:"adison",data:j};o.setLastMedia(n);break;case"new_segm":case"src_load":d(i,j),f(!0);break;case"segm_skipped":case"segm_to":case"src_abort":case"src_imp":case"src_ply":case"src_xseg":case"src_missing":case"src_vast_ev":case"adisoff":case"segm_clsd":d(i,j);break;case"src_drvreq":A++,f(!0);break;case"src_bid":B++,d(i,j);break;case"src_pass":C++,d(i,j);break;case"src_win":D++;break;case"src_timo":E++,d(i,j);break;case"src_drverr":F++,d(i,j);break;case"unit_aborted":case"unitError_Exec":case"unitError_Create":case"unitError_Oversized":b(i,j,!0);break;case"bd_new_burst":var p={type:"burst",ts:Date.now(),ssName:j.ssName,segmName:j.segmName,unitFbxID:j.unitFbxID,burstIdx:j.burstIdx,callSpan:j.callSpan};G.push(p),f(!0);break;case"bd_new_truck_sent":var q=h(j.truckID);if(null!==q)throw"inc_flow - code: Rx6Kyz8P";var r=new e({truckIdx:y,truckID:j.truckID,bdChnID:j.bdChnID});G.push(r);var n={event:"truck_sent",data:j};r.addLogItem(n),y++,f(!0);break;case"bd_new_node_call":var q=h(j.truckID);if(null===q)throw"unknown_truck - code: tEv3uNzd";var n={event:"node_call",data:j};q.addLogItem(n),z++,f(!0)}},l.tick=function(a){i(a)},m.heartL.subscribe(l.tick,"execontrol")}}(),macroproc=function(a){var b=this,c=a.comps,d=(a.cllBks,a.bootParams),e=null,f={};f.random=Math.round(1e6*Math.random()),f.imprID=d.imprID,f.fbplcid=d.placementId,f.timestamp=Date.now(),f.refurl=d.hostPageUrl,f.refurlENC=encodeURIComponent(d.hostPageUrl),f.refdomain=d.hostDomain,f.refdomainENC=encodeURIComponent(d.hostDomain),f.title=d.hostPageTitle,f.titleENC=encodeURIComponent(d.hostPageTitle),f.mediaTitle=encodeURIComponent("Forebase indexes - Italy"),f.mediaDesc=encodeURIComponent("Latest Forebase public opinion indexes - Italy"),
f.mediaURL=encodeURIComponent("http://forebase.com"),f.mediaID="unspecified",f.gdprOn=0,f.gdprConStr="",f.playerPosition="2",f.context="5",f.videoQuality="1",f.livestream="0",f.srcRelationship="1",f.contentLength="60",b.gucmpd=function(){if("ok"!==e&&"ok"===(e=c.nodemanager.getStatus())){var a=c.nodemanager.getGdprData();f.gdprOn=!0===a.gdprApplies?"1":"0",f.gdprConStr=a.consentString}},b.expand=function(a,c){function d(a,b){var c=""+a;for(var d in b)if(void 0!==b[d]){var e=new RegExp("\\${"+d+"}","g");c=c.replace(e,b[d])}return c}b.gucmpd();var e=d(a,f);return void 0!==c&&(e=d(e,c)),e},b.contentReady=function(a){if(void 0!==a.talkstations){var b=a.talkstations[0],c='Forebase Poll Italy: "'+b.Title+'"';f.mediaTitle=encodeURIComponent(c),f.mediaID="Forebase_Poll__"+b.TargetId}}},sourceadm=function(a){return function(b){function c(a){r.logger.writex({msg:a,prefix:"sourceadm",inst:z})}function d(a,b,c){r.trackhub.sendEvent("srcadmin","/admin"+a+"/"+t.placementId,b,c)}function e(a){return null!==l(a)}function f(a,b,c,d,e,f,g){var i={status:"...",msg:null,data:null},k=l(a);if(null===k)return i.status="...",i.msg="sourceset_not_found_in_list",i;var m=j(d),k=m.gocsso(a,e);Date.now();if(!0!==c){var n=m.gnas(a,b);if("ok"===n.status)return m.lt(n.src.tagname,k.segmType,f,g,n.src.dtovalue,n.src.idtov,n.src.xdtov,n.src.origIdx),h(n.src.tagname),k.timeAllBusy=null,i.data=n.src,i.data.width=k.sourceWidth,i.data.height=k.sourceHeight,i.status="ok",i}var o=m.chps(a,b);return null!==o?(m.lt(o.tagname,k.segmType,f,g,o.dtovalue,o.idtov,o.xdtov,o.origIdx),h(o.tagname),i.data=o,i.data.width=k.sourceWidth,i.data.height=k.sourceHeight,i.status="ok",i):(i.status="end_of_list",i.msg="no_more_sources_available",i)}function g(a){try{return a.varSetData.tagFilter.split("+")}catch(a){return[]}}function h(a){y.push(a)}function i(a){var b=0;return y.forEach(function(c){c===a&&b++}),b}function j(a){function b(a){function b(a){return void 0===e[a]?null:e[a]}var d=this;d.uniqueUnitName=a;var e={},f=[];d.getTagLog=function(){return f},d.gocsso=function(a,c){var d=b(a);if(null!==d)return d;if(!0!==c)var f=m(a),g=JSON.parse(JSON.stringify(f));else{var f=l(a),g=JSON.parse(JSON.stringify(f)),h=f.rotIdx+f.cloneCount;f.cloneCount++;var i=p(g.activeList,g.sampSize,h);g.activeList=i}return g.curSrcIdx=0,e[a]=g,g},d.gnas=function(a,d){function e(a,b){if("unspecified"===b)return!0;var c=a.shrtname,d=b.split("|"),e=!1;return d.forEach(function(a){c.indexOf(a)<0||(e=!0)}),e}for(var f={status:"---",msg:null,src:null},g=b(a),h=0;g.curSrcIdx<g.activeList.length&&!(++h>1e3);){var j=g.activeList[g.curSrcIdx];if(g.curSrcIdx++,!0===e(j,d)){if(!(j.maxpage>0&&i(j.tagname)>=j.maxpage))return c(),f.status="ok",f.src=j,f;c()}else c()}return f.status="no_source_avail",f},d.chps=function(a,d){function e(a,b){function d(a,b){function d(a){return 0===a.maxpage||i(a.tagname)<a.maxpage}function e(a,b){if("unspecified"===b)return!0;var c=a.shrtname,d=b.split("|"),e=!1;return d.forEach(function(a){c.indexOf(a)<0||(e=!0)}),e}var f=[];return a.forEach(function(a){return!0!==e(a,b)?void c():!0!==d(a)?void c():(c(),void f.push(a))}),f}function e(a){function b(a){var b=0;return a.forEach(function(a){b+=a.share}),b}if(0===a.length)return 0;var c=b(a);return a.forEach(function(a){0===a.share?(a.relShare=10,c+=10):a.relShare=Math.round(100*a.share/c)}),c}function f(a){function b(a){var b=0;return a.forEach(function(a){b+=a.relShare}),b}var c=null;if(0===a.length)return c;var d=b(a),e=Math.round(Math.random()*d),f=0;return a.forEach(function(a){null===c&&(f+=a.relShare)>=e&&(c=a)}),c}var g=JSON.parse(JSON.stringify(a)),h=d(g,b);e(h);var j=f(h);return null!==j&&c(),j}return e(b(a).passiveList,d)},d.lt=function(a,b,c,d,e,g,h,i){var j=Date.now()-t.startTime,k={ts:j,tn:a,lg:b,segidx:c,srcidx:d,cdtov:e,idtov:g,xdtov:h,origIdx:i};f.push(k)}}function d(a){var b=null;return x.forEach(function(c){c.uniqueUnitName===a&&(b=c)}),b}var e=d(a);if(null!==e)return e;var f=new b(a);return x.push(f),f}function k(b){function e(a){var b={};return b.name=""+a.sourcesetName,b.useCount=a.useCount,b.mdType=a.mdType,b.packid=a.packid,b.segmType=a.segmType,b.floor=a.floor,b.sourceWidth=a.sourceWidth,b.sourceHeight=a.sourceHeight,b.rotIdx=a.rotIdx,b.activeList=[],b.passiveList=[],b.time1req=null,b.timeAllBusy=null,b.complete=!1,b.curSrcIdx=0,v.push(b),b}function f(a,b){function c(a){return!0!==A||(!0!==a.valid||(!0!==a.gdpr.enforce||(!0!==a.gdpr.valid||!0===a.gdpr.cnsnt)))}if(!0===i(b.sourceName,B))return void d("/filter",b.sourceName);if(!0===h(b,a.segmType,a.mdType))return void d("/bypass",b.sourceName);var e=b.active,f=a.passiveList;!0===e&&(f=a.activeList);var g={};g.tagname=b.sourceName,g.shrtname=b.sourceName.replace(a.name+"_",""),g.active=e,g.hires=b.hires,g.snippet=b.snippet,g.insbx=b.insbx,g.insmod=b.insmod,g.dtovalue=b.compvalue,g.idtov=b.intDTOVars.combValue,g.xdtov=b.extDTOVars.combValue,g.category=b.category,g.overuse=b.overuse,g.curbIdx_Hr=b.curbIdx_Hr,g.curbIdx_Er=b.curbIdx_Er,g.curbIdx_Dl=b.curbIdx_Dl,g.origIdx=a.curSrcIdx++,g.refprc=b.refprice,"unspecified"!==b.maxpage?g.maxpage=parseInt(b.maxpage):g.maxpage=!0===e?1:100,"unspecified"!==b.share?g.share=parseInt(b.share):g.share=100,g.nodeData=j(g.shrtname),!0===c(g.nodeData)&&f.push(g)}function g(b){var c=b.activeList;c=c.sort(function(a,b){return a.category!==b.category?a.category-b.category:b.dtovalue-a.dtovalue}),b.cloneCount=0,b.sampSize=a.media.ssSmpSzMin+Math.ceil((a.media.ssSmpSzMax-a.media.ssSmpSzMin)/b.useCount),b.complete=!0,u("srcset file cmplt: "+b.name)}function h(a,b,c){var d="";return!0===a.active?d+="_active":d+="_passive",c.indexOf("dsp")>=0&&(d+="_video"),c.indexOf("vid")>=0&&(d+="_display"),c.indexOf("nat")>=0&&(d+="_native"),c.indexOf("cst")>=0&&(d+="_custom"),d+="bd"===b?"_bidding":"_waterfall",r.quickVars.shouldByPass("tags",a.sourceName,d,a.snippet)}function i(a,b){if(0===b.length)return!1;var d=!1,e=a.toLowerCase();return b.forEach(function(a){var b=a.toLowerCase();e.indexOf(b)>=0&&(d=!0,c())}),!d}function j(a){var b={valid:!1,msg:"no_node_info",nodename:"NA",gdpr:{iabID:0,valid:!1,cnsnt:!1}},c=r.nodemanager.getNodeData(a);return null!==c?(b.valid=!0,b.msg="",b.nodename=c.name,b.gdpr=c.gdpr):b.nodename="["+a+"]",b}for(var k=e(b),l=b.tags,m=0;m<l.length;m++){f(k,l[m])}g(k);var n=o(k,k.sampSize,k.rotIdx);w.push(n)}function l(a){for(var b=0;b<v.length;b++){var c=v[b];if(c.name===a)return c}return null}function m(a){for(var b=0;b<w.length;b++){var c=w[b];if(c.name===a)return c}return null}function n(){function a(a){var b=a,c=Math.floor(b/1e3),d=b-1e3*c;return c=c<10?" "+c:""+c,d=0===d?"000":d<10?"00"+d:d<100?"0"+d:""+d,c+"."+d}function b(a){return 0===a?"000":a<10?"00"+a:a<100?"0"+a:""+a}var c=Date.now()-t.startTime,d="Source Adm 'B' operating\n\n";return x.forEach(function(e,f){d+="Unit ["+f+"]: "+e.uniqueUnitName+"\n\n",e.getTagLog().forEach(function(c,e){var f=""+e;e<10&&(f=" "+f);var g=""+c.srcidx;c.srcidx<10&&(g="0"+g),d+="  "+f+")  "+a(c.ts),d+="  |  "+c.segidx+":"+g,d+="  |  "+c.lg,d+="  |  cv:"+b(c.cdtov),d+="  |  iv:"+b(c.idtov),d+="  |  xv:"+b(c.xdtov),d+="  |  ox:"+b(c.origIdx),d+="  |  "+c.tn+"\n"}),d+="  ---  "+a(c)+"  |  report closed  ---  \n",d+="\n\n"}),d}function o(a,b,c){var d=JSON.parse(JSON.stringify(a));return d.activeList=p(d.activeList,b,c),d}function p(a,b,c){function d(a){function b(a,b){var c=[];return a.forEach(function(a){a.category===b&&c.push(a)}),c}var c=[];return c.push(b(a,0)),c.push(b(a,1)),c.push(b(a,2)),c.push(b(a,3)),c.push(b(a,4)),c}function e(a){for(var b=[],d=a.sort(function(a,b){return b.dtovalue-a.dtovalue}),e=Math.ceil(d.length/4),f=[],g=[],h=[],i=[],j=0;j<d.length;j++){var k=d[j];j<e?f.push(k):j<2*e?g.push(k):j<3*e?h.push(k):i.push(k)}return c%3==0?(b.push(f),b.push(g),b.push(h),b.push(i)):c%3==1?(b.push(f),b.push(h),b.push(g),b.push(i)):(b.push(g),b.push(f),b.push(h),b.push(i)),b}function f(a,b){function c(a){var b=Math.floor(Math.random()*a.length);return b>a.length-1&&(b=a.length-1),b}function d(a,b){var c=[];return a.forEach(function(a,d){d!==b&&c.push(a)}),c}for(var e=JSON.parse(JSON.stringify(a)),f=[];f.length<b&&!(e.length<1);){var g=c(e);f.push(e[g]),e=d(e,g)}return f}var g=[],h=[];if(a.length<1)return g;var i=a.length;b<i&&(i=b);var j=Math.ceil(i/4);return d(a).forEach(function(a){e(a).forEach(function(a){var b=f(a,j);h.push(b)})}),h.forEach(function(a){a.forEach(function(a){g.push(a)})}),g}var q=this,r=b.comps,s=b.cllBks,t=b.bootParams,u=s.addLogLine,v=[],w=[],x=[],y=[],z=Math.round(999*Math.random());c();var A=!1,B=g(t.debugVars);B.length>0&&c(),r.parcels.subscribe("ssdata",function(a){k(a),c()}),q.getSSInfo=function(a){return l(a)},q.getMdType=function(a){var b=l(a);return null===b?null:b.mdType},q.getPackId=function(a){var b=l(a);return null===b?null:b.packid},q.getSegmType=function(a){var b=l(a);return null===b?null:b.segmType},q.closeRep=function(a){},q.getSrcReport=function(){return n()},q.issr=function(a,b,c,d,f,g){return e(a)},q.gbns=function(a,b,c,d,e,g,h){return f(a,b,c,d,e,g,h)},q.releaseSource=function(a,b){}}}(config),activitydet=function(a){function b(a){o.logger.writex({msg:a,prefix:"actvdet",inst:q})}function c(){x=!0}function d(){y=void 0!==window.scrollY?window.scrollY:Math.round(-document.body.getBoundingClientRect().top)}function e(){window.removeEventListener("mousemove",c),window.removeEventListener("scroll",d),window.removeEventListener("unload",e)}function f(a,b,c){void 0!==c?D[c]=b:D=b,F=a}function g(a){function b(){return{physicalWidth:window.screen.width,physicalHeight:window.screen.height,screenWidth:window.screen.availWidth,screenHeight:window.screen.availHeight,windowWidth:window.innerWidth,windowHeight:window.innerHeight,bodyHeight:document.body.clientHeight}}if(!(a-w<100)){w=a;var c=b(),d=JSON.stringify(c);d!==v&&(v=d,f(a,c,"wininfo"))}}function h(a){function c(a){return null===u||a!==u}function d(a){var b=a.getBoundingClientRect(),c=!1;return null!==s&&(s.top!==b.top&&(c=!0),s.bottom!==b.bottom&&(c=!0),s.left!==b.left&&(c=!0),s.right!==b.right&&(c=!0)),s=b,!0===c||!0===x&&(x=!1,!0)}if(null===r&&(r=window.document.body),null!==r&&!(a-t<300)){t=a;var e=d(r),g=!0!==window.document.hidden,h={isDocActive:e,isDocVisible:g},i=JSON.stringify(h);!0===c(i)&&(f(a,h,"docstatus"),b()),u=i}}function i(a){function c(){var a;a=void 0!==window.scrollY?window.scrollY:-document.body.getBoundingClientRect().top;var b=document.documentElement.getBoundingClientRect(),c=b.bottom-b.top-window.innerHeight,d=100*a/c;return d>100&&(d=100),{abs:Math.round(a),rel:Math.round(d),top:Math.round(c)}}if(!(a-C<100)){C=a;var d=c(),e=Math.abs(y-z)>n;switch(z=y,A){case"INIT":var g={scrlng:!1,pos:d};f(a,g,"scroll"),A="SCR_OUT";break;case"SCR_OUT":if(!0===e){var g={scrlng:!0,pos:d};f(a,g,"scroll"),k(),b(),A="SCR_IN";break}break;case"SCR_IN":if(!0!==e){B=a,A="SCR_STB";break}break;case"SCR_STB":if(!0===e){A="SCR_IN";break}if(a-B>m){var g={scrlng:!1,pos:d};f(a,g,"scroll"),b(),A="SCR_OUT";break}}}}function j(a){null!==F&&F!==G&&(a-G<100||(G=F,H=a,k()))}function k(){var a={curStatus:D,prvStatus:E,time:F};E=JSON.parse(JSON.stringify(D)),o.parcels.sendp("actdet",a),"sys"===p.ctxId&&void 0!==o.xFrameInt&&o.xFrameInt.actUpdt(a)}var l=this,m=100,n=30,o=a.comps,p=(a.cllBks,a.bootParams),q=Math.round(999*Math.random());b();var r=null,s=null,t=0,u=null,v=null,w=0,x=!1,y=null,z=0,A="INIT",B=0,C=0,D={},E=null,F=null,G=0,H=0;window.addEventListener("mousemove",c),window.addEventListener("scroll",d),window.addEventListener("unload",e),l.actUpdt=function(a){f(Date.now(),a.curStatus)},l.tick=function(a){"sys"===p.ctxId&&(g(a),h(a),i(a)),j(a)},o.heartL.subscribe(l.tick,"actvdet")},snippetmgr=function(a){function b(a){k.logger.writex({msg:a,prefix:"snippetmgr",inst:m})}function c(a){k.logger.writex({tgl:!0,msg:a,prefix:"snippetmgr"})}function d(a){void 0!==k.trackhub&&k.trackhub.sendEvent("alerts","snippet_mgr/"+l.placementId,a)}function e(a){k.parcels.sendp("snp_updt",{snippetCount:a.snipCount,snippetValues:a.snipValues})}function f(a){function c(a){try{var c=""+a.content,c=c.replace(/\n/g," "),c=c.replace(/\r/g," "),d='document._forebase_data_.snippets["'+a.name+'"] = { code : function () { ';d+=c,d+="}, value : null, oncall : "+a.oncall+" } ";var e=";(function() {";e+=d,e+="})();";var f=document.createElement("script");f.setAttribute("type","text/javascript"),f.innerHTML=e,document.head.appendChild(f)}catch(c){var g="exception while installing snippet:"+a.name;if(r.push(g),b(),!0!==n){n=!0;var h="";h+="Error while installing snippet:"+a.name+"\n",h+="Err msg:"+c+"\n";var i={origin:"agent",debugStrings:r,from:"SNIPPET_MGR",subject:"install",text:h};k.mailmaster&&k.mailmaster.sendObj(i)}}}for(var d=0;d<a.length;d++){c(a[d])}}function g(){function a(){var a=0;for(var b in q){!0===h(b,!1).changed&&a++}return a}var b=a(),c={},d=0;for(var e in q)c[e]=q[e].value,d++;return{snipCount:d,changeCount:b,snipValues:c}}function h(a,e){var f={newvalue:null,changed:!1,status:"error",msg:""},g=q[a];if(void 0===g)return f.msg="unknown_snippet_called",f;if(!0===g.error)return f.msg="snippet_in_error",f;if(!0===g.oncall&&!0!==e)return f.msg="snippet_not_cyclic",f;try{var h=g.code();return null===g.value?f.changed=!0:h!==g.value&&(f.changed=!0),g.value=h,f.newvalue=h,f}catch(e){g.error=!0;var i="ERROR: exec snippet:"+a;r.push(i),b(),c(i),d(i);var j="";j+="Error exec snippet: "+a+"\n",j+="Err msg:"+e+"\n";var l={origin:"agent",debugStrings:r,from:"SNIPPET_MGR",subject:"execute",text:j};return k.mailmaster&&k.mailmaster.sendObj(l),f.msg=i,f}}function i(){function a(a,b,c){function d(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(null!=d.classList&&(void 0!==d.classList&&void 0!==d.classList.contains&&!0===d.classList.contains(b)))return d}return null}var e=document;try{!0===c&&parent.document!==document&&(e=parent.document)}catch(a){}var f=e.getElementById(a);if(null!==f)return f;var g=e.getElementsByClassName(a);return null==g?null:(f=d(g,b),null!==f?f:null)}function d(a){function b(a,b){function c(a,b){var c=!1;return a.forEach(function(a){a.indexOf(b)>=0&&(c=!0)}),c}var d=""+a.className;if(0===d.length)return!1;var e=d.split(" "),f=!0;return b.forEach(function(a){!0!==c(e,a)&&(f=!1)}),f}for(var c=[],d=window.document.getElementsByTagName("*"),e=(""+a).replace(/\./g," "),f=e.split(" "),g=0;g<d.length;g++){var h=d[g];"div"===h.tagName.toLowerCase()&&(!0===b(h,f)&&c.push(h))}return c}function e(a,b){var c=[];return f(a,b,function(a){c.push(a)}),c}function f(a,b,c){function d(a,b){function c(a,b,c){var d=a.getAttribute(c);if(null===d)return!1;var e=!0;return b.forEach(function(a){d.indexOf(a)<0&&(e=!1)}),e}var d=b.split(".");return!0===c(a,d,"id")||(!0===c(a,d,"class")||!0===c(a,d,"src"))}for(var e=window.document.getElementsByTagName(a),f=0;f<e.length;f++){var g=e[f];!0===d(g,b)&&c(g)}}r.push("installing javacode library"),b(),p.getElementEx=function(b,c){return a(b,c,!0)},p.getElement=function(b,c){return a(b,c,!1)},p.stringMatch=function(a,b,c,d){function e(a){return void 0===a||f.indexOf(a)>=0}if(null===a)return!1;var f=""+a.innerHTML;return!0===e(b)&&!0===e(c)&&!0===e(d)},p.isBackAvail=function(a){var b=window.getComputedStyle(document.body)["background-image"];return null!==typeof b&&void 0!==b&&"string"==typeof b&&(b=b.toLowerCase(),"string"==typeof a&&b.indexOf(a.toLowerCase())>=0||!(b.indexOf("url")>=0)&&(b.indexOf("none")>=0||null))},p.isElementWider=function(a,b){return!(!a||parseInt(a.clientWidth)<b)},p.isElementTaller=function(a,b){return!(!a||parseInt(a.clientHeight)<b)},p.outerDistance=function(a,b){if(!a)return null;if(!b)return null;var c=a.getBoundingClientRect();return b.getBoundingClientRect().top-c.bottom},p.innerDistance=function(a,b){if(!a)return null;if(!b)return null;var c=a.getBoundingClientRect();return b.getBoundingClientRect().bottom-c.bottom},p.randomNumber=Math.random(),p.hasClass=function(a,b){return(""+a.className).indexOf(b)>=0},p.addClass=function(a,b){var c=""+a.className;c.indexOf(b)>=0||(c+=" "+b,c=c.replace(/\s{2}/gm," "),a.className=c)},p.removeClass=function(a,b){var c=""+a.className;c.indexOf(b)<0||(c=c.replace(b,""),c=c.replace(/\s{2}/gm," "),c.length>0&&" "==c.charAt(c.length-1)&&(c=c.substring(0,c.length-1)),a.className=""+c)},p.removeAllClasses=function(a){a.className=""},p.testClass=function(a){var c=(Date.now(),d(a));return Date.now(),c.length>0?(b(),!0):(b(),!1)},p.findByClass=function(a){return d(a)},p.testScript=function(a){return e("script",a).length>0},p.testFrame=function(a){return e("iframe",a).length>0},p.testDiv=function(a){return e("div",a).length>0},p.modElm=function(a){function b(b){if(null===b)return void c("dock element modifier - ["+a.xpath+"] not found");b.style[a.attr]=a.value,c("dock element modifier - ["+a.xpath+"] modified with ("+a.attr+" - "+a.value+")")}void 0!==k.domdock&&k.domdock.findElm({xpath:a.xpath,strings:a.strings,repPos:!0,repNeg:!0,callback:b})}}var j=this,k=a.comps,l=(a.cllBks,a.bootParams),m=Math.round(999*Math.random());b();var n=!1,o=document._forebase_data_;o.javacodeLib={};var p=o.javacodeLib;o.snippets={};var q=o.snippets,r=[];i();var s=null,t=0,u=0,v=0,w="WAIT_FOR_SNIPPETS";j.setSnippets=function(a){s=a,f(a),e(g())},j.execSnippet=function(a){var b=h(a,!0);return"error"===b.status?null:b.newvalue},j.tick=function(a){switch(w){case"WAIT_FOR_SNIPPETS":if(null===s)break;t=0,w="SNIPPET_EXEC_LOOP";case"SNIPPET_EXEC_LOOP":if(a-t<500)break;t=a;var c=g(),d=!1;if(c.changeCount>0&&(d=!0),v<10&&(d=!0),a-u>3e3&&(d=!0),!0!==d)return;u=a,v++,e(c),b()}},k.heartL.subscribe(j.tick,"snippetmgr")},quickvars=function(a){return function(a){function b(a){H.logger.writex({msg:a,prefix:"quickvars",inst:Q})}function c(a,b,c){H.trackhub.sendEvent("performance","/quickvars/"+I.locus+a,b,c)}function d(){ba=j(),H.parcels.sendp("qvdata",{debmail:aa.debmail,qvParams:ba}),W=!0}function e(a){switch(U){case"INIT":V=a,U="WFHF";break;case"WFHF":if(a-V>P){U="IMPRT";break}if(null===(Y=f()))break;U="IMPRT";case"IMPRT":h(Y),d(),U="PARK";break;case"PARK":H.heartL.unsubscribe(G.tick)}}function f(){var a=L;"dev"===I.env&&(a=1e5);var b=H.memhub.getItem(J);try{if(null===b)throw{msg:"no_data"};if(b.ver!==K)throw{msg:"incomp_cache_version"};if(Date.now()-b.ts>a)throw{msg:"cache_data_too_old"};return b.data}catch(a){}return null}function g(a){if(null!==a&&!(J.indexOf("blob:http")>=0)){var b={ts:Date.now(),ver:K,data:a},c={folder:M,inclear:N,maxage:O};return H.baseBridge.setItem(J,b,c),!0}}function h(a){if(""!==a){var b=s(a,aa);if("ok"===b.status)return aa.metha.status="ok",aa.metha.msg=b.msg,aa.metha.code=b.code,void c("/_s10 parse_ok",b.msg,{att:a});r(b),c("/_s20 parse_err",b.msg+" - ["+b.code+"]",{att:a}),aa.metha.status="error",aa.metha.msg=b.msg,aa.metha.code=b.code}}function i(){return{metha:{status:"---",msg:"parsing...",code:null},debmail:[],patch:[],bypass:{}}}function j(){function a(a){var b=!1,c=null;try{c=parseInt(a)}catch(a){b=!0}return!0!==b&&!0!==isNaN(c)?c:"true"===a||"false"!==a&&""+a}if("ok"!==aa.metha.status)return{};var b={},c=aa.patch,d=null,e="";return c.forEach(function(c){if(!0===c.enabled){var f=!0;d=m(c.ifurl),null!==d&&(!0===d?e+="_url":f=!1),d=n(c.ifwidthmore),null!==d&&(!0===d?e+="_maxwidth":f=!1),d=o(c.ifwidthless),null!==d&&(!0===d?e+="_minwidth":f=!1),d=k(c.ifcase),null!==d&&(!0===d?e+="_testcase":f=!1),d=l(c.ifgroup,c.ifnotgroup),null!==d&&(!0===d?e+="_group":f=!1),d=p(c.ifbrowser),null!==d&&(!0===d?e+="_browser":f=!1),"undefined"!=typeof nameStr&&null!==(d=q(c.name,nameStr))&&(!0===d?e+="_name":f=!1),"undefined"!=typeof typeStr&&null!==(d=q(c.type,typeStr))&&(!0===d?e+="_type":f=!1),!0===f&&(b[c.key]=a(c.value))}}),b}function k(a){if(void 0===a)return null;if("unspecified"===a)return null;var b=a.toUpperCase();return I.testCase===b}function l(a,b){function c(a){return void 0===a?null:"unspecified"===a?null:""===a?null:a.indexOf(I.testGroup)>=0}function d(a){return void 0===a?null:"unspecified"===a?null:""===a?null:a.indexOf(I.testGroup)<0}var e=null;return e=c(a),null!==e?e:d(b)}function m(a){if(void 0===a)return null;if("unspecified"===a)return null;var b=a.toLowerCase();return I.hostPageUrl.indexOf(b)>=0}function n(a){if(void 0===a)return null;if("unspecified"===a)return null;var b=parseInt(a);return!0===isNaN(b)?null:I.winInfo.screenWidth>b}function o(a){if(void 0===a)return null;if("unspecified"===a)return null;var b=parseInt(a);return!0===isNaN(b)?null:I.winInfo.screenWidth<b}function p(a){function b(a){var b=I.envInfo.browserName.toLowerCase();if(!0===I.IE){if(a.indexOf("ie")>=0||a.indexOf("edge")>=0)return!0}else if(b.indexOf(a)>=0)return!0;return!1}return void 0===a?null:"unspecified"===a?null:!0===b(a.toLowerCase())}function q(a,b){function c(a,b){var c=b.replace(/\s+/g,"");if("*"===c)return!0;if(""===c)return!0;var d=c.toLowerCase().split("&"),e=a.toLowerCase().replace(/\s/g,""),f=!0;return d.forEach(function(a){!0===f&&e.indexOf(a)<0&&(f=!1)}),f}return void 0===a?null:"unspecified"===a?null:!0===c(b,a)}function r(b){var c=b.err,d="";try{d=void 0!==c.data?JSON.stringify(c.data).replace(/\s+/g," ").replace(/\\t|\\r|\\n/g,""):JSON.stringify(c)}catch(c){d="(unable to extract error data)"}var e="";e+="Placement: "+I.placementId+"\n\n",e+="Code: "+c.code+"\n",e+="Context: "+d+"\n",e+="Message: "+c.msg+"\n",e+="============ LOC RAW STR ============\n\n",e+=X+"\n\n",null!==Y&&(e+="============ HOST RAW STR ============\n\n",e+=Y+"\n\n"),a.comps.mailmaster.send("QUICKVARS","quickvars_error",e,[])}function s(a,b){var c={status:"---"};try{var d=t(a),e=u(d,b),f=v(e,b);f=f.replace(/\s+/g," "),w(f,b),c.status="ok",c.code="---",c.msg="no_errors_found",c.data=null,c.err=null}catch(a){c.status="error",c.code=a.code,c.msg=a.msg,c.data=a.data,c.err=a}return c}function t(a){function b(a){var b,c,d,e={status:"not_found",rem:""},f="\x3c!--",g="--\x3e";return(b=a.indexOf(f))<0?(e.rem=a,e):(d=a.substring(0,b),(c=a.indexOf(g))<0?(e.rem=a,e):(c+=g.length,d+=a.substring(c),e.status="found",e.rem=d,e))}for(var c,d=a,e=1e3;e>0&&(e--,c=b(d),"not_found"!==c.status);)d=c.rem;return d}function u(a,b){return a}function v(a,b){return a}function w(a,b){function c(a,b){a.forEach(function(a){b.push(a)})}function d(a,b){for(var c in a)b[c]=a[c]}var e=null,f=""+a;void 0===b.debmail&&(b.debmail=[]),e=x(f),c(e.data,b.debmail),f=e.rem,void 0===b.patch&&(b.patch=[]),e=y(f),c(e.data,b.patch),f=e.rem,void 0===b.bypass&&(b.bypass={}),e=z(f),d(e.data,b.bypass),f=e.rem}function x(a){function b(a,b){function c(a,b,c,d){var e=E(b,a);if(0!==e.tags.length)for(var f=0;f<e.tags.length;f++){var g=A(e.tags[f].tagContent,d);"unspecified"!==g.filter&&c.push(g)}return e.rem}var d;return d=a,d=c("channel",d,b,Z)}var c=F(a,"debmail"),d=c.rem,e=[];return b(c.tagContent,e),{data:e,rem:d}}function y(a){function b(a,b){function c(a,b,c,d){var e=E(b,a);if(0!==e.tags.length)for(var f=0;f<e.tags.length;f++){var g=A(e.tags[f].tagContent,d);"unspecified"!==g.key&&c.push(g)}return e.rem}var d;return d=a,d=c("set",d,b,$)}var c=F(a,"patch"),d=c.rem,e=[];return b(c.tagContent,e),{data:e,rem:d}}function z(a){function b(a,b){function c(a,b,c,d){var e=E(b,a);if(0!==e.tags.length)for(var f=0;f<e.tags.length;f++){var g=A(e.tags[f].tagContent,d);c.push(g)}return e.rem}var d;return d=a,void 0===b.tags&&(b.tags=[]),d=c("tag",d,b.tags,_),void 0===b.segments&&(b.segments=[]),d=c("segment",d,b.segments,_),void 0===b.adposts&&(b.adposts=[]),d=c("adpost",d,b.adposts,_),void 0===b.units&&(b.units=[]),d=c("unit",d,b.units,_),void 0===b.sections&&(b.sections=[]),d=c("section",d,b.sections,_),void 0===b.stages&&(b.stages=[]),d=c("stage",d,b.stages,_)}var c=F(a,"bypass"),d=c.rem,e={};return b(c.tagContent,e),{data:e,rem:d}}function A(a,b){function c(a,b,c){function d(a,b,c){for(var d in c)void 0===a[d]&&void 0!==b[d]&&(a[d]=b[d])}var e={};return d(e,b,a),d(e,c,a),e}return c(b,C(a,b),B(b))}function B(a){var b={};for(var c in a){var d=a[c].defvalue;b[c]=d}return b}function C(a,b){function c(a,b,c){var d={status:"undef",code:"",msg:"",data:null},e=D(a,b);if(null===e)return d.status="not_found",d;if("keyword"===c[b].type)return e=e.toLowerCase(),c[b].series.indexOf(e)>=0?(d.status="ok",d.data=e,d):(d.status="error",d.msg="unknown value:'"+e+"'",d.data=e,d);if("string"===c[b].type)return d.status="ok",d.data=e,d;if("boolean"===c[b].type)return"true"!==(e=e.toLowerCase())&&"false"!==e?(d.status="error",d.msg="invalid value for '"+b+"': '"+e+"'",d.data=e,d):(d.status="ok",d.data="true"===e||"false"!==e&&null,d);if("number"===c[b].type){var f=e.indexOf("%");if(f<0){d.percent=!1;var g=parseInt(e),h=c[b].min,i=c[b].max;return d.status="ok",(void 0!==h&&g<h||void 0!==i&&g>i)&&(d.msg="out-of-range value for '"+b+"': "+e,d.status="error"),d.data=g,d}d.percent=!0;var g=parseInt(e.substring(0,f));return d.status="ok",g<0||g>100?(d.msg="out-of-range value for '"+b+"': "+e,d.status="error",d.data=g,d):(d.status="ok",d.data=g,d)}return d.status="error",d.msg="programming error: key:'"+b+"', type:'"+c[b].type+"'",d.data=e,d}var d={};for(var e in b){var f=c(a,e,b);if("ok"!==f.status){if("not_found"!==f.status)throw{code:710,msg:"parsing error: key:"+e+", msg: "+f.msg,data:a}}else if(d[e]=f.data,!0===f.percent){var g=e+"_perc";d[g]=!0}else{var g=e+"_perc";d[g]=!1}}return d}function D(a,b){function c(a,b){var c=","+b+":",d=a.indexOf(c);return d>=0?d+1:(c=b+":",d=a.indexOf(c),0===d?0:-1)}function d(a){var b=""+a;b=b.replace("(?![a-zA-Z0-9_.-])",",");var c=b.indexOf(",");return c>=0&&(b=b.substring(0,c)),b}var e=a.replace(/\s+/g,""),f=e.toLowerCase(),g=b.toLowerCase(),h=c(f,g);if(h<0)return null;var i=h+g.length+1;return f=f.substring(i),f=d(f),e.substring(i,i+f.length)}function E(a,b){for(var c={tags:[],rem:a,status:"ok"},d=""+a,e=null,f=100,g=0,h=0;;){if(++g>=f){c.status="error";break}if(e=F(d,b),d=e.rem,"ok"!==e.status){if("not_found"===e.status)break;c.status="error";break}c.tags.push(e),h++}return 0===h&&(c.status="not_found"),c.rem=d,c}function F(a,b){var c,d,e,f,g,h,i,j={tagStr:"",tagContent:"",rem:"",status:"ok"},k="<"+b+">",l="</"+b+">",m="/>";j.rem=a;var n=""+a;if((g=n.indexOf(k))<0)return j.status="not_found",j;if(n=n.substring(g),(h=n.indexOf(l))<0){var o=n.indexOf(m);if(o>0)return o+=2,n=n.substring(0,o),j.rem=a.replace(n,""),j.tagContent="",j.status="empty_tag",j;throw{code:720,msg:"_getSubTag parse error",data:{elementName:b,base:a}}}if(h+=l.length,c=n.substring(0,h),j.rem=a.replace(c,""),d=""+c,(g=n.indexOf(k))<0)throw{code:730,msg:"_getSubTag parse error",data:{elementName:b,base:a}};return i=d.indexOf(">"),i+=1,d=d.substring(g,i),e=c.replace(d,""),h=e.indexOf(l),e=e.substring(h),f=c.replace(d,""),f=f.replace(e,""),j.tagContent=f,j.tagStr="",j}var G=this,H=a.comps,I=(a.cllBks,a.bootParams),J=I.hostPlcmId+"_quickv",K=100,L=18e5,M="quickv",N=!1,O=604800,P=1e4,Q=Math.round(999*Math.random());b();var R="unspecified",S="boolean",T="string",U="INIT",V=0,W=!1,X=null,Y=null,Z={enabled:{type:"boolean",defvalue:!0},filter:{type:"string",defvalue:"unspecified"},multiple:{type:"number",defvalue:4,min:1},reduc:{type:"string",defvalue:"unspecified"},account:{type:"string",defvalue:"unspecified"}},$={enabled:{type:S,defvalue:!0},key:{type:T,defvalue:R},value:{type:T,defvalue:R},ifcase:{type:T,defvalue:R},ifgroup:{type:T,defvalue:R},ifnotgroup:{type:T,defvalue:R},ifbrowser:{type:T,defvalue:R},ifurl:{type:T,defvalue:R},ifwidthmore:{type:T,defvalue:R},ifwidthless:{type:T,defvalue:R}},_={enabled:{type:S,defvalue:!0},name:{type:T,defvalue:R},type:{type:T,defvalue:R},ifcase:{type:T,defvalue:R},ifgroup:{type:T,defvalue:R},ifnotgroup:{type:T,defvalue:R},ifbrowser:{type:T,defvalue:R},ifurl:{type:T,defvalue:R},ifwidthmore:{type:T,defvalue:R},ifwidthless:{type:T,defvalue:R}},aa=i(),ba=null;switch(G.isReady=function(){return W},G.getMetha=function(){return aa.metha},G.getDebMailData=function(){return"ok"!==aa.metha.status?[]:aa.debmail},G.getParam=function(a,b){if(null===ba)return b;var c=ba[a];return void 0!==c&&"unspecified"!==c?c:b},G.getAllParams=function(){return null===ba?{}:ba},G.refreshParams=function(){return ba=j()},G.addPatches=function(a){function b(a,b){a.forEach(function(a){b.push(a)})}b(y(a).data,aa.patch),ba=j()},G.getByPassFilters=function(){return aa.bypass},G.addByPassFilters=function(a){function b(a,b){for(var c in a){var d=a[c];void 0===b[c]&&(b[c]=[]);for(var e=b[c],f=0;f<d.length;f++)e.push(d[f])}}b(z(a).data,aa.bypass)},G.shouldByPass=function(a,b,c){if("ok"!==aa.metha.status)return!1;var d=aa.bypass[a];if(void 0===d)throw{msg:"unknown_bypass_list"};var e=null,f=!1,g="";return d.forEach(function(a){if(!0===a.enabled){var d=!0;e=m(a.ifurl),null!==e&&(!0===e?g+="_url":d=!1),e=n(a.ifwidthmore),null!==e&&(!0===e?g+="_maxwidth":d=!1),e=o(a.ifwidthless),null!==e&&(!0===e?g+="_minwidth":d=!1),e=k(a.ifcase),null!==e&&(!0===e?g+="_testcase":d=!1),e=l(a.ifgroup,a.ifnotgroup),null!==e&&(!0===e?g+="_group":d=!1),e=p(a.ifbrowser),null!==e&&(!0===e?g+="_browser":d=!1),void 0!==b&&null!==(e=q(a.name,b))&&(!0===e?g+="_name":d=!1),void 0!==c&&null!==(e=q(a.type,c))&&(!0===e?g+="_type":d=!1),!0===d&&(f=!0)}}),f},G.tick=function(a){e(a)},X=H.inLineData.getBroadDataQV(),h(X),I.ctxId){case"sys":d(),g(X);break;case"brk":d();break;case"adf":H.heartL.subscribe(G.tick,"quickvars")}}}(),shims=function(a){var b=a.comps;a.cllBks,a.bootParams;b.trackhub={},b.trackhub.bufferH=[],b.trackhub.bufferL=[],b.trackhub.addDomain=function(a,c,d){b.trackhub.bufferH.push({cmd:"addDomain",args:{domainID:a,siteID:c,reduc:d}})},b.trackhub.sendEvent=function(a,c,d,e,f){var g=b.trackhub.bufferL;void 0!==f&&!0===f&&(g=b.trackhub.bufferH),g.push({cmd:"sendEvent",args:{domain:a,event:c,data:d,evOpts:e}})},b.trackhub.sendEventList=function(a,c){var d=b.trackhub.bufferL;void 0!==c&&!0===c&&(d=b.trackhub.bufferH),d.push({cmd:"sendEventList",args:{eventList:a}})},b.mailmaster={},b.mailmaster.sendObj=function(a){b.parcels.sendp("sendmail",a)},b.mailmaster.send=function(a,c,d,e){b.parcels.sendp("sendmail",{from:a,subject:c,text:d,debugStrings:e})},b.accbeam={},b.accbeam.register=function(a,c,d){b.parcels.sendp("accbeam",{cmd:"register",args:{cluster:a,chanID:c,reduc:d}})},b.accbeam.fireList=function(a){b.parcels.sendp("accbeam",{cmd:"fireList",args:{pingList:a}})},b.accbeam.fire=function(a,c){b.parcels.sendp("accbeam",{cmd:"fire",args:{chanID:a,dataObj:c}})},b.beamCannon={},b.beamCannon.fire=function(a){b.parcels.sendp("beamCannon",{cmd:"fire",args:{data:a}})}},ag_root=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R){return function(k){function C(a,b){void 0!==oa.genCbk&&oa.genCbk(a,b)}function S(a,b){C("/_s20 agent"+a,b)}function T(a){void 0!==ya.logger&&ya.logger.writex({msg:a,prefix:"agent",inst:"---"})}function U(){function f(a,b){function c(a){return void 0===a||(void 0===a.indexOf||a.indexOf(ua.ctxId)>=0)}if(!0!==c(b))return!1;try{return za=a.name,ya[a.name]=new a.cstrfunc(a.args),ta(a.name+" created ok"),!0}catch(a){var d={};d.err=a,d.module=za,d.origin="loadComponent",ha(d)}return!1}function k(a,b,c){function d(){var a="enf",b="use",c="ign",d=ya.quickVars.getParam("cmpcode","");return""!==d?"use"===d?b:"enf"===d?a:c:1===va.cmp?b:2===va.cmp?a:c}ya.logger.setDebugVars(a),ya.quickVars.refreshParams(),ua.filterTag=ya.quickVars.getParam("filterTag",ka),ua.cmpcode=d()}try{if(Y(),sa=new x(pa,300),Da.bootLogger=sa,Da.addLogLine=sa.addLogLine,ta=Da.addLogLine,void 0!==va.ldrLog)for(var C=0;C<va.ldrLog.length;C++){var P=va.ldrLog[C];ta(P.text,P.ts)}if(ta("------------------"),void 0!==va.ldrPlcmId){var S="INFO: placement swapped from ["+va.ldrPlcmId+"] to ["+va.placementId+"]";ta(S),console.log("[tgl root] "+S)}if(ta("agent booting... fbTagId:"+va.fbTagId+", ldrTg:"+va.loaderTag),ua=Z(),ta("bootParams completed"),oa.bdm_data=$(ua),wa=W(),ya.logger=new c({startTime:pa,openC:!0,env:va.env}),ta("local logger created"),ya.logger.setEnv(ua.env),ya.debugAlert=function(a,b){ya.logger.debugAlert(a,b)},ta("debugAlert created"),!0===ua.debugVars.totStop)return console.log("***** WARNING: ENG STOPPED *****"),!1;ya.heartL=new a({addLogLine:ta,envcode:ua.placementId+"_agnt_L",raf:!1,wrkr:!0,per_B:100,per_W:100,per_G:100,
per_E:100}),ya.heartL.setExcepCallback(ha,null);var T=ya.heartL.start(pa);ta("local heartL created (mode: "+T.mode+")"),ya.heartH=new a({addLogLine:ta,envcode:ua.placementId+"_agnt_H",raf:!1,wrkr:!0,per_B:50,per_W:50,per_G:50,per_E:50}),ya.heartH.setExcepCallback(ha,null);var T=ya.heartH.start(pa);return ta("local heartH created (mode: "+T.mode+")"),f({name:"parcels",cstrfunc:I,args:{comps:ya,cllBks:Da,bootParams:ua,excepHandler:ha}}),f({name:"shims",cstrfunc:J,args:{comps:ya,cllBks:Da,bootParams:ua}}),f({name:"memhub",cstrfunc:K,args:{comps:ya,cllBks:Da,bootParams:ua}}),"adf"!==ua.ctxId&&(ya.baseBridge=ca()),f({name:"clntData",cstrfunc:Q,args:{comps:ya,bootParams:ua,partData:wa}}),f({name:"inLineData",cstrfunc:g,args:{comps:ya,bootParams:ua}}),f({name:"quickVars",cstrfunc:h,args:{comps:ya,cllBks:Da,bootParams:ua}}),k(ua.debugVars,ua.clientID,ua.testGroup),f({name:"tracker",cstrfunc:d,args:{comps:ya,cllBks:Da,bootParams:ua,anSiteID_main:b.agent.anSiteID_main,anSiteID_vast:b.agent.anSiteID_vast}}),ga("/_s10 agnt","_00 trk_lnch"),f({name:"trackhub_x",cstrfunc:r,args:{comps:ya,cllBks:Da,bootParams:ua,devEvFltr:la}}),f({name:"accbeam_x",cstrfunc:q,args:{comps:ya,cllBks:Da,bootParams:ua}}),f({name:"mailmaster_x",cstrfunc:t,args:{comps:ya,cllBks:Da,bootParams:ua}}),f({name:"beamCannon_x",cstrfunc:s,args:{comps:ya,cllBks:Da,bootParams:ua}}),f({name:"val_root",cstrfunc:v,args:{comps:ya,cllBks:Da,bootParams:ua}}),f({name:"asmAccRoot",cstrfunc:M,args:{comps:ya,cllBks:Da,bootParams:ua}}),f({name:"liveDboRoot",cstrfunc:N,args:{comps:ya,cllBks:Da,bootParams:ua}}),f({name:"xFrameInt",cstrfunc:O,args:{comps:ya,cllBks:Da,bootParams:ua}}),f({name:"nodemanager",cstrfunc:A,args:{comps:ya,cllBks:Da,master:ia,bootParams:ua}}),f({name:"msghub",cstrfunc:B,args:{comps:ya,cllBks:Da,bootParams:ua}}),f({name:"macroproc",cstrfunc:p,args:{comps:ya,cllBks:Da,bootParams:ua}}),f({name:"curMgr",cstrfunc:z,args:{comps:ya,cllBks:Da,bootParams:ua,curData:ya.inLineData.getBroadDataCR()}}),f({name:"sourceadmin",cstrfunc:o,args:{comps:ya,cllBks:Da,bootParams:ua}}),f({name:"snippetManager",cstrfunc:i,args:{comps:ya,cllBks:Da,bootParams:ua}}),f({name:"actDet",cstrfunc:j,args:{comps:ya,cllBks:Da,bootParams:ua,partData:wa}}),f({name:"perfcheck",cstrfunc:u,args:{comps:ya,cllBks:Da,bootParams:ua}}),f({name:"exeControl",cstrfunc:w,args:{comps:ya,cllBks:Da,bootParams:ua}}),f({name:"tfcmgr",cstrfunc:m,args:{comps:ya,cllBks:Da,bootParams:ua}}),f({name:"bidbox",cstrfunc:e,args:{comps:ya,cllBks:Da,bootParams:ua}}),f({name:"bdadmin",cstrfunc:n,args:{comps:ya,cllBks:Da,bootParams:ua}}),f({name:"expreg_1",cstrfunc:H,args:{comps:ya,cllBks:Da,bootParams:ua,strgNmSfx:"1"}}),f({name:"expreg_2",cstrfunc:H,args:{comps:ya,cllBks:Da,bootParams:ua,strgNmSfx:"2"}}),f({name:"domdock",cstrfunc:F,args:{comps:ya,cllBks:Da,bootParams:ua}}),f({name:"tagdock",cstrfunc:G,args:{comps:ya,cllBks:Da,bootParams:ua}}),f({name:"dtomanager",cstrfunc:l,args:{comps:ya,cllBks:Da,bootParams:ua}}),f({name:"blockdet",cstrfunc:D,args:{comps:ya,cllBks:Da,bootParams:ua,envcode:"agnt"}}),f({name:"intobs",cstrfunc:E,args:{comps:ya,cllBks:Da,bootParams:ua}}),f({name:"liveWebRoot",cstrfunc:L,args:{comps:ya,cllBks:Da,bootParams:ua}}),f({name:"flxanl",cstrfunc:R,args:{comps:ya,cllBks:Da,bootParams:ua}},["sys","brk"]),f({name:"stageExec",cstrfunc:y,args:{startTime:pa,comps:ya,cllBks:Da,plcmParams:va,bootParams:ua,curData:ya.curMgr.getCurRates()}}),window.addEventListener("beforeunload",_),ya.heartL.setTracker(ya.trackhub),ya.heartH.setTracker(ya.trackhub),ba(),da(ya),ta("booting complete"),"adf"===ua.ctxId&&ya.xFrameInt.sdm(),ga("/_s10 agnt","_10 btsr_end"),!0}catch(a){var U={};U.err=a,U.module=za,U.origin="bootstrap",ha(U)}return!1}function V(){function a(a){if(void 0===a)return a;var b;return"true"===a&&(b=!0),"false"===a&&(b=!1),!1===isNaN(parseInt(a))&&(b=parseInt(a)),void 0!==b?b:a}function b(a){return"A"===a||"B"===a?a:"A"}function c(a){var b=100;return!1===isNaN(parseInt(a))&&(b=a),b<1&&(b=1),b>1e4&&(b=1e4),b}function d(a){function b(){try{var a={testCase:""},b=window.localStorage.getItem("fb_forced_vars");if(null===b)return null;var c=JSON.parse(b);for(var d in c)a[d]=c[d];return a}catch(a){return null}}var c=b();null!==c&&void 0!==c.testCase&&(a.testCase=c.testCase)}var e={};if(void 0===oa.basic_settings)return null;var f=oa.basic_settings;if(void 0!==f)for(var g in f)e[g]=a(f[g]);e.bfsdata={filedata:oa.filedata,broadcasts:oa.broadcasts},e.defCount=0,"synchro"in e!=!0&&(e.synchro=Date.now(),e.defCount++),"unspecified"===e.opdomId&&(e.opdomId="0",e.defCount++),"secProt"in e!=!0&&(e.secProt=!1,e.defCount++),"fbTagId"in e!=!0&&(e.fbTagId="NA",e.defCount++),e.testCase=b(e.testCase),e.bstfct=c(e.bstfct),e.localCache=!0,d(e),f.versionTag=ja;var h=window.location.origin;return void 0!==h&&null!==h||(h=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),f.hostOrigin=h,e}function W(){function a(a,b){var c=null;return a.forEach(function(a){null===c&&a.partId===b&&(c=a)}),c}var b=oa.partitions;if(null!==a(b,"intrinsic"))return b;var c={partId:"intrinsic",cntElmID:"NA",trgElmID:"_forebaseplugin",trgElmType:"plgn",idx:0,ts:Date.now(),exdata:"NA",fw_macro1:"NA",fw_macro2:"NA",fw_macro3:"NA",fw_macro4:"NA"};return b.push(c),b}function X(){return wa}function Y(){function a(a){var b=!0;return void 0===a&&(b=!1),!0===isNaN(a)&&(b=!1),!0===b?a:Date.now()}function b(){function a(){return(65536*(1+Math.random())||0).toString(16).substring(1)}var b=new RegExp("\\.","g");return a().replace(b,"")}void 0===va.loaderTag&&(va.loaderTag="NA"),ra=va.loaderTag,va.startTime=a(va.startTime),pa=va.startTime,qa=b().substring(0,8)}function Z(){function a(a){function b(){var a="_fbcntxvars_";return void 0===window[a]?{ctxId:"sys"}:window[a]}a.ctxId="sys",a.adfrm_vars={},a.hostPlcmId=a.placementId,a.locus=a.placementId+"::sys";var c=b();if("sys"!==c.ctxId)if("adf"===c.ctxId){a.ctxId="adf",a.adfrm_vars=c.vars;var d=c.vars.hostParams;a.adfmidx=d.adfmidx,a.publisher=d.publisher,a.testCase=d.testCase,a.bstfct=d.bstfct,a.opdomId=d.opdomId,a.ldmd=d.ldmd,a.spred=d.spred,a.imprID=d.imprID,a.filterTag=d.filterTag,a.startTime=d.startTime,a.debugVars=d.debugVars,a.qsParams=d.qsParams,a.versionTag=d.versionTag,a.cfg_bd_mod=d.cfg_bd_mod,a.cfg_vid_mod=d.cfg_vid_mod,a.hostPageUrl=d.hostPageUrl,a.hostDomain=d.hostDomain,a.hostPageTitle=d.hostPageTitle,a.hostActLayout=d.actLayout,a.hostScreenWidth=d.hostScreenWidth,a.hostScreenHeight=d.hostScreenHeight,a.hostBodyHeight=d.hostBodyHeight,a.hostPlcmId=d.plcmId,a.locus=d.plcmId+"::"+a.placementId}else"brk"===c.ctxId&&(a.ctxId="brk",a.adfrm_vars=c.vars,a.hostPlcmId=a.placementId,a.locus=a.placementId+"::brk")}function c(){var a=!1;try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(a=!0)}catch(b){navigator.mimeTypes&&void 0!=navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(a=!0)}return a}function d(){var a=window.navigator.userAgent,b=-1,c=a.indexOf("MSIE "),d=a.indexOf("Trident/"),e=a.indexOf("Edge/");if(c>0)b=parseInt(a.substring(c+5,a.indexOf(".",c)),10);else if(d>0){var f=a.indexOf("rv:");b=parseInt(a.substring(f+3,a.indexOf(".",f)),10)}else e>0&&(b=parseInt(a.substring(e+5,a.indexOf(".",e)),10));return b>-1}function e(){var a=!0;try{window.top===window.self&&(a=!1)}catch(a){}return a}function f(a){return!0===a?decodeURIComponent(document.referrer):decodeURIComponent(window.location.href)}function g(a){var b;return b=a.indexOf("//")>-1?a.split("/")[2]:a.split("/")[0],b=b.split(":")[0],b=b.split("?")[0]}function h(a,b){return void 0!==a&&""!==a?""+a:b}function i(){var a={status:"error",ssaId:"NA",ssaName:"NA",ssaSctId:"NA",ssaSctName:"NA",virtual:!1};return"string"==typeof va.ssaId&&(a.ssaId=va.ssaId),"string"==typeof va.ssaName&&(a.ssaName=va.ssaName),"string"==typeof va.ssaSctId&&(a.ssaSctId=va.ssaSctId),"string"==typeof va.ssaSctName&&(a.ssaSctName=va.ssaSctName),"boolean"==typeof va.virtual&&(a.virtual=va.virtual),a.status="ok",a}function j(){return{physicalWidth:window.screen.width,physicalHeight:window.screen.height,screenWidth:window.screen.availWidth,screenHeight:window.screen.availHeight,windowWidth:window.innerWidth,windowHeight:window.innerHeight,bodyHeight:document.body.clientHeight}}function k(){var a,b,c,d=(navigator.appVersion,navigator.userAgent),e=navigator.appName,f=""+parseFloat(navigator.appVersion),g=parseInt(navigator.appVersion,10);-1!=(b=d.indexOf("Opera"))?(e="Opera",f=d.substring(b+6),-1!=(b=d.indexOf("Version"))&&(f=d.substring(b+8))):-1!=(b=d.indexOf("MSIE"))?(e="Microsoft Internet Explorer",f=d.substring(b+5)):-1!=(b=d.indexOf("Chrome"))?(e="Chrome",f=d.substring(b+7)):-1!=(b=d.indexOf("Safari"))?(e="Safari",f=d.substring(b+7),-1!=(b=d.indexOf("Version"))&&(f=d.substring(b+8))):-1!=(b=d.indexOf("Firefox"))?(e="Firefox",f=d.substring(b+8)):(a=d.lastIndexOf(" ")+1)<(b=d.lastIndexOf("/"))&&(e=d.substring(a,b),f=d.substring(b+1),e.toLowerCase()==e.toUpperCase()&&(e=navigator.appName)),-1!=(c=f.indexOf(";"))&&(f=f.substring(0,c)),-1!=(c=f.indexOf(" "))&&(f=f.substring(0,c)),g=parseInt(""+f,10),isNaN(g)&&(f=""+parseFloat(navigator.appVersion),g=parseInt(navigator.appVersion,10));var h="Unknown OS";-1!=navigator.appVersion.indexOf("Win")&&(h="Windows"),-1!=navigator.appVersion.indexOf("Mac")&&(h="MacOS"),-1!=navigator.appVersion.indexOf("X11")&&(h="UNIX"),-1!=navigator.appVersion.indexOf("Linux")&&(h="Linux");var i=d.indexOf("(");null===i&&(i=0);var j=d.indexOf(")");null===j?j=-1:j++;var k=d.substring(i,j);return k.length>30&&(k=k.substring(0,30)+"..."),{browserName:e,fullVersion:f,majorVersion:g,OSName:h,deviceStr:k,userAgent:navigator.userAgent}}function l(){function a(){var a={totStop:!1,disableLocCache:!1,disableBarLogic:!1,logFilter:"",showTags:!1,shoeLx:!1,enxtn:!1,dpx:!1,pCode:null,nts:!1,init:!0};try{var b=window.localStorage.getItem("fb_debug_vars");if(null===b)return a;var c=JSON.parse(b);for(var d in c)a[d]=c[d];a.init=!1}catch(b){a.init=!0}return a}var b=a();return"dev"===va.env&&(b.showTags=!0,b.disableLocCache=!0,b.bidsim=!0,b.logFilter.length>0?b.logFilter+="|"+ma:b.logFilter=ma),b}function m(a){return void 0!==a.dataRoot?a.dataRoot:b.resourceLocations.dataurl}var n=c(),o=d(),p=e(),q=f(p),r=g(q),s=h(va.publisher,r),t=j(),u=k(),v=l(),w=m(v),x={env:va.env,dataRoot:w,clientID:"NA",testGroup:0,visitData:{},isNewUser:null,fbTagId:va.fbTagId,versionFolder:va.versionFolder,versionBDM:va.versionBDM,versionVPM:va.versionVPM,synchro:va.synchro,localCache:va.localCache,testCase:va.testCase,bstfct:va.bstfct,secProt:va.secProt,swapped:va.swap,opdomId:va.opdomId,defCount:va.defCount,placementId:va.placementId,ldmd:va.ldmd,spred:va.spred,preview:va.preview,bfsdata:va.bfsdata,imprID:qa,hostXtnCode:"NA",hostPageUrl:q,hostDomain:r,hostPageTitle:document.title,publisher:s,flexData:i(),qsParams:aa(),versionTag:ja,filterTag:ka,loaderTag:ra,startTime:pa,agentBootTime:Ca,vastDevice:na,screenWidth:t.screenWidth,screenHeight:t.screenHeight,winInfo:t,envInfo:u,debugVars:v,hasFlash:n,IE:o,confined:p};return a(x),x.dsdchn=x.hostPlcmId,x}function $(a){return{debugVars:a.debugVars,qsParams:a.qsParams}}function _(){fa(),window.removeEventListener("beforeunload",_),null!==xa&&document.body.removeChild(xa);try{ya.heartL.stop(),ya.heartH.stop()}catch(a){}}function aa(){function a(a){var b=new RegExp("[?&]"+a+"=([^&#]*)").exec(window.location.href);return b?b[1]||null:null}var a=a("fbparams");if(null===a)return{};var b=a.split("+"),c={};return b.forEach(function(a){var b=a.split(":");c[b[0]]=b[1]}),c}function ba(){function a(a){var b="";for(var c in a)b+=c+": "+a[c]+"\n";return b}function b(a){ya.parcels.sendp("commontxt",a)}if(!1===Ba&&(Ba=!0,void 0!==ya.mailmaster)){var c="",d=new Date;d.setTime(va.synchro),c+="Synchro:   "+va.synchro+" - ("+d+")\n";var e=new Date;e.setTime(va.startTime),c+="Start Time:   "+va.startTime+" - ("+e+")\n\n",c+="\n\n-------- Placement Params --------\n\n",c+=a(va)+"\n\n",c+="-------- Boot Params --------\n\n",c+=a(ua)+"\n\n",c+="-------- Debug Vars --------\n\n",c+=a(ua.debugVars)+"\n\n";b({name:"AGENT_BOOT",text:c})}}function ca(){var a=document.createElement("iframe"),b=a.style;b.left="0px",b.top="0px",b.width="0px",b.minWidth="0px",b.maxWidth="0px",b.height="0px",b.minHeight="0px",b.maxHeight="0px",b.marginLeft="0px",b.marginRight="0px",b.marginTop="0px",b.marginBottom="0px",b.display="inline-block",b.overflow="hidden",b.border="0px",b.position="relative",b.float="left",document.body.appendChild(a);var c="",d=ua.env,e=ua.versionFolder;if("dev"!==ua.env)c+="https://mkt.forebase.ch/plugin/versions/"+ua.versionFolder+"/base.htm";else{!0!==("1"===ua.qsParams.ext)?c+="http://localhost:3001/versions/versionfolder/base.htm":(d="prd",e=ua.versionTag,c="https://mkt.forebase.com/plugin/versions","undefined"!=typeof _debugVersion&&_debugVersion.length>0?c+="/"+_debugVersion:c+="/"+e,c+="/base.htm")}var f={hostParams:{env:d,versionFolder:e,hostCtxId:ua.ctxId,plcmId:ua.placementId,testCase:ua.testCase,bstfct:ua.bstfct,opdomId:ua.opdomId,ldmd:ua.ldmd,spred:ua.spred,imprID:ua.imprID,hostPageUrl:ua.hostPageUrl,hostDomain:ua.hostDomain,hostPageTitle:ua.hostPageTitle,hostScreenWidth:ua.winInfo.screenWidth,hostScreenHeight:ua.winInfo.screenHeight,hostBodyHeight:ua.winInfo.bodyHeight,publisher:ua.publisher,versionTag:ua.versionTag,filterTag:ua.filterTag,startTime:ua.startTime,debugVars:ua.debugVars,qsParams:ua.qsParams}};c+="#bsdata="+encodeURIComponent(JSON.stringify(f)),a.src=c,xa=a;var g=new P({comps:ya,bootParams:ua});return g.setPierWnd(xa.contentWindow),g.setLocalName("host"),g}function da(a){function b(b,c,d){void 0!==a.trackhub&&a.trackhub.sendEvent("performance","/users"+b,c,d)}var c=ua.isNewUser,d=ua.visitData;b("","_s00 inst (ref)"),!0===d.autoRfsh&&b("","_s05 auto_rfsh"),!0===c?b("","_s10 new_user"):b("","_s12 retr_user"),!0===d.newVisit?b("","_s20 new_visit"):b("","_s22 same_visit"),b("/_s00 freq_5min",d.sessCount5Min,{scl:"dtoRange"}),b("/_s10 freq_hour",d.sessCountHour,{scl:"dtoRange"}),b("/_s20 freq_day",d.sessCountDay,{scl:"dtoRange"}),b("/_s30 freq_week",d.sessCountWeek,{scl:"dtoRange"}),b("/_s40 freq_month",d.sessCountMonth,{scl:"dtoRange"})}function ea(){void 0!==ya.tracker&&ya.tracker.sendSomeEvents()}function fa(){void 0!==ya.tracker&&(ya.tracker.sendAllEvents(),void 0!==ya.trackhub_x&&(ya.trackhub_x.sae(),void 0!==ya.accbeam_x&&ya.accbeam_x.slc()))}function ga(a,b){ya.tracker.fireEvent("_s12 debug_points"+a,b)}function ha(a){function b(a,b,c,d){var e="**errors**/excps/msgs",f=ua.envInfo.browserName+"/"+ua.envInfo.majorVersion;ya.tracker.fireEvent(e+"/"+f+"/"+a,"("+b+")  "+c,{att:d}),ya.tracker.fireEvent(e+"/*AllBrowsers*/"+a,"("+b+") "+c,{att:d})}function c(a,b,c){var d="**errors**/excps/logs",e=ua.envInfo.browserName+"/"+ua.envInfo.majorVersion;ya.tracker.fireEvent(d+"/"+e+"/"+a,"("+b+")",{att:c}),ya.tracker.fireEvent(d+"/*AllBrowsers*","("+b+")",{att:c})}var d=Date.now();if(!(d-Aa<1e4)){Aa=d;var e="";void 0!==a.err&&void 0!==a.err.stack&&(e+=a.err.stack.toString());S("","_s50 ag_root excpt @ "+a.module+" - "+e.substring(0,100));var f="exception at module: "+a.module+" - origin: "+a.origin;T(),ta(f);var g="Module:  "+a.module+"\n\n",h="",i=a.err;void 0!==i.message&&(h+=i.message),void 0!==i.msg&&(h+=i.msg),""===h&&(h="NA"),g+="Err Message--\x3e  "+h+"\n\n",g+="Stack:\n",g+=e+"\n\n\n",g+="Boot Log:\n\n"+sa.getLogPrint()+"\n\n";var j="AGENT_EXCPTN";"loop"===a.origin?j="AGENT_EXCP_LOOP":"build"===a.origin?j="AGENT_EXCP_BUILD":"fbxhw"===a.origin&&(j="AGENT_EXCP_FBXHW");var k={origin:"agent",debugStrings:null,from:j,subject:a.module,text:g};if(ya.mailmaster&&ya.mailmaster.sendObj(k),ya.debugAlert&&ya.debugAlert("Agent 'excepHandler'",k),ya.tracker&&(b(a.module,a.origin,""+i,g),void 0!==Da.bootLogger)){var l=Da.bootLogger.getLogPrint();c(a.module,a.origin,l)}}}var ia=this,ja="v4.65y",ka="_h100",la="cmpgn",ma="admgr|stgexec|an_flxsrv|beamcannon",na="fb";if(void 0!==document._forebase_data_){var oa=document._forebase_data_;C("dock_s",ja);var pa,qa,ra,sa,ta,ua,va,wa,xa=null,ya={},za="NA",Aa=0,Ba=!1,Ca=Date.now(),Da={getPartData:X,fireLdrEvt:C,debugPing:ga};ia.fireEvent=function(a,b){switch(a){case"sendDebMail":return void ya.mailmaster.sendObj(b)}};try{if(null===(va=V()))throw"bad plcm params";new f({glbFBvar:oa,plcmParams:va,thenFunc:function(a,b,c){if("ok"!==a)throw{message:"placement swap error"};if(va=b,S("","_s10 boot_in"),!0!==U())return S("","_s12 boot failed!"),void ea();S("","_s14 boot_out"),ea()}})}catch(a){var Ea={};return Ea.err=a,Ea.module=za,Ea.origin="bootstrap",void ha(Ea)}}}}(heartx,config,deltalog,tracker,bb_root,plcmswp,inlinedata,quickvars,snippetmgr,activitydet,0,stm_dtomgr,trf_root,bb_admin,sourceadm,macroproc,an_accbeam,an_trackhub,an_beamcannon,an_mailmstr,an_perfchck,val_root,execontrol,bootlog,stage_exec,curmgr,nodemgr,msghub,0,stm_blockdet,stm_observer,dk_domdock,dk_tagdock,exprgs,parcels,shims,memhub,lw_root,val_asm_root,val_dbo_root,xfrmint,basebrdg,clntdata,an_flxsrv),adframe_loader=function(a){return function(b){function c(){function a(a,b,c){function d(a){void 0!==c&&c(a)}function e(){void 0!==c&&c(null)}function f(){void 0!==c&&c(null)}var g=new XMLHttpRequest;g.open("GET",a),g.timeout=1e4,g.onload=d,g.onerror=e,g.ontimeout=f,g.setRequestHeader("Content-Type","application/json"),g.withCredentials=!1,g.send(b)}function b(){!0!==e&&(f=!0,l("","_s33 bfs_file_not_avl"),o("_s90 ERRORS/_s10 bfs_to",window.location.host),p())}var c,d=null,e=!1,f=!1;c=void 0!==H.env&&"dev"===H.env?void 0!==_&&""!==_?Q+"mkt.forebase.ch/tagx/data/placements/bfs/"+_+".json":Q+"localhost:3001/data/placements/settings/bfs/"+H.placementId+".json":Q+"mkt.forebase.ch/tagx/data/placements/bfs/"+H.placementId+".json",!0===$&&(c+="?cb="+Math.round(999999*Math.random())),window.setTimeout(b,12e3),d=+new Date,a(c,"",function(a){try{l("","_s32 bfs_file_avl");var b=JSON.parse(a.currentTarget.response)}catch(a){return l("","_s34 bfs_file_parse_err"),void o("_s90 ERRORS/_s11 bfs_parse",window.location.host)}e=!0,o("_s60 times/_s01 boot_file",n(+new Date-d)),!0===h(b,!0)?l("","_s36 bfs_file_data_ok"):l("","_s38 bfs_file_data_not_ok")})}function d(a){var b={ts:+new Date,text:a};M.push(b)}function e(a){function b(a){var b=1e6;if(a<1)return!0;var c=Math.round(Math.random()*b),d=Math.round(b/a),e=c+d;e>b&&(e=b,c=e-d);Math.random();Math.random(),Math.random(),Math.random();var f=Math.round((1-Math.random())*b);return f>=e||f<c}var c={gen:{reduc:A,skip:null},err:{reduc:B,skip:null},ldrOpDomain:"0"};return"unspecified"!==a.spred&&(c.gen.reduc=parseInt(a.spred)),"unspecified"!==a.opdomId&&(c.ldrOpDomain=a.opdomId),void 0!==a.env&&"dev"===a.env&&(c.gen.reduc=1,c.err.reduc=1,c.ldrOpDomain="0"),c.gen.skip=b(c.gen.reduc),c.err.skip=b(c.err.reduc),!0===a.firstTag?(G._anVar_skipGen=c.gen.skip,G._anVar_skipErr=c.err.skip):(c.gen.skip=G._anVar_skipGen,c.err.skip=G._anVar_skipErr),c}function f(){var a="_forebase_data_";return document[a]={},document[a].partitions=[],document[a]}function g(){function a(){var a={status:"---",msg:"",loadUrl:"NA",ldrTagElm:null,placementId:"NA",plcmshft:!1,partId:"NA",exdata:"NA",swap:!1,fw_macro1:"NA",fw_macro2:"NA",fw_macro3:"NA",fw_macro4:"NA",opdomId:"NA",fbTagId:"NA",fxdVer:"NA",preview:!1};return a.ldrTagElm=document.body,a.ldrTagID="adframe",a.trgElmId="adframe",a.trgElmType="adframe",a.multiTag=!0,a.placementId=b.plcmID,a.env=b.env,a.partId=b.partID,a.exdata="NA",a.swap=b.swap,a.opdomId=b.opdomID,a.fbTagId=b.tagID,a.fw_macro1=b.fw_macro1,a.fw_macro2=b.fw_macro2,a.fw_macro3=b.fw_macro3,a.fw_macro4=b.fw_macro4,a.spred="unspecified",a.loadUrl="adframe",a.status="ok",a}function c(a){if(void 0===G)return null;if(void 0===G.partitions)return null;for(var b=G.partitions,c=0;c<b.length;c++){var d=b[c];if(d.partId===a)return d}return null}var d=a();if(d.firstTag=!0,d.tagIdx=0,"ok"!==d.status)return d;if(G._plcmID0=d.placementId,d.baseUrl="mkt.forebase.ch/plugin","dev"===d.env&&(d.baseUrl="localhost:3001"),null!==c(d.partId))return d.status="error",d.msg="duplicate_partition: "+d.partId,d;void 0===G&&(G={}),void 0===G.partitions&&(G.partitions=[]);var e={partId:d.partId,cntElmID:d.cntElmId,trgElmID:d.trgElmId,trgElmType:d.trgElmType,idx:0,exdata:decodeURIComponent(d.exdata),fw_macro1:d.fw_macro1,fw_macro2:d.fw_macro2,fw_macro3:d.fw_macro3,fw_macro4:d.fw_macro4,ts:+new Date};return G.partitions.push(e),null!==d.ldrTagID&&d.ldrTagElm.setAttribute("id",d.ldrTagID),d}function h(b,c){function e(a){var b,c,d;if(void 0!==a.status&&"ok"!==a.status)return o("_s90 ERRORS/_s20 bfs_stat",window.location.host),null;try{b=f(a.placement)}catch(a){return o("_s90 ERRORS/_s20 bfs_data",window.location.host+" | msg: "+a.msg),null}if(void 0!==a.broadcasts)try{c=JSON.parse(JSON.stringify(a.broadcasts))}catch(a){return o("_s90 ERRORS/_s30 parsing_broadcasts",window.location.host),null}if(void 0!==a.filedata)try{d=JSON.parse(JSON.stringify(a.filedata))}catch(a){return o("_s90 ERRORS/_s31 parsing_filedata",window.location.host),null}return{plcInfo:b,broadcasts:c,filedata:d}}function f(a){function b(a){return void 0!==a.totstop&&(!0===a.totstop||"true"===a.totstop)}function c(a){return void 0===a.bstfct?100:parseInt(a.bstfct)}function d(a,b){function c(a){try{if("string"!=typeof a)return null;var b=decodeURIComponent(a),c=JSON.parse(b);return"A"!==c.tcase&&"B"!==c.tcase?null:c.tcase}catch(a){}return null}var d=c(b);if(null!==d)return d;var e=50;switch(a){case"unspecified":break;case"A:00_B:100":e=0;break;case"A:01_B:99":e=1;break;case"A:10_B:90":e=10;break;case"A:30_B:70":e=30;break;case"A:50_B:50":e=50;break;case"A:70_B:30":e=70;break;case"A:90_B:10":e=90;break;case"A:99_B:01":e=99;break;case"A:100_B:00":case"A":e=100;break;case"B":e=0;break;case"random":e=50}return r(e)}function e(a,b){return"210"!==a.Version&&210!==a.Version?a.versionFolder:"B"===b&&a.versionFolderB.length>0?a.versionFolderB:a.versionFolderA}function f(a,b){b.ssaId="NA",b.ssaName="NA",b.ssaSctId="NA",b.ssaSctName="NA",b.virtual=!1,void 0!==a.ssaId&&(b.ssaId=a.ssaId),void 0!==a.ssaName&&(b.ssaName=a.ssaName),void 0!==a.ssaSctId&&(b.ssaSctId=a.ssaSctId),void 0!==a.ssaSctName&&(b.ssaSctName=a.ssaSctName),void 0!==a.virtual&&(b.virtual=a.virtual)}function g(){try{var a={testCase:""},b=window.localStorage.getItem("_fb_forced_vars"),c=JSON.parse(b);if(null!==c)for(var d in c)void 0!==a[d]&&(a[d]=c[d]);return a}catch(a){return null}}function h(a){function b(a){ba.indexOf("blob:http")>=0||window.localStorage.setItem(ba,JSON.stringify({version:a}))}var c=window.localStorage.getItem(ba);if(null===c)return b(a),"zero";try{return JSON.parse(c).version===a?"crsn":(b(a),"xver")}catch(a){}return b(a),"ntus"}var i={};i.baseUrl=H.baseUrl,i.placementId=H.placementId,i.partId=H.partId,i.exdata=H.exdata,i.swap=H.swap,i.opdomId=H.opdomId,i.fbTagId=H.fbTagId,i.env=H.env,i.spred=H.spred,i.fxdVer=H.fxdVer,i.preview=H.preview,i.totStop=b(a),i.bstfct=c(a),i.testCase=d(a.testCase,H.exdata),i.versionFolder=e(a,i.testCase),i.ldmd=h(i.versionFolder),i.publisher=a.publisher,i.versionBDM=a.versionBDM,i.versionVPM=a.versionVPM,f(a,i),i.stage=a.stage,i.localCache=a.localCache,!1===isNaN(parseInt(a.opdomain))&&(i.opdomId=a.opdomain),!0===isNaN(parseInt(i.opdomId))&&(i.opdomId="0"),i.startTime=E,i.loaderTag=z,i.secProt=P,i.cmp=parseInt(a.cmp);var j=g();return null!==j&&("A"!==j.testCase&&"B"!==j.testCase||(i.testCase=j.testCase)),i}function g(){G.genCbk=k,new a({mode:"afx"})}var h=!1,j=e(b);return null===j?h:(h=!0,!0===c&&i(b),!1!==J?h:(J=!0,d("boot ok"),l("","_s40 boot_ok"),!0===c?(d("bfs_data_from_file"),o("_s70 bfs_src","_s10 from file")):(d("bfs_data_from_mem"),o("_s70 bfs_src","_s20 from mem")),j.plcInfo.ldrLog=M,G.basic_settings=j.plcInfo,G.broadcasts={},void 0!==j.broadcasts&&(G.broadcasts=JSON.parse(JSON.stringify(j.broadcasts))),G.filedata={},void 0!==j.filedata&&(G.filedata=JSON.parse(JSON.stringify(j.filedata))),I=j.plcInfo.ldmd,x(H,j.plcInfo),!0!==j.plcInfo.totStop?(d("launching agent..."),l("","_s50 agent_reqd"),g(),y("agln")):(d("TOTAL STOP ordered"),l("","_s51 TOTAL STOP")),p(),h))}function i(a){try{var b={ver:C,ts:(new Date).getTime(),data:a};window.localStorage.setItem(aa,JSON.stringify(b))}catch(a){}}function j(){if(!0===$)return null;try{var a=window.localStorage.getItem(aa);if(null===a)throw"no_prev_data";var b=JSON.parse(a);if(void 0!==b.ver&&b.ver!==C)throw"wrong_version";if(Date.now()-b.ts>1e3*D)throw"data_is_too_old";if(void 0===b.data)throw"data_not_found";return b.data}catch(a){return null}}function k(a,b){if(!0!==L){L=!0;o("_s60 times/_s02 agent",n(+new Date-K))}"dock_s"===a?(l("","_s52 agent_docked"),y("agdk")):m(""+a,""+b),p()}function l(a,b){m("/_s10 loader"+a,b)}function m(a,b){var c=""+a;c.length>0&&0!==c.indexOf("/")&&(c="/"+c),o("_s10 markers/"+H.placementId+"/*allDomains*"+c,b),o("_s10 markers/"+H.placementId+"/"+window.location.host+c,b)}function n(a){function b(a){var b=Math.round(a);return 0===b?"00":b<10?"0"+b:b}for(var c=[50,70,100,200,300,500,700,1e3,2e3,3e3,5e3,7e3,1e4,15e3,2e4],d="[",e=!1,f=-1,g=0;g<c.length;g++)if(a<c[g]){d+=0===g?"0-":c[g-1]+"-",d+=c[g],e=!0,f=g;break}!1===e&&(d+=c[c.length-1]+"plus"),d+="]";var h="_i";return(h+=-1===f?c.length:b(f))+" "+d}function o(a,b){function c(a,b){function c(a,b){function c(a){var b={changed:!1,pathStr:a.pathStr,dataStr:a.dataStr};if("/"!==b.dataStr.charAt(0))return b;var c=""+a.pathStr,d=""+a.dataStr;d=d.substring(1);var e=d.indexOf("/");return e<0?(b.changed=!1,b.pathStr=c,b.dataStr=d,b):(c+="/"+d.substring(0,e),d=d.substring(e),b.changed=!0,b.pathStr=c,b.dataStr=d,b)}for(var d={changed:!1,pathStr:a,dataStr:b},e=!1,f=50;f>0&&(f--,d=c(d),!0===d.changed);)e=!0;return{changed:e,newFldStr:d.pathStr,newDataStr:d.dataStr}}var d={},e=a,f=""+b;if(void 0!==b){var g=c(e,f);!0===g.changed&&(e=g.newFldStr,f=g.newDataStr)}var h=R.gen.reduc,i=R.gen.skip;return a.indexOf("ERROR")>=0&&(h=R.err.reduc,i=R.err.skip),"/"!==e.charAt(0)&&(e="/"+e),d.path=e,d.caption=f,d.cnt=h,d.effSkip=i,d}var d=c(a,b);if(!0!==d.effSkip){var e={group:"ev_cnt",event:"loader",ver:100,reduc:1,pidx:O,ts:Date.now()-E+O,data:{pat:"/_s20 adf/"+z+d.path,cap:d.caption,cnt:d.cnt}};N.push(JSON.parse(JSON.stringify(e))),O++,p()}}function p(){var a=!1;if(X>W&&(a=!0),N.length>=V?a=!0:Date.now()-S>U&&(a=!0),!0!==a)return setTimeout(q,T),void X++;q()}function q(){function a(a,b){function c(a){}function d(){}function e(){}var f=null;window.XMLHttpRequest?f=new XMLHttpRequest:window.ActiveXObject&&(f=new ActiveXObject("Microsoft.XMLHTTP")),null!==f&&(f.open("POST",a),f.timeout=1e4,f.onload=c,f.onerror=d,f.ontimeout=e,f.send(b))}if(0!==N.length){var b={ver:z,ldmd:I,fltr:"NA",tcase:F,plcmID:H.placementId,locus:H.placementId+"_[adf]",clntID:"NA",pageID:"NA",burst:N},c=encodeURIComponent(JSON.stringify(b)),d="http://";!0===P&&(d="https://");a(d+"accsrv.${number}.aws.forebase.com".replace("${number}",R.ldrOpDomain)+"/receiver/postreportstr",c),N=[],X=0,S=Date.now()}}function r(a){var b=1e6;if(a<1)return"B";var c=Math.floor(Math.random()*b),d=Math.floor(b*a/100),e=c+d;e>b&&(e=c,c=e-d);Math.random();Math.random(),Math.random(),Math.random();var f=Math.floor((1-Math.random())*b);return f>=e?"B":f<c?"B":"A"}function s(a){return void 0!==a.disableLocCache&&a.disableLocCache}function t(a){return void 0===a.debugExtPlcm?"":a.debugExtPlcm}function u(){try{var a=window.localStorage.getItem("fb_debug_vars");if(null===a)throw{};return JSON.parse(a)}catch(a){}return{}}function v(){function a(){var a=!1;try{window.top===window.self&&(a=!0)}catch(a){}return a}var b=null,c="NA";b=a();try{c=location.href.split("/")[2],!0!==b&&(c=""!==document.referrer?document.referrer.split("/")[2]:"notavail")}catch(a){}return{topDoc:b,hostPageUrl:c}}function w(a,b){function c(c){function d(a){return""===a?"blank":a}o(c+"/_s10 top_or_frm",!0===a.topDoc?"_s10 top_wnd":"_s20 iframe"),o(c+"/_s12 plcm_shft",!0===b.plcmshft?"_s20 shifted":"_s10 native");var e=document.getElementById(b.trgElmId),f="NA",g="NA",h="NA",i="NA",j="NA",k="NA";if(null!==e){var l=e.parentNode;f=d(l.nodeName),g=d(l.id),h=d(l.className);var m=e.offsetParent;null!==m&&(i=d(m.nodeName),j=d(m.id),k=d(m.className))}var p="/_s30 position";if(o(c+p+"/_s10 trgElmId",b.trgElmId),p="/_s30 position/_s20 directPrnt",o(c+p+"/_s10 name",f),o(c+p+"/_s12 id",g),o(c+p+"/_s14 class",h),p="/_s30 position/_s30 offsetPrnt",o(c+p+"/_s10 name",i),o(c+p+"/_s12 id",j),o(c+p+"/_s14 class",k),performance){o(c+"/_s40 load_time",n(Date.now()-performance.timeOrigin))}}function d(){var c;c="/_s02 overview",o(c,b.placementId),c=c+"/"+b.placementId,o(c,a.hostPageUrl),c=c+"/"+a.hostPageUrl,o(c,b.partId),c=c+"/"+b.partId,o(c,"tag_type: "+b.fbTagId)}d(),c("_s04 run_info/"+b.placementId+"/*allDomains*/"+b.partId),c("_s04 run_info/"+b.placementId+"/"+a.hostPageUrl+"/"+b.partId)}function x(a,b){var c="_s20 gen_vars";o(c+"/_s10 test_case",b.testCase),o(c+"/_s12 bst_fac",b.bstfct),o(c+"/_s14 cmp",b.cmp),o(c+"/_s16 fb_tag_id",b.fbTagId),o(c+"/_s18 local_cache",b.localCache),o(c+"/_s20 opdom_id",b.opdomId),o(c+"/_s22 part_id",b.partId),o(c+"/_s24 base_url",b.baseUrl),o(c+"/_s26 loader_tag",z),o(c+"/_s28 vers_fldr",b.versionFolder),o(c+"/_s30 load_mode",b.ldmd),o(c+"/_s32 spec_red",b.spred),o(c+"/_s34 ldrx_url",a.loadUrl.replace(/\//g,"|"))}function y(a){var b=document;try{var b=top.document}catch(a){}try{b._fb_debg_f(a)}catch(a){}}var z="_lv100",A=200,B=10,C=130,D=1800,E=+new Date,F=(Math.round(999999*Math.random()),r(50)),G=null,H=null,I="",J=!1,K=null,L=!1,M=[],N=[],O=0,P=!1,Q="http://",R={},S=0,T=3e3,U=2e3,V=10,W=10,X=0,Y=v(),Z=u(),$=s(Z),_=t(Z);try{G=f(),H=g(),R=e(H),window.location.protocol.indexOf("https")>=0&&(P=!0,Q="https://"),"ok"===H.status&&H.loadUrl.toLowerCase().indexOf("https")>=0&&(P=!0,Q="https://")}catch(a){return void y("excp")}if(d("loader booting... ldrTg:"+z),d("new instance - plcm:"+H.placementId+", part:"+H.partId),d("_secProt:"+P),l("","_s00 inst"),w(Y,H),p(),"ok"!==H.status)return o("_s90 ERRORS/_s00 load_tag_error",H.msg),o("_s90 ERRORS/_s00 load_tag_error","/"+window.location.host+"/"+H.placementId+"/"+H.msg),null!==H.ldrTagID&&null!==H.ldrTagElm&&H.ldrTagElm.setAttribute("id","fbmt_error"),void p();p(),l("","_s10 loading"),y("rung");var aa="_fb_bfs_"+H.placementId,ba="_fb_ldm_"+H.placementId;l("","_s20 bfs_mem_rqd");var ca=j();null!==ca?(l("","_s22 bfs_mem_avl"),!0===h(ca,!1)?l("","_s26 bfs_mem_data_ok"):l("","_s28 bfs_mem_data_not_ok")):(c(),l("","_s24 bfs_mem_not_avl")),d("boot file rqd"),l("","_s30 bfs_file_rqd"),p()}}(ag_root),adframe_root=function(a){function b(a){var b=new RegExp("[#&]"+a+"=([^&#]*)").exec(window.location.href);return b?b[1]||null:null}try{var c=document.body.style;c.overflow="hidden",c.margin=0;var d=b("afdata","");if(null===d)throw{message:"no_params"};var e=JSON.parse(decodeURIComponent(d)),f=e.stageParams;window._fbcntxvars_={ctxId:"adf",ctxVer:100,vars:e};var g=f.classID,h=void 0===f.partID?"intrinsic":f.partID,i=e.hostParams.opdomId,j=e.hostParams.fw_macro1,k=e.hostParams.fw_macro2,l=e.hostParams.fw_macro3,m=e.hostParams.fw_macro4;new a({plcmID:g,partID:h,opdomID:i,fw_macro1:j,fw_macro2:k,fw_macro3:l,fw_macro4:m,tagID:"_af0",env:e.hostParams.env})}catch(a){}}(adframe_loader)}();</script>

<div id="_fb_unit_100_176" class="_fb_dbx" data-stgloc="primochef_ros::$adf_skin_gng[primochef_ros_sec_skin_gng_avail_unt_R_avail1_unt]" data-instidx="-1" data-instgrp="B" style="left: 0px; top: 0px; position: fixed; visibility: visible; display: block; margin: 0px; padding: 0px; border: 0px; float: left; overflow: visible; transition-duration: 0s; opacity: 1; width: 180px; min-width: 180px; max-width: 180px; height: 620px; min-height: 620px; max-height: 620px; z-index: 1;"><div id="_dbx_core" class=" fbdynclass_11120208" style="position: absolute; width: 180px; left: 0px; height: 620px; top: 0px; overflow: visible; scroll-snap-type: none;"><div id="_fb_ap_unit_100_176_01_nrm" style="left: 0px; top: 0px; width: 180px; height: 620px; min-width: 180px; min-height: 620px; max-width: 180px; max-height: 620px; position: absolute; z-index: 1; pointer-events: none; display: inline;"><div><!-- template popup_overlay --><div id="pow" class="pop_overlay_wrap show" style="background: rgb(255, 255, 255);"> <div class="pop_overlay_wait"> </div> <div id="pop_overlay_shadeid" class="pop_overlay_shade"></div><div id="pop_overlay_container_id" class="pop_overlay_container" style="width: 160px; height: 600px; left: 10px; top: 10px;"><div class="pop_overlay_frame"><div class="pop_overlay_box"><div id="popad" class="pop_overlay_pad opak" style="height: 600px; width: 160px;"><div class="pop_overlay_pad_frame"><div class="pop_overlay_pad_box"><div id="pop_media_wrapper" class="pop_media_wrapper"><div id="media_container" class="media_container" style="height: 600px; width: 160px;"><div id="media_frame" class="media_frame"><div id="media_box" class="media_box idle"><div class="media_playbox" style="width: 160px; height: 600px; cursor: pointer;"><!-- ad element or video wrapper here --><iframe id="422792788167" scrolling="no" frameborder="0" class="fb_dsp_wrapper" sandbox="allow-same-origin allow-scripts allow-top-navigation-by-user-activation allow-popups" data-segnam="primochef_ros_sec_skin_gng_avail_unt_R_avail1_unt_adp_seg_bkp" data-tag="ron_dispad_160x600_fbdirect_HAIR_1" data-segid="350470809447" src="javascript:window[&quot;_fb_frm_cont&quot;]" style="width: 160px; min-width: 160px; max-width: 160px; height: 600px; min-height: 600px; max-height: 600px; position: absolute; left: 0px; top: 0px; display: inline;" src="./saved_resource(8).html"></iframe></div></div></div></div> </div></div></div><div id="pop_bottom_frameid" class="pop_bottom_frame"><div id="pop_title_box" class="pop_overlay_pad_title_box"><div id="pop_title" class="pop_overlay_pad_title">Forebase Ads</div></div><div id="pop_pb" class="progress_bar_box"><div class="progress_bar_frame"><div class="progress_bar"></div></div></div><div id="pop_quit_box" class="pop_overlay_pad_quitbox"><div id="pop_quit_icon" class="pop_overlay_pad_quiticon"></div><div id="pop_quit_text" class="pop_overlay_pad_quittext"></div></div></div></div></div></div></div></div></div></div></div></div><div id="_fb_unit_101_46" class="_fb_dbx" data-stgloc="primochef_ros::$adf_skin_gng[primochef_ros_sec_skin_gng_avail_unt_R_avail2_unt]" data-instidx="-1" data-instgrp="B" style="left: 0px; top: 0px; position: fixed; visibility: hidden; display: block; margin: 0px; padding: 0px; border: 0px; float: left; overflow: visible; transition-duration: 0s; opacity: 1; width: 180px; min-width: 180px; max-width: 180px; height: 620px; min-height: 620px; max-height: 620px; z-index: auto;"><div id="_dbx_core" class=" fbdynclass_11120208" style="position: absolute; width: 180px; left: 0px; height: 620px; top: 0px; overflow: visible; scroll-snap-type: none;"><div id="_fb_ap_unit_101_46_01_nrm" style="left: 0px; top: 0px; width: 180px; height: 620px; min-width: 180px; min-height: 620px; max-width: 180px; max-height: 620px; position: absolute; z-index: auto; pointer-events: none; display: inline;"><div><!-- template popup_overlay --><div id="pow" class="pop_overlay_wrap show" style="background: rgb(255, 255, 255);"> <div class="pop_overlay_wait"> </div> <div id="pop_overlay_shadeid" class="pop_overlay_shade"></div><div id="pop_overlay_container_id" class="pop_overlay_container" style="width: 160px; height: 600px; left: 10px; top: 10px;"><div class="pop_overlay_frame"><div class="pop_overlay_box"><div id="popad" class="pop_overlay_pad opak" style="height: 600px; width: 160px;"><div class="pop_overlay_pad_frame"><div class="pop_overlay_pad_box"><div id="pop_media_wrapper" class="pop_media_wrapper"><div id="media_container" class="media_container" style="height: 600px; width: 160px;"><div id="media_frame" class="media_frame"><div id="media_box" class="media_box idle"><div class="media_playbox" style="width: 160px; height: 600px; cursor: pointer;"><!-- ad element or video wrapper here --><iframe id="556499931008" scrolling="no" frameborder="0" class="fb_dsp_wrapper" sandbox="allow-same-origin allow-scripts allow-top-navigation-by-user-activation allow-popups" data-segnam="primochef_ros_sec_skin_gng_avail_unt_R_avail2_unt_adp_seg_bkp" data-tag="ron_dispad_160x600_fbdirect_SAFIGEST" data-segid="926833756977" src="javascript:window[&quot;_fb_frm_cont&quot;]" style="width: 160px; min-width: 160px; max-width: 160px; height: 600px; min-height: 600px; max-height: 600px; position: absolute; left: 0px; top: 0px; display: inline;" src="./saved_resource(9).html"></iframe></div></div></div></div> </div></div></div><div id="pop_bottom_frameid" class="pop_bottom_frame"><div id="pop_title_box" class="pop_overlay_pad_title_box"><div id="pop_title" class="pop_overlay_pad_title">Forebase Ads</div></div><div id="pop_pb" class="progress_bar_box"><div class="progress_bar_frame"><div class="progress_bar"></div></div></div><div id="pop_quit_box" class="pop_overlay_pad_quitbox"><div id="pop_quit_icon" class="pop_overlay_pad_quiticon"></div><div id="pop_quit_text" class="pop_overlay_pad_quittext"></div></div></div></div></div></div></div></div></div></div></div></div><div id="_fb_unit_102_771" class="_fb_dbx" data-stgloc="primochef_ros::$adf_skin_gng[primochef_ros_sec_skin_gng_avail_unt_R_avail3_unt]" data-instidx="-1" data-instgrp="B" style="left: 0px; top: 0px; position: fixed; visibility: hidden; display: block; margin: 0px; padding: 0px; border: 0px; float: left; overflow: visible; transition-duration: 0s; opacity: 1; width: 180px; min-width: 180px; max-width: 180px; height: 620px; min-height: 620px; max-height: 620px; z-index: auto;"><div id="_dbx_core" class=" fbdynclass_11120208" style="position: absolute; width: 180px; left: 0px; height: 620px; top: 0px; overflow: visible; scroll-snap-type: none;"><div id="_fb_ap_unit_102_771_01_nrm" style="left: 0px; top: 0px; width: 180px; height: 620px; min-width: 180px; min-height: 620px; max-width: 180px; max-height: 620px; position: absolute; z-index: auto; pointer-events: none; display: inline;"><div><!-- template popup_overlay --><div id="pow" class="pop_overlay_wrap show" style="background: rgb(255, 255, 255);"> <div class="pop_overlay_wait"> </div> <div id="pop_overlay_shadeid" class="pop_overlay_shade"></div><div id="pop_overlay_container_id" class="pop_overlay_container" style="width: 160px; height: 600px; left: 10px; top: 10px;"><div class="pop_overlay_frame"><div class="pop_overlay_box"><div id="popad" class="pop_overlay_pad opak" style="height: 600px; width: 160px;"><div class="pop_overlay_pad_frame"><div class="pop_overlay_pad_box"><div id="pop_media_wrapper" class="pop_media_wrapper"><div id="media_container" class="media_container" style="height: 600px; width: 160px;"><div id="media_frame" class="media_frame"><div id="media_box" class="media_box idle"><div class="media_playbox" style="width: 160px; height: 600px; cursor: pointer;"><!-- ad element or video wrapper here --><iframe id="640466426372" scrolling="no" frameborder="0" class="fb_dsp_wrapper" sandbox="allow-same-origin allow-scripts allow-top-navigation-by-user-activation allow-popups" data-segnam="primochef_ros_sec_skin_gng_avail_unt_R_avail3_unt_adp_seg_bkp" data-tag="ron_dispad_160x600_fbdirect_GALLI_SHOWER" data-segid="222451184666" src="javascript:window[&quot;_fb_frm_cont&quot;]" style="width: 160px; min-width: 160px; max-width: 160px; height: 600px; min-height: 600px; max-height: 600px; position: absolute; left: 0px; top: 0px; display: inline;" src="./saved_resource(10).html"></iframe></div></div></div></div> </div></div></div><div id="pop_bottom_frameid" class="pop_bottom_frame"><div id="pop_title_box" class="pop_overlay_pad_title_box"><div id="pop_title" class="pop_overlay_pad_title">Forebase Ads</div></div><div id="pop_pb" class="progress_bar_box"><div class="progress_bar_frame"><div class="progress_bar"></div></div></div><div id="pop_quit_box" class="pop_overlay_pad_quitbox"><div id="pop_quit_icon" class="pop_overlay_pad_quiticon"></div><div id="pop_quit_text" class="pop_overlay_pad_quittext"></div></div></div></div></div></div></div></div></div></div></div></div><div id="_fb_unit_103_451" class="_fb_dbx" data-stgloc="primochef_ros::$adf_skin_gng[primochef_ros_sec_skin_gng_avail_unt_R_avail4_unt]" data-instidx="-1" data-instgrp="B" style="left: 0px; top: 0px; position: fixed; visibility: hidden; display: block; margin: 0px; padding: 0px; border: 0px; float: left; overflow: visible; transition-duration: 0s; opacity: 1; width: 180px; min-width: 180px; max-width: 180px; height: 620px; min-height: 620px; max-height: 620px; z-index: auto;"><div id="_dbx_core" class=" fbdynclass_11120208" style="position: absolute; width: 180px; left: 0px; height: 620px; top: 0px; overflow: visible; scroll-snap-type: none;"><div id="_fb_ap_unit_103_451_01_nrm" style="left: 0px; top: 0px; width: 180px; height: 620px; min-width: 180px; min-height: 620px; max-width: 180px; max-height: 620px; position: absolute; z-index: auto; pointer-events: none; display: inline;"><div><!-- template popup_overlay --><div id="pow" class="pop_overlay_wrap show" style="background: rgb(255, 255, 255);"> <div class="pop_overlay_wait"> </div> <div id="pop_overlay_shadeid" class="pop_overlay_shade"></div><div id="pop_overlay_container_id" class="pop_overlay_container" style="width: 160px; height: 600px; left: 10px; top: 10px;"><div class="pop_overlay_frame"><div class="pop_overlay_box"><div id="popad" class="pop_overlay_pad opak" style="height: 600px; width: 160px;"><div class="pop_overlay_pad_frame"><div class="pop_overlay_pad_box"><div id="pop_media_wrapper" class="pop_media_wrapper"><div id="media_container" class="media_container" style="height: 600px; width: 160px;"><div id="media_frame" class="media_frame"><div id="media_box" class="media_box idle"><div class="media_playbox" style="width: 160px; height: 600px; cursor: pointer;"><!-- ad element or video wrapper here --><iframe id="347913525723" scrolling="no" frameborder="0" class="fb_dsp_wrapper" sandbox="allow-same-origin allow-scripts allow-top-navigation-by-user-activation allow-popups" data-segnam="primochef_ros_sec_skin_gng_avail_unt_R_avail4_unt_adp_seg_bkp" data-tag="ron_dispad_160x600_fbdirect_GALLI_OLIO" data-segid="785822610927" src="javascript:window[&quot;_fb_frm_cont&quot;]" style="width: 160px; min-width: 160px; max-width: 160px; height: 600px; min-height: 600px; max-height: 600px; position: absolute; left: 0px; top: 0px; display: inline;" src="./saved_resource(11).html"></iframe></div></div></div></div> </div></div></div><div id="pop_bottom_frameid" class="pop_bottom_frame"><div id="pop_title_box" class="pop_overlay_pad_title_box"><div id="pop_title" class="pop_overlay_pad_title">Forebase Ads</div></div><div id="pop_pb" class="progress_bar_box"><div class="progress_bar_frame"><div class="progress_bar"></div></div></div><div id="pop_quit_box" class="pop_overlay_pad_quitbox"><div id="pop_quit_icon" class="pop_overlay_pad_quiticon"></div><div id="pop_quit_text" class="pop_overlay_pad_quittext"></div></div></div></div></div></div></div></div></div></div></div></div></body></html>